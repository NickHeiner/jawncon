!function(){var e,t,n,r,i,a={7815:function(e,t,n){"use strict";var r=n(10763);e.exports={compressPayload:function(e){var t={};return Object.keys(r).forEach((function(n){var i=n,a=r[n];t[i]=e[a]})),t},expandPayload:function(e){var t={},n=Object.keys(e).filter((function(e){return-1===Object.keys(r).indexOf(e)}));return n.length&&(t.UNMATCHED={},n.forEach((function(n){t.UNMATCHED[n]=e[n]})),t.invalid=!0),Object.keys(r).forEach((function(n){var i=n,a=r[n];e[i]&&(t[a]=e[i])})),t}}},11419:function(e,t,n){var r={"./ar_001.json":[51450,1671],"./da.json":[88950,7592],"./de.json":[89044,8524],"./en_CA.json":[7801,8365],"./en_GB.json":[17376,8920],"./en_US.json":[70225,9503],"./es.json":[89175,1598],"./fi_FI.json":[40862,2377],"./fr_CA.json":[27928,7842],"./fr_FR.json":[35740,1966],"./hu.json":[8137,3565],"./it.json":[25677,3870],"./ja.json":[3058,7906],"./ko.json":[93311,6920],"./nl.json":[14069,5831],"./no.json":[2438,3018],"./pt_BR.json":[70337,6829],"./pt_PT.json":[39214,655],"./ru_RU.json":[73947,6895],"./sv.json":[78257,7330],"./zh_CN.json":[95361,5412],"./zh_TW.json":[79163,6665]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n.t(i,19)}))}i.keys=function(){return Object.keys(r)},i.id=11419,e.exports=i},85087:function(e,t,n){var r=n(88403),i=n(68984),a=n(43948),o=n(32449),s=n(69455),u=n(21433),c=n(45435),l=n(90121),h=n(16660),d=n(3243),f=n(23539),m=n(25197),p=n(76826),v=n(35655),y=n(21600),g=n(64006);e.exports={creditCard:d,applePay:p,googlePay:m,clickToPay:f,ach:a,plaid:o,paypal:c,paypalAgreement:l,venmo:h,auBecsDebit:s,ukBacs:u,acss:i,sepa:r,ideal:g,crypto:v,stock:y}},92471:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});var r=n(58238),i=n(46093),a=function(){function e(){throw(0,r.Z)(this,e),new Error("Either can not be instantiated")}return(0,i.Z)(e,null,[{key:"isFailure",value:function(e){return"Failure"===e._tag}},{key:"isSuccess",value:function(e){return"Success"===e._tag}},{key:"fail",value:function(e){return{_tag:"Failure",failureResult:e}}},{key:"success",value:function(e){return{_tag:"Success",successResult:e}}}]),e}()},24513:function(e,t,n){"use strict";n.d(t,{g:function(){return T}});var r=n(41893),i=n(58238),a=n(46093),o=n(90899),s=n.n(o),u=n(33093),c=n.n(u),l=n(973),h=n.n(l),d=n(8005),f=n.n(d),m=n(16465),p=n.n(m),v=n(50381),y=n.n(v),g=n(29406),k=n.n(g),P=n(28055),S=n(65356),E=n(60401),D=n(49924),b=n.n(D),w=n(87636),A=n.n(w),C=n(80942);function N(e,t){var n=[e/4,e/3,e/2,e,1.3*e];return 3===t.length&&(n=[e/2,e]),t=b()(t).call(t,(function(e,t){return e-t})),A()(n).call(n,(function(e,n){var r=n+1;t[r]<5e4&&(t[r]=t[r]*(1+e/100))})),t=b()(t).call(t,(function(e,t){return t-e}))}function O(e,t){return t===C.WI.ASC?b()(e).call(e,(function(e,t){return e-t})):t===C.WI.DESC?b()(e).call(e,(function(e,t){return t-e})):e}var _=function(){function e(t){(0,i.Z)(this,e),this.deviceExperimentsSettings=t.deviceExperimentsSettings}return(0,a.Z)(e,[{key:"getSuggestions",value:function(e){if(this.shouldSortSuggestions)return this.sortSuggestionsBasedOnCompanyExclusions(e)}},{key:"getAmounts",value:function(){if(this.shouldHideDefaultAmount)return this.showAmountBasedOnCompanyExclusions()}},{key:"shouldSortSuggestions",get:function(){return"ascSort"in this.deviceExperimentsSettings}},{key:"shouldHideDefaultAmount",get:function(){return"hasDefault"in this.deviceExperimentsSettings}},{key:"sortSuggestionsBasedOnCompanyExclusions",value:function(e){var t=this.deviceExperimentsSettings.ascSort?C.WI.ASC:C.WI.DESC,n=(0,r.Z)(e.once),i=(0,r.Z)(e.monthly);return{once:O(n,t),monthly:O(i,t)}}},{key:"showAmountBasedOnCompanyExclusions",value:function(){if(!this.deviceExperimentsSettings.hasDefault)return{once:null,monthly:null}}}]),e}(),T=function(){function e(t,n){var r,a;(0,i.Z)(this,e),this.currents={currency:"",currencyDigits:0,guessedCurrenciesList:[],guessedCurrency:"",amounts:{once:0,monthly:0},minAmounts:{once:0,monthly:0},isValidAmounts:{once:!1,monthly:!1},repeat:P.dy.ONCE,suggestions:{monthly:[],once:[]}},this.currencyService=n.currencyService,this.suggestionsService=n.suggestionsService;var o=this.getAmountOptions({once:t.onceDefaultAmountOptions,monthly:t.monthlyDefaultAmountOptions});this.defaults={aiEnabled:t.aiEnabled,countryCode:t.countryCode||"US",disableAmountAI:t.disableAmountAI,isCurrencyEnabled:t.isCurrencyEnabled,showcase:t.showcase,trend:t.trend,xFactor:t.xFactor,minAmounts:{once:null!==(r=t.minAmounts.once)&&void 0!==r?r:0,monthly:null!==(a=t.minAmounts.monthly)&&void 0!==a?a:0},experimentsSettings:t.experimentsSettings,isMobile:t.isMobile,isLauncher:t.isLauncher,onceAmount:t.onceDefaultAmount,monthlyAmount:t.monthlyDefaultAmount,onceAmountOptions:o.once,monthlyAmountOptions:o.monthly,currencies:t.currencies,currency:t.defaultCurrency,currencyDigits:this.currencyService.getDigits(t.defaultCurrency),repeat:t.defaultRepeat,guessCurrency:t.guessCurrency},this.previousAmountCurrency=t.defaultCurrency,this.initGuessedCurrenciesList(),this.initGuessedCurrency(),this.initCurrency(),this.initAmounts(),this.initRepeat(),this.resetMinAmounts(),this.resetAmounts(),this.applyNAIAmounts(),this.applyRoundAmounts(),this.resetSuggestions(),this.applyNAISuggestions(),this.applyRoundSuggestions(),this.applyCompanyExclusions()}return(0,a.Z)(e,[{key:"currencyDigits",get:function(){return this.currencyService.getDigits(this.currents.currency)}},{key:"needRoundSuggestions",get:function(){var e=this.defaults,t=e.aiEnabled,n=e.showcase,r=e.trend;return Boolean(t&&!n&&r)||this.defaults.currency!==this.currents.currency}},{key:"needNAIAmount",get:function(){var e=this.defaults,t=e.aiEnabled,n=e.showcase,r=e.trend,i=e.disableAmountAI;return Boolean(t&&!n&&r&&!i)}},{key:"needRoundAmounts",get:function(){return this.needNAIAmount||this.previousAmountCurrency!==this.currents.currency}},{key:"isValidAmounts",get:function(){return{once:null!==this.currents.amounts.once&&this.currents.amounts.once>=this.currents.minAmounts.once,monthly:null!==this.currents.amounts.monthly&&this.currents.amounts.monthly>=this.currents.minAmounts.monthly}}},{key:"getAmountOptions",value:function(e){var t,n;return{once:s()(t=e.once).call(t,(function(e,t){return e||S.FE.once[t]})),monthly:s()(n=e.monthly).call(n,(function(e,t){return e||S.FE.monthly[t]}))}}},{key:"initAmounts",value:function(){this.currents.amounts.once=this.defaults.onceAmount,this.currents.amounts.monthly=this.defaults.monthlyAmount}},{key:"applyNAIAmount",value:function(e){e=e===E.oe.ONCE?e:E.oe.MONTHLY;var t,n=this.currents.currency,r=this.defaults,i=r.countryCode,a=r.aiEnabled,o=r.showcase,s=r.trend,u=r.xFactor,c=r.disableAmountAI,l=r.currency,h=this.currents.amounts[e],d=this.defaults.trend[e];if(null!==h&&a&&!o&&s&&!c){var f=this.currencyService.convert(d,l,n,!1,i);((t=h)-d)/t*100>10&&(f=h-h/10),this.currents.amounts[e]=d?f:function(e,t){return t*(1+e/100)}(u,h)}}},{key:"applyNAIAmounts",value:function(){this.applyNAIAmount(E.oe.ONCE),this.applyNAIAmount(E.oe.MONTHLY)}},{key:"applyRoundAmount",value:function(e){e=e===E.oe.ONCE?e:E.oe.MONTHLY;var t=this.currents,n=t.minAmounts,r=t.currency,i=t.amounts[e];null!==i&&this.needRoundAmounts&&(this.currents.amounts[e]=this.suggestionsService.beautify(i,r,n[e]))}},{key:"applyRoundAmounts",value:function(){this.applyRoundAmount(E.oe.ONCE),this.applyRoundAmount(E.oe.MONTHLY)}},{key:"applyNAISuggestions",value:function(){var e=this.defaults,t=e.aiEnabled,n=e.showcase,r=e.trend,i=e.xFactor,a=this.currents.suggestions;t&&!n&&r&&(this.currents.suggestions.once=N(i,a.once),this.currents.suggestions.monthly=N(i,a.monthly))}},{key:"applyRoundSuggestions",value:function(){var e,t,n=this,r=this.currents,i=r.minAmounts,a=r.currency,o=r.suggestions,u=this.defaults.aiEnabled;this.needRoundSuggestions&&(this.currents.suggestions.once=this.suggestionsService.beautify(s()(e=o.once).call(e,(function(e){var t=e*n.suggestionsMultiplier;return u?Math.max(t,i.once):t})),a,i.once),this.currents.suggestions.monthly=this.suggestionsService.beautify(s()(t=o.monthly).call(t,(function(e){var t=e*n.suggestionsMultiplier;return u?Math.max(t,i.monthly):t})),a,i.monthly))}},{key:"deviceExperimentsSettings",get:function(){return this.defaults.experimentsSettings[this.defaults.isMobile?E.xR.MOBILE:E.xR.DESKTOP]}},{key:"suggestionsMultiplier",get:function(){var e=this.defaults,t=e.aiEnabled,n=e.disableAmountAI;return!e.isLauncher&&t&&!n&&this.deviceExperimentsSettings.multiplySuggestions?1.4:1}},{key:"applyCompanyExclusions",value:function(){var e=this.defaults,t=e.aiEnabled,n=e.disableAmountAI;if(t){var r=new _({deviceExperimentsSettings:this.deviceExperimentsSettings}),i=r.getSuggestions(this.currents.suggestions);if(i&&(this.currents.suggestions.once=i.once,this.currents.suggestions.monthly=i.monthly),!n){var a=r.getAmounts();a&&(this.currents.amounts.once=a.once,this.currents.amounts.monthly=a.monthly)}}}},{key:"initRepeat",value:function(){var e,t=c()(e=[E.Bx.DEFAULT_MONTHLY,E.Bx.ONLY_MONTHLY]).call(e,h()(this.defaults));this.currents.repeat=t?P.dy.MONTHLY:P.dy.ONCE}},{key:"initCurrency",value:function(){this.currents.currency=this.defaults.currency,this.currents.guessedCurrency!==this.currents.currency&&(this.previousAmountCurrency=this.currents.currency,this.currents.currency=this.currents.guessedCurrency)}},{key:"resetSuggestions",value:function(){var e=this,t=this.defaults,n=t.aiEnabled,r=t.countryCode,i=t.onceAmountOptions,a=t.monthlyAmountOptions,o=t.currency,u=this.currents.currency;this.currents.suggestions.once=s()(i).call(i,(function(t){return e.currencyService.convert(t,o,u,n,r)})),this.currents.suggestions.monthly=s()(a).call(a,(function(t){return e.currencyService.convert(t,o,u,n,r)}))}},{key:"resetAmount",value:function(e){e=e===E.oe.ONCE?e:E.oe.MONTHLY;var t=this.defaults,n=t.aiEnabled,r=t.countryCode,i=t.disableAmountAI,a=this.currents.currency,o=this.currents.amounts[e];null!==o&&(this.currents.amounts[e]=this.currencyService.convert(o,this.previousAmountCurrency,a,n&&!i,r))}},{key:"resetAmounts",value:function(){this.resetAmount(E.oe.ONCE),this.resetAmount(E.oe.MONTHLY)}},{key:"initGuessedCurrenciesList",value:function(){var e,t,n,i=this.defaults,a=i.currencies,o=i.currency,s=a.countryCurrencies[0],u=a.stripe.default,l=f()(e=a.countryCurrencies).call(e,1),h=a.langCurrencies,d=[],m=a.stripe.list;this.currents.guessedCurrenciesList=(n=y()(t=k()(d).call(d,o,s,u,l,h)).call(t,(function(e){return c()(m).call(m,e)})),(0,r.Z)(new(p())(n)))}},{key:"initGuessedCurrency",value:function(){var e=this.currents.guessedCurrenciesList,t=this.defaults,n=t.currencies,r=t.showcase,i=t.isCurrencyEnabled,a=t.guessCurrency,o=t.currency,s=n.countryCurrencies;!r&&a&&i&&s.length&&c()(e).call(e,s[0])?this.currents.guessedCurrency=s[0]:this.currents.guessedCurrency=o||"USD"}},{key:"resetMinAmounts",value:function(){var t=this.defaults,n=t.minAmounts,r=t.currency,i=this.currents.currency;this.currents.minAmounts.once=e.convertMinAmount(this.currencyService,n.once,r,i),this.currents.minAmounts.monthly=e.convertMinAmount(this.currencyService,n.monthly,r,i)}},{key:"getCurrentAmount",value:function(){return this.currents.amounts[h()(this.currents)]}},{key:"getCurrentState",value:function(){return{amounts:this.currents.amounts,currency:this.currents.currency,currencyDigits:this.currencyDigits,guessedCurrenciesList:this.currents.guessedCurrenciesList,guessedCurrency:this.currents.guessedCurrency,isValidAmounts:this.isValidAmounts,minAmounts:this.currents.minAmounts,repeat:h()(this.currents),suggestions:this.currents.suggestions}}},{key:"setRepeat",value:function(e){return this.currents.repeat=e,this}},{key:"setAmount",value:function(e){return this.currents.amounts[h()(this.currents)]=e,this.defaults.disableAmountAI=!0,this}},{key:"setAmountForRepeat",value:function(e,t){return this.currents.amounts[t]=e,this.defaults.disableAmountAI=!0,this}},{key:"setAmounts",value:function(e){return this.currents.amounts[P.dy.ONCE]=e,this.currents.amounts[P.dy.MONTHLY]=e,this.defaults.disableAmountAI=!0,this}},{key:"setCurrency",value:function(e,t){return this.previousAmountCurrency=this.currents.currency,this.currents.currency=e,this.defaults.disableAmountAI=!0,this.resetMinAmounts(),t||(this.resetAmounts(),this.applyNAIAmounts(),this.applyRoundAmounts()),this.resetSuggestions(),this.applyNAISuggestions(),this.applyRoundSuggestions(),this.applyCompanyExclusions(),this}}],[{key:"convertMinAmount",value:function(t,n,r,i){var a=Math.max(n,e.getMinInWidgetCurrency(t,r));a=t.convert(a,r,i);var o=t.getDigits(i);return Math.ceil(a/Math.pow(10,o))*Math.pow(10,o)}},{key:"getMinInWidgetCurrency",value:function(e,t){return e.convert(70,"USD",t)}}]),e}()},40776:function(e,t,n){"use strict";var r,i;n.d(t,{l:function(){return r},R:function(){return i}}),function(e){e.STRING="string",e.OBJECT="object"}(r||(r={})),function(e){e.TOP_LEVEL_DOMAIN="topLevelDomain",e.INTENT="intent",e.MESSAGE_BAR="messageBar",e.SOCIAL_PROOF="socialProof",e.POPUP="popup",e.PAGE_VIEW_AT="pageViewAt",e.PAGE_VIEW="pageView",e.USER="user",e.USER_AT="userAt",e.SESSION_AT="sessionAt",e.SESSION_PAGE="sessionPage",e.X_FACTOR="xFactor",e.LIGHTBOX="lightbox"}(i||(i={}))},10587:function(e,t,n){"use strict";n.d(t,{k:function(){return u}});var r=n(58238),i=n(46093),a=n(36004),o=n.n(a),s=function(){function e(){(0,r.Z)(this,e),this.providers=new(o()),this.cache=new(o())}return(0,i.Z)(e,[{key:"get",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.providers.get(e);if(!n)throw new Error("".concat(e," is not provided"));if(t&&this.cache.has(e))return this.cache.get(e);var r=n();return t?(this.cache.has(e)||this.cache.set(e,r),r):r}},{key:"provide",value:function(e,t){return this.providers.has(e)?(console.warn("".concat(e," has already been provided")),this):(this.providers.set(e,t),this)}}]),e}();function u(){return window.FUN_SERVICE_CONTAINER||(window.FUN_SERVICE_CONTAINER=new s),window.FUN_SERVICE_CONTAINER}},14327:function(e,t,n){"use strict";n.d(t,{O5:function(){return d},FX:function(){return f},um:function(){return m},Lb:function(){return p},f0:function(){return v},j5:function(){return y}}),n(28936);var r=n(21364),i=n(50418),a=n.n(i),o=(n(49401),n(29406)),s=n.n(o),u=(n(8005),n(26562),n(85738)),c=n.n(u),l=n(40776),h=(n(10587),n(93365),/#(.+?)(&|$)/);function d(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return{};for(var n=/([^=&#?]+)=([^=&#?]+)/gi,i={};;){var a=n.exec(e);if(!a)break;var o=(0,r.Z)(a,3),s=o[1],u=o[2];try{t?i[decodeURIComponent(s)]=decodeURIComponent(u):i[s]=u}catch(e){console.error(e)}}return i}function f(e,t){for(var n=e;;){if(t(n))return n;if(!n.parentNode)return;n=n.parentNode}}function m(e,t){if(e.getAttribute)return e.getAttribute("data-"+t)||void 0}function p(e){if(!e)return null;if(!h.test(e))return null;var t=/(#.+?)$/.exec(e);if(!t)return null;var n=t[0],r=h.exec(n);if(!r)return null;var i=r[1],o=d(n),s={key:i};return a()(s,o),s}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[];for(var r in e){var i,a,o=e[r];t?n.push(s()(i="".concat(encodeURIComponent(r),"=")).call(i,encodeURIComponent(o))):n.push(s()(a="".concat(r,"=")).call(a,o))}return n.join("&")}function y(e,t){var n=e.storage,r=0,i=n.getField(l.R.X_FACTOR);if(i)return Number(i)||0;if(!e.user)return r;try{var a=c()(),o=a-e.userCreatedAt,s=e.sessionPage,u=a-e.sessionCreatedAt;t&&(r+=10),/win/i.test(window.navigator.platform)&&(r-=10),/mac/i.test(window.navigator.platform)&&(r+=5),o>648e4&&(r+=10),o>648e4&&(r+=10),s<=2&&(r+=15),s>5&&(r+=5),u<6e3&&(r+=5),u>=18e3&&(r+=10)}catch(e){r=0,console.error(e)}return r&&n.setField(l.R.X_FACTOR,String(r)),r}},93365:function(e,t,n){"use strict";var r,i;n.d(t,{V:function(){return r},E:function(){return i}}),function(e){e.BACKDROP="backdrop",e.STATIC_CONFIG="staticConfig",e.KEYS_KEEPER="keysKeeper",e.FUN_SESSION_STORAGE="funSessionStorage",e.CHECKOUT_2="checkout2",e.EMBED_TRACKER="embedTracker",e.TRACKING_URLS="trackingUrls",e.EMBED_COMPANIES="embedCompanies",e.DEBUG="debug"}(r||(r={})),function(e){e.WIDGET="WIDGET",e.ELEMENT="ELEMENT",e.FUNDRAISING_PAGE="FUNDRAISING_PAGE"}(i||(i={}))},22438:function(e,t,n){"use strict";n.d(t,{G:function(){return s}});var r=n(8005),i=n.n(r),a=n(90899),o=n.n(a);function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:19,t=window.crypto||window.msCrypto,n="";if(t&&"function"==typeof t.getRandomValues){var r=new Uint8Array(e);t.getRandomValues(r);var a=i()([]).call(r);n=o()(a).call(a,(function(e){return e%10})).join("")}else for(var u=0;u<e;u++)n+=Math.floor(10*Math.random()).toString();return"0"!==n[0]?n:s(e)}},40732:function(e,t,n){"use strict";n.d(t,{N:function(){return O},Ke:function(){return _}});var r=n(19146),i=n.n(r),a=n(28936),o=n(21364),s=n(46093),u=n(58238),c=n(69e3),l=n(97047),h=n(76552),d=n(77425),f=n(50418),m=n.n(f),p=n(52322),v=n(18405),y=n(78936),g=n(20742),k=n(6277),P=n(2784),S=n(28316),E=n(1027),D=n(58928),b=n(46993),w=n(50496),A=n(12209);var C=function(e){(0,c.Z)(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!i())return!1;if(i().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,h.Z)(t);if(n){var a=(0,h.Z)(this).constructor;e=i()(r,arguments,a)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function a(){return(0,u.Z)(this,a),r.call(this,"triggerRef was not passed. Check documentation of UITooltip component")}return(0,s.Z)(a)}((0,d.Z)(Error)),N={top:"bottom",right:"left",bottom:"top",left:"right"},O=(0,P.forwardRef)((function(e,t){var n,r,i,s,u,c=e.triggerRef,l=e.mainAxis,h=e.crossAxis,d=e.arrowX,f=e.arrowY,O=e.fallbackPlacements,_=e.fallbackStrategy,T=e.flipAlignment,R=e.alwaysMount,I=e.qa,x=(0,b.w)(),Z=(0,P.useState)(!0),L=(0,o.Z)(Z,2),M=L[0],F=L[1],U=(0,P.useState)(!1),B=(0,o.Z)(U,2),G=B[0],H=B[1],K=x&&e.show,V=(0,D.T)(),Y=(0,P.useRef)(null),q=(0,w.nB)(),W=(0,v.YF)({whileElementsMounted:y.Me,placement:e.placement||"top",strategy:e.strategy,middleware:[(0,g.cv)(null!==(n=e.offset)&&void 0!==n?n:13),(0,g.RR)({mainAxis:l,crossAxis:h,fallbackPlacements:O,fallbackStrategy:_,flipAlignment:T}),(0,v.x7)({element:Y,padding:10})]}),j=W.x,X=W.y,z=W.reference,Q=W.floating,J=W.update,$=W.placement,ee=W.strategy,te=W.refs,ne=W.middlewareData;(0,P.useEffect)((function(){H(K&&null!==X&&null!==j)}),[K,X,j]);var re=(null===(r=ne.arrow)||void 0===r?void 0:r.x)?null!=d?d:null===(i=ne.arrow)||void 0===i?void 0:i.x:"",ie=(null===(s=ne.arrow)||void 0===s?void 0:s.y)?null!=f?f:null===(u=ne.arrow)||void 0===u?void 0:u.y:"",ae=(0,P.useCallback)((function(){F(!1)}),[]),oe=(0,P.useCallback)((function(){F(!0)}),[]);(0,P.useLayoutEffect)((function(){K&&(c.current?te.reference.current!==c.current&&z(c.current):V.captureException(new C))}),[V,z,c,te.reference,K]);var se=function(e){return N[e.split("-")[0]]}($),ue=$.split("-")[0],ce=(0,P.useCallback)((function(e){Q(e),t&&("function"==typeof t?t(e):t.current=e)}),[Q,t]),le=(0,P.useCallback)((function(e){Y.current=e,J()}),[J]),he=(0,A.r)(te.floating),de=(0,p.jsx)(E.Z,m()({in:K&&G,addEndListener:he,onEnter:ae,onExited:oe,classNames:"ui-tooltip-to-".concat(ue),nodeRef:te.floating},{children:function(t){return(0,p.jsxs)("div",m()({ref:ce,className:(0,k.Z)("ui-tooltip",e.customClass),style:{position:ee,top:null!=X?X:"",left:null!=j?j:"",maxWidth:e.maxWidth||"200px",minWidth:e.minWidth,visibility:K&&G?void 0:"exited"===t?"hidden":void 0},onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},{children:[(0,p.jsx)("div",m()({className:"ui-tooltip-body","data-qa":I},{children:e.children}),void 0),!e.withoutArrow&&(0,p.jsx)("div",{ref:le,style:(0,a.Z)({top:ie,left:re},se,"-6px"),className:"ui-tooltip-arrow"},void 0)]}),void 0)}}),void 0),fe=K||!M||R?de:null;return q.current&&!e.withoutPortal?(0,S.createPortal)(fe,q.current):fe}));O.displayName="_UIManualTooltip";var _=(0,P.memo)(O);_.whyDidYouRender=!1},41310:function(e,t,n){"use strict";n.d(t,{N:function(){return v}});var r=n(50418),i=n.n(r),a=n(52322),o=n(2784),s=n(40732),u=n(21364),c=n(33093),l=n.n(c),h=n(14327),d=n(75311),f=n(24464),m=n(20980),p=function(e){var t=e.trigger,n=e.triggerRef,r=e.hideOnTooltipClick,c=e.offset,p=e.mainAxis,v=e.crossAxis,y=e.fallbackPlacements,g=e.fallbackStrategy,k=e.flipAlignment,P=(0,o.useRef)(null),S=function(e){var t=e.trigger,n=void 0===t?[d.A.HOVER,d.A.FOCUS]:t,r=e.triggerRef,i=e.tooltipRef,a=e.hideOnTooltipClick,s=e.hoverShowDelay,c=void 0===s?0:s,p=e.hoverHideDelay,v=void 0===p?200:p,y=(0,f.R)().document,g=(0,o.useState)(!1),k=(0,u.Z)(g,2),P=k[0],S=k[1],E=(0,o.useState)(!1),D=(0,u.Z)(E,2),b=D[0],w=D[1],A=(0,o.useState)(!1),C=(0,u.Z)(A,2),N=C[0],O=C[1],_=l()(n).call(n,d.A.CLICK),T=l()(n).call(n,d.A.FOCUS),R=l()(n).call(n,d.A.HOVER),I=_&&P||R&&b||T&&N;if(_&&R)throw new Error('trigger must not have values "focus" and "click" at the same time');(0,o.useEffect)((function(){var e=r.current;if(_&&e){var t=function(t){var n=t.target;if(n){var r=!!(0,h.FX)(n,(function(t){return t===e})),o=!!(0,h.FX)(n,(function(e){return e===i.current}));S(r?function(e){return!e}:!!o&&!a)}},n=T?"mousedown":"click";return y.addEventListener(n,t),function(){y.removeEventListener(n,t)}}}),[_,T,r,i,a,y]),(0,o.useEffect)((function(){var e=r.current;if(T&&e){var t=function(){return O(!0)},n=function(){return O(!1)};return e.addEventListener("focus",t),e.addEventListener("blur",n),function(){e.removeEventListener("focus",t),e.removeEventListener("blur",n)}}}),[T,r,y]);var x=(0,m.i)((function(e){return w(e)})),Z=(0,o.useCallback)((function(){return x.set([!0],c)}),[x,c]),L=(0,o.useCallback)((function(){return x.set([!1],v)}),[x,v]);return(0,o.useEffect)((function(){var e=r.current;if(R&&e){var t=function(){return x.set([!0],c)},n=function(){return x.set([!1],v)};return e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",n),function(){e.removeEventListener("mouseenter",t),e.removeEventListener("mouseleave",n)}}}),[R,x,r,c,v]),{show:I,handleTooltipMouseEnter:Z,handleTooltipMouseLeave:L}}({trigger:t,triggerRef:n,tooltipRef:P,hideOnTooltipClick:r}),E=S.show,D=S.handleTooltipMouseEnter,b=S.handleTooltipMouseLeave;return(0,a.jsx)(s.N,i()({ref:P,show:E},e,{onMouseEnter:D,onMouseLeave:b,offset:c,mainAxis:p,crossAxis:v,fallbackPlacements:y,fallbackStrategy:g,flipAlignment:k}),void 0)},v=(0,o.memo)(p);v.whyDidYouRender=!1},75311:function(e,t,n){"use strict";var r;n.d(t,{A:function(){return r}}),function(e){e.CLICK="click",e.HOVER="hover",e.FOCUS="focus"}(r||(r={}))},89677:function(e,t,n){"use strict";n.d(t,{X:function(){return i},U:function(){return a}});var r=n(2784),i=(0,r.createContext)(null);function a(){var e=(0,r.useContext)(i);if(!e)throw new Error("currency service is not provided");return e}},24464:function(e,t,n){"use strict";n.d(t,{E:function(){return i},R:function(){return a}});var r=n(2784),i=(0,r.createContext)(null);function a(){var e=(0,r.useContext)(i);if(!e)throw new Error("iframe window is not provided");return e}},26328:function(e,t,n){"use strict";n.d(t,{E:function(){return i},S:function(){return a}});var r=n(2784),i=(0,r.createContext)(null);function a(){var e=(0,r.useContext)(i);if(null===e)throw new Error("Is mobile flag is not provided");return e}},30832:function(e,t,n){"use strict";n.d(t,{D:function(){return i},n:function(){return a}});var r=n(2784),i=(0,r.createContext)(null);function a(){var e=(0,r.useContext)(i);if(!e)throw new Error("Resolved checkout data is not provided");return e}},58928:function(e,t,n){"use strict";n.d(t,{E:function(){return i},T:function(){return a}});var r=n(2784),i=(0,r.createContext)(null);function a(){var e=(0,r.useContext)(i);if(!e)throw new Error("SentryService is not provided");return e}},83830:function(e,t,n){"use strict";n.d(t,{f:function(){return i},Q:function(){return a}});var r=n(2784),i=(0,r.createContext)(null);function a(){var e=(0,r.useContext)(i);if(!e)throw new Error("Tracker is not provided");return e}},46993:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var r=n(76359),i=n(98466);function a(){var e=(0,r.r)(),t=(0,i.Y)();return e&&!1!==t}},76359:function(e,t,n){"use strict";n.d(t,{s:function(){return i},r:function(){return a}});var r=n(2784),i=(0,r.createContext)(!1);function a(){return(0,r.useContext)(i)}},98466:function(e,t,n){"use strict";n.d(t,{z:function(){return i},Y:function(){return a}});var r=n(2784),i=(0,r.createContext)(null);function a(){return(0,r.useContext)(i)}},9358:function(e,t,n){"use strict";n.d(t,{fC:function(){return r},RA:function(){return a},DD:function(){return o}});var r,i=n(2784);!function(e){e.SHOULD_SHOW="should-show",e.SHOULD_HIDE="should-hide",e.WAS_HIDDEN="was-hidden"}(r||(r={}));var a=(0,i.createContext)(null);function o(){var e=(0,i.useContext)(a);if(!e)throw new Error("View event emitter was not provided");return e}},97727:function(e,t,n){"use strict";n.d(t,{K:function(){return S}});var r,i=n(19146),a=n.n(i),o=n(58238),s=n(46093),u=n(69e3),c=n(97047),l=n(76552),h=n(98189),d=n.n(h),f=n(15729);!function(e){e.PENDING_STATE_CHANGED="pendingStateChanged",e.SUBMIT="submit",e.SKIP="skip"}(r||(r={}));var m=n(16465),p=n.n(m),v=n(87636),y=n.n(v),g=n(54496),k=n.n(g);var P=function(e){(0,u.Z)(h,e);var t,n,i=(t=h,n=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var i=(0,l.Z)(this).constructor;e=a()(r,arguments,i)}else e=r.apply(this,arguments);return(0,c.Z)(this,e)});function h(e,t,n){var r,a=t.name;return(0,o.Z)(this,h),(r=i.call(this)).flow=e,r.debug=n,r.canSubmit=!1,r.canSkip=!1,r._pending=!1,r.updateListeners=new(p()),r.name=a,r}return(0,s.Z)(h,[{key:"data",get:function(){return{}}},{key:"pending",get:function(){return this._pending},set:function(e){this._pending=e,this.emit(r.PENDING_STATE_CHANGED,this._pending)}},{key:"dispose",value:function(){this.removeUpdateListeners(),this.removeAllListeners()}},{key:"onUpdate",value:function(e){this.updateListeners.add(e)}},{key:"removeUpdateListener",value:function(e){this.updateListeners.delete(e)}},{key:"beforeLeave",value:function(e){return d().resolve()}},{key:"beforeEnter",value:function(){return d().resolve()}},{key:"getScreenData",value:function(){return{}}},{key:"leave",value:function(){return this.flow.next()}},{key:"submit",value:function(){this.emit(r.SUBMIT)}},{key:"skip",value:function(){this.emit(r.SKIP)}},{key:"syncUpdate",value:function(){this.triggerUpdate()}},{key:"update",value:function(){this.scheduleUpdate()}},{key:"triggerUpdate",value:function(){var e;y()(e=this.updateListeners).call(e,(function(e){return e()}))}},{key:"scheduleUpdate",value:function(){var e=this;void 0!==this.updateTimeout&&window.clearTimeout(this.updateTimeout),this.updateTimeout=k()((function(){e.triggerUpdate()}),h.UPDATE_DEBOUNCE_MS)}},{key:"removeUpdateListeners",value:function(){this.updateListeners.clear()}}]),h}(n(18873).v);P.UPDATE_DEBOUNCE_MS=250;var S=function(e){(0,u.Z)(h,e);var t,n,i=(t=h,n=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var i=(0,l.Z)(this).constructor;e=a()(r,arguments,i)}else e=r.apply(this,arguments);return(0,c.Z)(this,e)});function h(e){var t,n=e.flow,a=e.name,s=e.checkoutService,u=e.debug,c=e.intl,l=e.subscriptionPeriodLabelsService,d=e.addressService,m=e.currencyService;return(0,o.Z)(this,h),(t=i.call(this,n,{name:a},u)).checkoutService=s,t.intl=c,t.subscriptionPeriodLabelsService=l,t.addressService=d,t.currencyService=m,t.viewState=(0,f.ZP)(t.getInitialViewState(),(function(e){return e})),t.on(r.PENDING_STATE_CHANGED,(function(e){"boolean"==typeof e&&t.setLocked(e)})),t}return(0,s.Z)(h,[{key:"getScreenData",value:function(){return this.viewState}},{key:"leave",value:function(e){return this.name!==this.flow.getCurrentScreen().name?d().resolve():this.flow.next({allowMandatory:this.checkoutService.shouldFindMandatoryScreen,direction:e})}},{key:"produceViewState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.viewState=(0,f.ZP)(this.viewState,e),t||this.syncUpdate()}},{key:"setLocked",value:function(e){e?(this.flow.lock(),this.produceViewState((function(e){e.locked=!0}))):(this.flow.unlock(),this.produceViewState((function(e){e.locked=!1})))}}]),h}(P)},77157:function(e,t,n){"use strict";var r;n.d(t,{Z:function(){return r}}),function(e){e.PENDING="pending",e.SUCCESS="success",e.ERROR="error",e.IDLE="idle"}(r||(r={}))},3322:function(e,t,n){"use strict";n.d(t,{wn:function(){return a},kw:function(){return i},YE:function(){return r},UB:function(){return o}});var r=2e3,i=5e3,a=8,o=9},13861:function(e,t,n){"use strict";n.d(t,{Sb:function(){return a},ix:function(){return o},LO:function(){return s},EV:function(){return u}});var r=n(21364),i=n(2784),a=(0,i.createContext)(null);function o(){var e=(0,i.useContext)(a);if(!e)throw new Error("FlowManager is not provided");return e}function s(e){var t=o(),n=(0,i.useState)((function(){return t.getCurrentFlow("useScreenController.useState").getScreen(e)})),a=(0,r.Z)(n,2),s=a[0],u=a[1];return(0,i.useEffect)((function(){var n=t.getCurrentFlow("useScreenController.useEffect"),r=t.onScreenChanged((function(){u(n.getScreen(e))})),i=t.onFlowChanged((function(){var r=t.getCurrentFlow("useScreenController.onFlowChanged");r.checkHasScreen(e)&&(n=r)}));return function(){i(),r()}}),[t,e]),s}function u(e){var t,n,a,o,u,c=s(e);return{controller:c,state:(t=c,n=(0,i.useState)((function(){return t.getScreenData()})),a=(0,r.Z)(n,2),o=a[0],u=a[1],(0,i.useEffect)((function(){var e=function(){return u(t.getScreenData())};return e(),t.onUpdate(e),function(){return t.removeUpdateListener(e)}}),[t]),o)}}},50496:function(e,t,n){"use strict";n.d(t,{Og:function(){return i},nB:function(){return a},pG:function(){return o},Ep:function(){return s}});var r=n(2784),i=(0,r.createContext)(null);function a(){var e=(0,r.useContext)(i);if(!e)throw new Error("Portal ref was not provided");return e}var o=(0,r.createContext)(null);function s(){var e=(0,r.useContext)(o);if(!e)throw new Error("Portal ref was not provided");return e}},39364:function(e,t,n){"use strict";var r=n(19146),i=n.n(r),a=n(58238),o=n(46093),s=n(69e3),u=n(97047),c=n(76552);var l=function(e){(0,s.Z)(l,e);var t,n,r=(t=l,n=function(){if("undefined"==typeof Reflect||!i())return!1;if(i().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var a=(0,c.Z)(this).constructor;e=i()(r,arguments,a)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function l(e,t){var n;return(0,a.Z)(this,l),(n=r.call(this,e)).resolvedCheckoutData=e,n.currencyService=t,n.isEnabled=!0,n.isRequired=!0,n}return(0,o.Z)(l,[{key:"getCurrencyName",value:function(e){return this.currencyService.getName(e)}}]),l}(n(76297).h);t.Z=l},1835:function(e,t,n){"use strict";var r,i,a;n.d(t,{nn:function(){return r},W_:function(){return i},bm:function(){return a}}),function(e){e.COMMENT="comment",e.MAILING_ADDRESS="mailing-address",e.PRIVACY="privacy",e.THANK_YOU="thank-you",e.REMIND_ME="email-ask",e.QUESTIONS="questions"}(r||(r={})),function(e){e.PERSONAL_INFORMATION="PersonalInformation",e.MAILING_ADDRESS="MailingAddress",e.MAILING_LIST_SUBSCRIPTION="MailingListSubscription",e.TRIBUTE="Tribute",e.DESIGNATION="Designation",e.QUESTIONS="Questions",e.PHONE_NUMBER="PhoneNumber",e.TERMS_AND_CONDITIONS="TermsAndConditions",e.REMIND_ME_LATER="RemindMeLater",e.ON_BEHALF_OF="OnBehalfOf",e.DONATE_ANONYMOUS="DonateAnonymous",e.CUSTOMER_TITLE="CustomerTitle",e.COMMENT="Comment"}(i||(i={})),function(e){e.SHARING="Sharing",e.TRIBUTE="Tribute",e.DEFAULT="Default"}(a||(a={}))},67193:function(e,t,n){"use strict";n.r(t),n.d(t,{CryptoDonationDataPoint:function(){return p}});var r=n(19146),i=n.n(r),a=n(58238),o=n(46093),s=n(69e3),u=n(97047),c=n(76552),l=n(973),h=n.n(l),d=n(60401),f=n(39364),m=n(35836);var p=function(e){(0,s.Z)(l,e);var t,n,r=(t=l,n=function(){if("undefined"==typeof Reflect||!i())return!1;if(i().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var a=(0,c.Z)(this).constructor;e=i()(r,arguments,a)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function l(e,t,n){var i;return(0,a.Z)(this,l),(i=r.call(this,e,t)).resolvedCheckoutData=e,i.currencyService=t,i.suggestionsService=n,i.isEnabled=!0,i.isRequired=!0,i.currency="BTC",i.defaultCurrency="BTC",i.amount=0,i.defaultAmountInFiat=0,i.canModifyAmount=!0,i.canSelectCurrency=!0,i.setAmountByDefault(i.defaultCurrency),i}return(0,o.Z)(l,[{key:"setAmountByDefault",value:function(e){var t=this.currencyService.convert(this.defaultAmount,"USD",e),n=this.currencyService.toFloat(t,e),r=n<10?this.getAmountByDefaultMultiplier(n):1;this.amount=this.beautify(t*r,e)/r,this.defaultAmountInFiat=this.amountInDefaultFiat}},{key:"repeat",get:function(){return d.oe.ONCE}},{key:"validate",value:function(){var e=this.validateMinAmount(),t={isValid:e,errors:{min:!e}};return{isValid:t.isValid,fields:{amount:t}}}},{key:"toObject",value:function(){return{amount:this.amount,total:this.amount,currency:this.currency,repeat:h()(this)}}},{key:"collectTo",value:function(e){return(0,m.Ss)(e),e.onCryptoCurrencyDataPointCollect(),this}},{key:"validateMinAmount",value:function(){return!!this.amountInUSD&&this.amountInUSD>=this.minAmount}},{key:"minAmount",get:function(){return 100}},{key:"defaultAmount",get:function(){return 5e5}},{key:"total",get:function(){return this.amount}},{key:"amountInUSD",get:function(){return this.amount?this.currencyService.convert(this.amount,this.currency,"USD"):null}},{key:"totalInUSD",get:function(){return this.currencyService.convert(this.total,this.currency,"USD")}},{key:"defaultFiatCurrency",get:function(){return this.resolvedCheckoutData.campaign().defaultCurrency}},{key:"amountInDefaultFiat",get:function(){return this.currencyService.convert(this.amount||0,this.currency,this.defaultFiatCurrency)}},{key:"totalInDefaultCurrency",get:function(){return this.total}},{key:"getDefaultAmountsInCurrency",value:function(){return this.total}},{key:"currencyNetworkData",get:function(){return this.currencyService.getCryptoCurrency(this.currency)}},{key:"currencyList",get:function(){var e=this.resolvedCheckoutData.company().cryptoProvider;return e?this.currencyService.getCurrencyCodesBySource(e):["BTC"]}},{key:"getAmountByDefaultMultiplier",value:function(e){var t=-Math.floor(Math.log(e));return Math.pow(10,1+t)}},{key:"beautify",value:function(e,t){return this.suggestionsService.beautify(e,t)}}]),l}(f.Z);t.default=p},51198:function(e,t,n){"use strict";var r,i;n.d(t,{a:function(){return r},p:function(){return i}}),function(e){e.CRYPTO_CURRENCY="crypto-currency",e.CRYPTO_WALLET="crypto-wallet"}(r||(r={})),function(e){e.DONATION="Donation"}(i||(i={}))},35836:function(e,t,n){"use strict";n.d(t,{xG:function(){return u},Ss:function(){return c},ak:function(){return l}});var r=n(33093),i=n.n(r),a=n(1835),o=n(51198),s=[o.a.CRYPTO_CURRENCY,o.a.CRYPTO_WALLET,a.nn.COMMENT,a.nn.PRIVACY,a.nn.THANK_YOU,a.nn.REMIND_ME,a.nn.MAILING_ADDRESS,a.nn.QUESTIONS];function u(e){if(!i()(s).call(s,e))throw new Error("Crypto checkout screen is expected")}function c(e){if(void 0===e.onCryptoCurrencyDataPointCollect)throw new Error("Expected checkout state to be ICheckoutStateWithCryptoCurrency")}function l(e){return i()(s).call(s,e)}},44411:function(e,t,n){"use strict";n.d(t,{c:function(){return l}});var r=n(19146),i=n.n(r),a=n(46093),o=n(58238),s=n(69e3),u=n(97047),c=n(76552);var l=function(e){(0,s.Z)(l,e);var t,n,r=(t=l,n=function(){if("undefined"==typeof Reflect||!i())return!1;if(i().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var a=(0,c.Z)(this).constructor;e=i()(r,arguments,a)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function l(){return(0,o.Z)(this,l),r.apply(this,arguments)}return(0,a.Z)(l)}(n(97727).K)},55521:function(e,t,n){"use strict";n.r(t),n.d(t,{EACHAccountType:function(){return r}});var r,i=n(19146),a=n.n(i),o=n(58238),s=n(46093),u=n(69e3),c=n(97047),l=n(76552),h=n(79168),d=n(76297),f=n(4444);!function(e){e.INDIVIDUAL="individual",e.COMPANY="company"}(r||(r={}));var m=function(e){(0,u.Z)(d,e);var t,n,i=(t=d,n=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var i=(0,l.Z)(this).constructor;e=a()(r,arguments,i)}else e=r.apply(this,arguments);return(0,c.Z)(this,e)});function d(){var e;return(0,o.Z)(this,d),(e=i.apply(this,arguments)).routingNumber="",e.accountNumber="",e.accountHolderName="",e.accountType=r.INDIVIDUAL,e}return(0,s.Z)(d,[{key:"isEnabled",get:function(){return!0}},{key:"isRequired",get:function(){return!1}},{key:"toObject",value:function(){var e=this.validate();if(!e.isValid)throw new f.F(e);return{routingNumber:this.routingNumber,accountNumber:this.accountNumber,accountHolderName:this.accountHolderName,accountType:this.accountType}}},{key:"validate",value:function(){var e=this.isRoutingNumberValid(),t=this.isAccountNumberValid(),n=this.isAccountHolderNameValid();return{isValid:e&&t&&n,fields:{routingNumber:{isValid:e},accountNumber:{isValid:t},accountHolderName:{isValid:n}}}}},{key:"isRoutingNumberValid",value:function(){return!(!this.routingNumber||this.routingNumber.length!==h.m.EQ)}},{key:"isAccountNumberValid",value:function(){return!!(this.accountNumber&&this.accountNumber.length>=h.P.MIN&&this.accountNumber.length<=h.P.MAX)}},{key:"isAccountHolderNameValid",value:function(){return!0}}]),d}(d.h);t.default=m},72210:function(e,t,n){"use strict";n.r(t),n.d(t,{FiatDonationDataPoint:function(){return b}});var r=n(19146),i=n.n(r),a=n(41893),o=n(58238),s=n(46093),u=n(69e3),c=n(97047),l=n(76552),h=n(973),d=n.n(h),f=n(33093),m=n.n(f),p=n(24513),v=n(14327),y=n(60401),g=n(28055),k=n(3322),P=n(39364),S=n(66429),E=n(62355),D=n(72320);var b=function(e){(0,u.Z)(h,e);var t,n,r=(t=h,n=function(){if("undefined"==typeof Reflect||!i())return!1;if(i().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,l.Z)(t);if(n){var a=(0,l.Z)(this).constructor;e=i()(r,arguments,a)}else e=r.apply(this,arguments);return(0,c.Z)(this,e)});function h(e,t,n,i,a){var s;return(0,o.Z)(this,h),(s=r.call(this,e,t)).resolvedCheckoutData=e,s.currencyService=t,s.suggestionsService=n,s.userSession=i,s.transactionCosts=a,s._defaultAmount=null,s._useRepeat=!1,s.isEnabled=!0,s.isRequired=!0,s}return(0,s.Z)(h,[{key:"defaultAmount",get:function(){return this._defaultAmount}},{key:"hideMinAmountError",get:function(){return null===this.amount&&null===this._defaultAmount}},{key:"amount",get:function(){return this.exchequer.getCurrentAmount()},set:function(e){this.exchequer.setAmounts(e),this.checkForAmountDefault(e)}},{key:"checkForAmountDefault",value:function(e){this._defaultAmount=this.getDefaultAmountsInCurrency(d()(this)),this._defaultAmount===e&&(this.exchequer.setAmountForRepeat(this.getDefaultAmountsInCurrency(y.oe.ONCE),g.dy.ONCE),this.exchequer.setAmountForRepeat(this.getDefaultAmountsInCurrency(y.oe.MONTHLY),g.dy.MONTHLY))}},{key:"totalInUSD",get:function(){return this.currencyService.convert(this.total,this.currency,"USD")}},{key:"totalInDefaultCurrency",get:function(){return this.currencyService.convert(this.total,this.currency,this.defaultCurrency)}},{key:"getTotalInCustomCurrency",value:function(e){return this.currencyService.convert(this.total,this.currency,e)}},{key:"fee",get:function(){return this.transactionCosts.getFee(this.amount||0,this.currency)}},{key:"processingFee",get:function(){return this.transactionCosts.getProcessingFee(this.amount||0,this.currency)}},{key:"isMonthlyAnnual",get:function(){return(0,D.OB)(this.resolvedCheckoutData.campaignSettings().key)}},{key:"isRecurring",get:function(){return d()(this)!==y.oe.ONCE}},{key:"useRepeat",set:function(e){this._useRepeat=e}},{key:"repeat",get:function(){var e=d()(this.exchequer.getCurrentState());return(0,D.$j)(this.resolvedCheckoutData.campaignSettings().key,e)},set:function(e){var t=(0,D.L6)(this.resolvedCheckoutData.campaignSettings().key,e);this.exchequer.setRepeat(t),this.checkForAmountDefault(this.amount),e===y.oe.ONCE||this.canSelectCurrency||(this.currency=this.defaultCurrency)}},{key:"repeatOrigin",get:function(){return this._useRepeat?d()(this):d()(this)===this.onceRepeat?this.onceRepeat:this.monthlyRepeat}},{key:"currency",get:function(){return this.exchequer.getCurrentState().currency},set:function(e){var t=this.getDefaultAmountsInCurrency(d()(this))!==this.amount;this.exchequerWithDefaults.setCurrency(e),this.exchequer.setCurrency(e,t),this._defaultAmount=this.getDefaultAmountsInCurrency(d()(this))}},{key:"getDefaultAmountsInCurrency",value:function(e){return(0,E.xZ)(e)?this.exchequerWithDefaults.getCurrentState().amounts[e]:this.exchequerWithDefaults.getCurrentState().amounts[y.oe.MONTHLY]}},{key:"amountOptions",get:function(){var e=(0,D.L6)(this.resolvedCheckoutData.campaignSettings().key,d()(this));return this.exchequer.getCurrentState().suggestions[e]}},{key:"getAmountOptions",value:function(e){return(0,E.xZ)(e)?this.exchequer.getCurrentState().suggestions[e]:this.exchequer.getCurrentState().suggestions[y.oe.MONTHLY]}},{key:"minAmount",get:function(){return this.getMinAmount(d()(this))}},{key:"getMinAmount",value:function(e){return(0,E.xZ)(e)?this.exchequer.getCurrentState().minAmounts[e]:this.exchequer.getCurrentState().minAmounts[y.oe.MONTHLY]}},{key:"externalCheckoutData",get:function(){return this.resolvedCheckoutData.getExternalConfig().checkoutData||{}}},{key:"canModifyAmount",get:function(){var e;if(!1===this.externalCheckoutData.modifyAmount)return!1;if(!1===this.resolvedCheckoutData.queryParams.modifyAmount)return!1;var t=null===(e=this.resolvedCheckoutData.getExternalConfig().checkoutIntent)||void 0===e?void 0:e.checkoutSettings;return!t||"boolean"!=typeof t.modifyAmount||t.modifyAmount}},{key:"externalAmount",get:function(){return this.externalCheckoutData.amount||this.resolvedCheckoutData.queryParams.amount}},{key:"canSelectCurrency",get:function(){return!!this.resolvedCheckoutData.campaign().currencyEnabled&&(d()(this)===y.oe.ONCE?this.resolvedCheckoutData.campaign().currencyEnabled:this.resolvedCheckoutData.campaign().currencyEnabledRecurrings)}},{key:"defaultCurrency",get:function(){return this.resolvedCheckoutData.campaign().defaultCurrency}},{key:"currencySymbol",get:function(){return this.currencyService.getSymbol(this.currency)}},{key:"isFeeIncluded",get:function(){return this.includeFees===y.__.DEFAULT_YES||this.includeFees===y.__.ONLY_YES}},{key:"defaultSubscriptionPeriod",get:function(){return(0,D.PR)(this.resolvedCheckoutData.campaignSettings().key)}},{key:"defaultRepeat",get:function(){var e=this.resolvedCheckoutData.queryParams.recurring;if(e)return e===g.dy.MONTHLY?y.Bx.DEFAULT_MONTHLY:y.Bx.DEFAULT_ONETIME;var t=this.externalCheckoutData.recurring;return t?t===g.dy.MONTHLY?y.Bx.DEFAULT_MONTHLY:y.Bx.DEFAULT_ONETIME:this.resolvedCheckoutData.campaign().defaultRepeat}},{key:"exchequer",get:function(){return this._exchequer||(this._exchequer=this.getExchequer()),this._exchequer}},{key:"exchequerWithDefaults",get:function(){return this._exchequerWithDefaults||(this._exchequerWithDefaults=this.getExchequer()),this._exchequerWithDefaults}},{key:"guessCurrency",get:function(){return this.resolvedCheckoutData.campaign().guessCurrency}},{key:"_onceRepeat",get:function(){var e=this.resolvedCheckoutData.campaignSettings().key;return(0,D.$j)(e,y.oe.ONCE)}},{key:"onceRepeat",get:function(){return this._onceRepeat===y.oe.ONCE?y.oe.ONCE:this._onceRepeat}},{key:"_monthlyRepeat",get:function(){var e=this.resolvedCheckoutData.campaignSettings().key;return(0,D.$j)(e,y.oe.MONTHLY)}},{key:"monthlyRepeat",get:function(){return this._monthlyRepeat===y.oe.MONTHLY?this.resolvedCheckoutData.campaign().subscriptionPeriod:this._monthlyRepeat}},{key:"onceDefaultAmount",get:function(){return this.resolvedCheckoutData.campaign().defaultAmount[this._onceRepeat]}},{key:"monthlyDefaultAmount",get:function(){return this.resolvedCheckoutData.campaign().defaultAmount[this._monthlyRepeat]}},{key:"onceDefaultAmountOptions",get:function(){return this.resolvedCheckoutData.campaign().amountOptions[this._onceRepeat]}},{key:"monthlyDefaultAmountOptions",get:function(){return this.resolvedCheckoutData.campaign().amountOptions[this._monthlyRepeat]}},{key:"getExchequer",value:function(){var e=this.resolvedCheckoutData.campaign(),t=this.resolvedCheckoutData.user(),n=this.resolvedCheckoutData.config(),r=this.resolvedCheckoutData.company(),i=(0,v.j5)(this.userSession,this.isMobile),o=!(!this.resolvedCheckoutData.launcherParams.key&&!this.resolvedCheckoutData.launcherParams.elementKey),s=new p.g({isLauncher:o,experimentsSettings:e.experimentsSettings,isMobile:this.isMobile,aiEnabled:e.enableAI,guessCurrency:this.guessCurrency,defaultCurrency:this.defaultCurrency,onceDefaultAmount:this.onceDefaultAmount,monthlyDefaultAmount:this.monthlyDefaultAmount,countryCode:t.address.countryCode||"US",isCurrencyEnabled:e.currencyEnabled,minAmounts:{once:e.minAmount.once,monthly:e.minAmount.monthly},onceDefaultAmountOptions:this.onceDefaultAmountOptions,monthlyDefaultAmountOptions:this.monthlyDefaultAmountOptions,defaultRepeat:this.defaultRepeat,currencies:{langCurrencies:(0,a.Z)(n.currencies.langCurrencies)||[],countryCurrencies:(0,a.Z)(n.currencies.countryCurrencies)||[],stripe:{default:r.stripeCurrencies.default,list:(0,a.Z)(r.stripeCurrencies.list)}},trend:e.trend,disableAmountAI:this.resolvedCheckoutData.disableAmountAI,xFactor:i,showcase:this.resolvedCheckoutData.infrastructureParams.showcase},{currencyService:this.currencyService,suggestionsService:this.suggestionsService});if(this.externalAmount)if(this.externalCheckoutData.currency)s.setCurrency(this.externalCheckoutData.currency),s.setAmount(this.externalAmount);else{var u=s.getCurrentState().currency;s.setCurrency(e.defaultCurrency),s.setAmount(this.externalAmount),s.setCurrency(u)}return this._defaultAmount=s.getCurrentAmount(),s}},{key:"total",get:function(){return this.transactionCosts.getTotal(this.amount||0,this.currency)}},{key:"toObject",value:function(){return{amount:this.amount||0,currency:this.currency,repeat:this.repeatOrigin,repeatLegacy:d()(this),total:this.total,publicFee:this.processingFee,isFeeIncluded:this.isFeeIncluded,minMonthlyAmount:this.getMinAmount(y.oe.MONTHLY),amountOptions:this.amountOptions}}},{key:"validateMinAmount",value:function(){return!!this.amount&&this.amount>=this.minAmount}},{key:"validateMaxAmount",value:function(){return!!this.amount&&this.amount.toString().length<=k.wn}},{key:"collectTo",value:function(e){return(0,S.me)(e),e.onDonationDataPointCollected(),this}},{key:"currencyList",get:function(){return(0,a.Z)(this.resolvedCheckoutData.company().stripeCurrencies.list)}},{key:"guessedCurrencyList",get:function(){return this._guessedCurrencyList||(this._guessedCurrencyList=this.exchequer.getCurrentState().guessedCurrenciesList),this._guessedCurrencyList}},{key:"includeFees",get:function(){return this.transactionCosts.includeFees}},{key:"isFeeCovered",get:function(){return this.transactionCosts.isCovered},set:function(e){this.transactionCosts.isCovered=e}},{key:"isMobile",get:function(){return this.resolvedCheckoutData.infrastructureParams.isMobile}},{key:"canModifyRepeat",get:function(){var e,t=this.resolvedCheckoutData.campaign().defaultRepeat;return m()(e=[y.Bx.DEFAULT_ONETIME,y.Bx.DEFAULT_MONTHLY]).call(e,t)}},{key:"validate",value:function(){var e=this.validateMinAmount(),t=this.validateMaxAmount(),n={isValid:e&&t,errors:{min:!e,max:!t}};return{isValid:n.isValid,fields:{amount:n}}}},{key:"amountInUSD",get:function(){return this.amount?this.currencyService.convert(this.amount,this.currency,"USD"):null}},{key:"calculateSmartCoveringFee",value:function(){if(this.resolvedCheckoutData.campaign().smartCoveringFeeEnabled){var e=this.amountInUSD||0;d()(this)===y.oe.ONCE&&e>=1e5?this.isFeeCovered=!1:this.isFeeCovered=!0}}}]),h}(P.Z);t.default=b},50247:function(e,t,n){"use strict";var r;n.d(t,{H:function(){return r}}),function(e){e.BANK="bank",e.ACH="ach",e.PLAID="plaid",e.CARD="creditCard",e.APPLE_PAY="applePay",e.GOOGLE_PAY="googlePay",e.CLICK_TO_PAY="clickToPay",e.SEPA="sepa",e.PAYPAL="paypal",e.AU_BECS="auBecsDebit",e.UK_BACS="ukBacs",e.VENMO="venmo",e.ACSS="acss",e.PAYPAL_CONVERSION="paypalConversion"}(r||(r={}))},91497:function(e,t,n){"use strict";var r,i;n.d(t,{e:function(){return r},t:function(){return i}}),function(e){e.ACH="ach",e.ACH_GUIDE="ach-guide",e.AU_BECS="au-becs",e.CLICK_TO_PAY_SPLASH="click-to-pay-splash",e.CREDIT_CARD="credit-card",e.DONATE="donate",e.DOUBLE="double",e.GIFT_AID="gift-aid",e.LINK_TO_BANK="link-to-bank",e.PAYMENT_OPTIONS="payment-options",e.PAYPAL_CONVERSION="paypal-conversion",e.POST_DONATION_UPSELL="post-donation-upsell",e.SEPA="sepa",e.UK_BACS="uk-bacs",e.UK_BACS_CONFIRMATION="uk-bacs-confirmation",e.UPSELL="upsell"}(r||(r={})),function(e){e.DONATION="Donation",e.GIFT_AID="GiftAid",e.PAYMENT_OPTIONS="PaymentOptions",e.PRE_DONATION_UPSELL="PreDonationUpsell",e.UK_BACS="UKBacs",e.ACH="ACH",e.POST_DONATION_UPSELL="PostDonationUpsell",e.DTD="DTD",e.PAYPAL_CONVERSION="PaypalConversion"}(i||(i={}))},13283:function(e,t,n){"use strict";var r;n.d(t,{g:function(){return r}}),function(e){e.CARD_NUMBER="cardNumber",e.CARD_EXPIRY="cardExpiry",e.CARD_CVC="cardCvc",e.AU_BANK_ACCOUNT="auBankAccount",e.IBAN="iban"}(r||(r={}))},18238:function(e,t,n){"use strict";n.d(t,{H:function(){return r},L:function(){return R}});var r,i=n(19146),a=n.n(i),o=n(28936),s=n(21364),u=n(58238),c=n(46093),l=n(4983),h=n(69e3),d=n(97047),f=n(76552),m=n(20261),p=n.n(m),v=n(98189),y=n.n(v),g=n(36065),k=n.n(g),P=n(11052),S=n.n(P),E=n(5163),D=n(92471),b=n(33958),w=n.n(b),A=n(60401),C=n(77157),N=n(3322),O=n(91497),_=n(44411),T=n(6039);!function(e){e.CONTINUE="continue",e.AMOUNT_MATCHED="amount_matched",e.UPSELL_PAY_NOW="upsell_pay_now",e.UPSELL_PAY_LATER="upsell_pay_later"}(r||(r={}));var R=function(e){(0,h.Z)(m,e);var t,n,i=(t=m,n=function(){if("undefined"==typeof Reflect||!a())return!1;if(a().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,f.Z)(t);if(n){var i=(0,f.Z)(this).constructor;e=a()(r,arguments,i)}else e=r.apply(this,arguments);return(0,d.Z)(this,e)});function m(){return(0,u.Z)(this,m),i.apply(this,arguments)}return(0,c.Z)(m,[{key:"beforeEnter",value:function(){return(0,E.mG)(this,void 0,void 0,p().mark((function e(){var t,n,r,i,a,o,u,c,l,h=this;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().all([this.checkoutService.getDataPoint(O.t.DTD),this.checkoutService.getDataPoint(O.t.DONATION)]);case 2:t=e.sent,n=(0,s.Z)(t,2),r=n[0],i=n[1],this._dtdDataPoint=r,this._donationDataPoint=i,this.checkoutService.restoreDTDUpsellFromSnapshot(),this.dtdDataPoint.setAmount(this.donationDataPoint.total),this.dtdDataPoint.setCurrency(this.donationDataPoint.currency),this.dtdDataPoint.reject(),a=this.intl.formatCurrency(this.donationDataPoint.total,{currency:this.donationDataPoint.currency,display:"floatcents"}),o=this.intl.formatCurrency(this.dtdDataPoint.upsellTotal,{currency:this.donationDataPoint.currency,display:"floatcents"}),u="",c="",l="",this.donationDataPoint.isRecurring&&this.donationDataPoint.monthlyRepeat!==A.oe.ONCE?(u=this.intl.translate("doubleDonationScreen.donateButtonLabel.recurring",{amount:a,recurringType:this.recurringTypes[this.donationDataPoint.monthlyRepeat]}),c=this.intl.translate("doubleDonationScreen.buttons.changeAmount.recurring",{amount:o,recurringType:this.recurringTypes[this.donationDataPoint.monthlyRepeat]}),l=this.intl.translate("doubleDonationScreen.buttons.doNotChangeAmount.recurring",{amount:a,recurringType:this.recurringTypes[this.donationDataPoint.monthlyRepeat]})):(u=this.intl.translate("doubleDonationScreen.donateButtonLabel.once",{amount:a}),c=this.intl.translate("doubleDonationScreen.buttons.changeAmount.once",{amount:o}),l=this.intl.translate("doubleDonationScreen.buttons.doNotChangeAmount.once",{amount:a})),this.produceViewState((function(e){e.buttonType=h.getButtonType(!1),e.total=h.donationDataPoint.total,e.repeat=h.donationDataPoint.repeatOrigin,e.currency=h.donationDataPoint.currency,e.isFeeCovered=h.donationDataPoint.isFeeCovered,e.employer.name=h.dtdDataPoint.employer.name,e.minimumMatchedAmount=h.dtdDataPoint.minimumMatchedAmount,e.isIntegrationEnabled=h.dtdDataPoint.isIntegrationEnabled,e.showSkipButton=!h.dtdDataPoint.isIntegrationEnabled||!h.isPaymentScreen,e.matchingPromisedAmount=h.dtdDataPoint.upsellDoubledAmount,e.matchingRatio=h.dtdDataPoint.matchingRatio,e.proposedAmount=h.dtdDataPoint.upsellTotal,e.proposedAmountBeforeFeeCovered=h.dtdDataPoint.rawMinimumMatchedAmount,e.formattedTotal=a,e.formattedUpsellTotal=o,e.declineButtonLabel=u,e.changeAmountButtonLabel=c,e.noChangeAmountButtonLabel=l})),this.dtdDataPoint.employerDTD&&this.setEmployerViewState(this.dtdDataPoint.employer.name);case 20:case"end":return e.stop()}}),e,this)})))}},{key:"getInitialViewState",value:function(){return{locked:!1,showDTDDescription:!0,showEmployerMatchedBlock:!1,employer:{name:""},showDTDUpsell:!1,minimumMatchedAmount:0,DTDUpsellDoubledAmount:0,DTDDoubledAmount:0,currency:"USD",upsellTotal:0,showSkipButton:!0,total:0,processingState:C.Z.IDLE,companies:[],buttonType:r.CONTINUE,isFeeCovered:!1,matchingPromisedAmount:0,matchingRatio:[1,1],proposedAmount:0,proposedAmountBeforeFeeCovered:0,isIntegrationEnabled:!1,repeat:A.oe.ONCE,formattedTotal:"",formattedUpsellTotal:"",declineButtonLabel:"",changeAmountButtonLabel:"",noChangeAmountButtonLabel:""}}},{key:"dtdDataPoint",get:function(){if(!this._dtdDataPoint)throw new Error("DTDDataPoint is not defined");return this._dtdDataPoint}},{key:"donationDataPoint",get:function(){if(!this._donationDataPoint)throw new Error("DonationDataPoint is not defined");return this._donationDataPoint}},{key:"resetEmployerDTD",value:function(){var e=this;this.dtdDataPoint.resetEmployerDTD(),this.produceViewState((function(t){t.showDTDDescription=!0,t.showDTDUpsell=!1,t.showSkipButton=!e.dtdDataPoint.isIntegrationEnabled||!e.isPaymentScreen,t.showEmployerMatchedBlock=!1,t.buttonType=e.getButtonType(t.showDTDUpsell)}))}},{key:"changeEmployerName",value:function(e){var t=this;e||this.resetEmployerDTD(),this.dtdDataPoint.setEmployer(e),this.produceViewState((function(e){e.employer.name=t.dtdDataPoint.employer.name}))}},{key:"leave",value:function(){var e=this,t=k()(null,{leave:{get:function(){return(0,l.Z)((0,f.Z)(m.prototype),"leave",e)}}});return(0,E.mG)(this,void 0,void 0,p().mark((function e(){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pending){e.next=2;break}return e.abrupt("return");case 2:if(this.pending=!0,this.checkoutService.collectDataPoint([this.dtdDataPoint]),this.checkoutService.syncUpdateCheckoutState(),this.isPaymentScreen){e.next=8;break}return this.pending=!1,e.abrupt("return",t.leave.call(this));case 8:return this.setProcessingState(C.Z.PENDING),e.next=11,this.checkoutService.pay({screen:O.e.DOUBLE});case 11:if(n=e.sent,!D.H.isSuccess(n)){e.next=18;break}return this.setProcessingState(C.Z.SUCCESS),e.next=16,(0,T.D)(N.YE);case 16:return this.pending=!1,e.abrupt("return",t.leave.call(this));case 18:if(!n.failureResult.shouldLeave){e.next=21;break}return this.pending=!1,e.abrupt("return",t.leave.call(this));case 21:return this.setProcessingState(C.Z.ERROR),e.next=24,(0,T.D)(N.kw);case 24:this.setProcessingState(C.Z.IDLE),this.pending=!1;case 26:case"end":return e.stop()}}),e,this)})))}},{key:"setProcessingState",value:function(e){this.produceViewState((function(t){t.processingState=e}))}},{key:"skip",value:function(){return(0,E.mG)(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.dtdDataPoint.setSkipped(),e.abrupt("return",this.leave());case 2:case"end":return e.stop()}}),e,this)})))}},{key:"isPaymentScreen",get:function(){return this.name===this.checkoutService.paymentScreenName}},{key:"getDTDCompanies",value:function(e){return(0,E.mG)(this,void 0,void 0,p().mark((function t(){var n;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dtdDataPoint.getDTDCompanies(e);case 2:n=t.sent,w()(n,this.viewState.companies)||this.produceViewState((function(e){e.companies=n}));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"getButtonType",value:function(e){return e?this.isPaymentScreen?r.UPSELL_PAY_NOW:r.UPSELL_PAY_LATER:this.isPaymentScreen?r.AMOUNT_MATCHED:r.CONTINUE}},{key:"setEmployerDTD",value:function(e){var t,n=S()(t=this.viewState.companies).call(t,(function(t){return t.id===e}));return!n||(this.dtdDataPoint.setEmployerDTD(n),this.setEmployerViewState(n.company_name),this.viewState.showDTDUpsell&&this.dtdDataPoint.setShowed(),!1)}},{key:"setEmployerViewState",value:function(e){var t,n=this,r=this.intl.formatCurrency(this.dtdDataPoint.upsellTotal,{currency:this.donationDataPoint.currency,display:"floatcents"});t=this.donationDataPoint.isRecurring&&this.donationDataPoint.monthlyRepeat!==A.oe.ONCE?this.intl.translate("doubleDonationScreen.buttons.changeAmount.recurring",{amount:r,recurringType:this.recurringTypes[this.donationDataPoint.monthlyRepeat]}):this.intl.translate("doubleDonationScreen.buttons.changeAmount.once",{amount:r}),this.produceViewState((function(i){i.employer.name=e,i.showDTDDescription=!1,i.showDTDUpsell=n.dtdDataPoint.minimumMatchedAmount>n.donationDataPoint.total,i.showSkipButton=!(n.dtdDataPoint.isIntegrationEnabled&&n.isPaymentScreen||i.showDTDUpsell),i.showEmployerMatchedBlock=n.dtdDataPoint.minimumMatchedAmount<=n.donationDataPoint.total,i.DTDDoubledAmount=n.dtdDataPoint.DTDDoubledAmount,i.minimumMatchedAmount=n.dtdDataPoint.minimumMatchedAmount,i.upsellTotal=n.dtdDataPoint.upsellTotal,i.formattedUpsellTotal=r,i.changeAmountButtonLabel=t,i.DTDUpsellDoubledAmount=n.dtdDataPoint.upsellDoubledAmount,i.buttonType=n.getButtonType(i.showDTDUpsell),i.matchingPromisedAmount=n.dtdDataPoint.upsellDoubledAmount,i.matchingRatio=n.dtdDataPoint.matchingRatio,i.proposedAmount=n.dtdDataPoint.upsellTotal,i.proposedAmountBeforeFeeCovered=n.dtdDataPoint.rawMinimumMatchedAmount}))}},{key:"acceptUpsell",value:function(){return(0,E.mG)(this,void 0,void 0,p().mark((function e(){return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.dtdDataPoint.accept(),e.next=3,this.leave();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"recurringTypes",get:function(){var e;return e={},(0,o.Z)(e,A.oe.DAILY,this.intl.translate("widgetSubscriptionPeriodLabel.daily.noun")),(0,o.Z)(e,A.oe.WEEKLY,this.intl.translate("widgetSubscriptionPeriodLabel.weekly.noun")),(0,o.Z)(e,A.oe.BIWEEKLY,this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.noun")),(0,o.Z)(e,A.oe.MONTHLY,this.intl.translate("widgetSubscriptionPeriodLabel.monthly.noun")),(0,o.Z)(e,A.oe.BIMONTHLY,this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.noun")),(0,o.Z)(e,A.oe.QUARTERLY,this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.noun")),(0,o.Z)(e,A.oe.SEMIANNUAL,this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.noun")),(0,o.Z)(e,A.oe.ANNUAL,this.intl.translate("widgetSubscriptionPeriodLabel.annual.noun")),e}}]),m}(_.c)},75375:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var r=n(58238),i=n(46093),a=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,null,[{key:"isButtonFullWidth",value:function(e,t){return 3===t||(0===e||!(4/(e+t-1)<1))}},{key:"allSlotsAreTaken",value:function(e){return e>5}}]),e}()},35172:function(e,t,n){"use strict";var r;n.d(t,{D:function(){return r}}),function(e){e.HIGH="high",e.LOW="low"}(r||(r={}))},66429:function(e,t,n){"use strict";n.d(t,{ej:function(){return u},me:function(){return l},cP:function(){return c},wC:function(){return h}});var r=n(33093),i=n.n(r),a=n(1835),o=n(91497),s=[o.e.ACH,o.e.ACH_GUIDE,o.e.AU_BECS,o.e.CLICK_TO_PAY_SPLASH,o.e.CREDIT_CARD,o.e.DONATE,o.e.DOUBLE,o.e.GIFT_AID,o.e.LINK_TO_BANK,o.e.PAYMENT_OPTIONS,o.e.PAYPAL_CONVERSION,o.e.POST_DONATION_UPSELL,o.e.SEPA,o.e.UK_BACS,o.e.UK_BACS_CONFIRMATION,o.e.UPSELL,a.nn.QUESTIONS,a.nn.COMMENT,a.nn.MAILING_ADDRESS,a.nn.PRIVACY,a.nn.THANK_YOU,a.nn.REMIND_ME];function u(e){if(!i()(s).call(s,e))throw new Error("Fiat checkout screen is expected")}function c(e){if(void 0===e.resetGiftAid||void 0===e.onGiftAidAccepted)throw new Error("Expected checkout state to be ICheckoutStateWithGiftAid")}function l(e){if(void 0===e.onDonationDataPointCollected)throw new Error("Expected checkout state to be IFiatCheckoutState")}function h(e){return i()(s).call(s,e)}},31678:function(e,t,n){"use strict";n.r(t),n.d(t,{BrokerDataPoint:function(){return f}});var r=n(19146),i=n.n(r),a=n(58238),o=n(46093),s=n(69e3),u=n(97047),c=n(76552),l=n(20261),h=n.n(l),d=n(5163);var f=function(e){(0,s.Z)(l,e);var t,n,r=(t=l,n=function(){if("undefined"==typeof Reflect||!i())return!1;if(i().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var a=(0,c.Z)(this).constructor;e=i()(r,arguments,a)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function l(e,t){var n;return(0,a.Z)(this,l),(n=r.call(this,e)).resolvedCheckoutData=e,n.brokersApi=t,n._broker={id:"",name:"",logo:null,plaidAllowed:!1},n}return(0,o.Z)(l,[{key:"isEnabled",get:function(){return!0}},{key:"isRequired",get:function(){return this.isEnabled}},{key:"isPlaidAllowed",get:function(){var e;return!!(null===(e=this.broker)||void 0===e?void 0:e.plaidAllowed)}},{key:"broker",get:function(){return this._broker},set:function(e){this._broker=e}},{key:"getBrokers",value:function(e){return(0,d.mG)(this,void 0,void 0,h().mark((function t(){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.brokersApi.getList(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"toObject",value:function(){return{broker:{id:this.broker.id,name:this.broker.name,logo:this.broker.logo,plaidAllowed:this.broker.plaidAllowed}}}},{key:"validate",value:function(){var e=!!this.broker.id;return{isValid:e,fields:{broker:{isValid:e,errors:{required:!e}}}}}}],[{key:"defaultValidationResult",get:function(){return{isValid:!0,fields:{broker:{isValid:!0,errors:{required:!1}}}}}}]),l}(n(76297).h);t.default=f},31802:function(e,t,n){"use strict";n.r(t),n.d(t,{SignatureDataPoint:function(){return l}});var r=n(19146),i=n.n(r),a=n(58238),o=n(46093),s=n(69e3),u=n(97047),c=n(76552);var l=function(e){(0,s.Z)(l,e);var t,n,r=(t=l,n=function(){if("undefined"==typeof Reflect||!i())return!1;if(i().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var a=(0,c.Z)(this).constructor;e=i()(r,arguments,a)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function l(){var e;return(0,a.Z)(this,l),(e=r.apply(this,arguments)).signature="",e}return(0,o.Z)(l,[{key:"isEnabled",get:function(){return!0}},{key:"isRequired",get:function(){return this.isEnabled}},{key:"changeSignature",value:function(e){this.signature=e}},{key:"toObject",value:function(){return{transcript:this.signature}}},{key:"validate",value:function(){var e=!!this.signature;return{isValid:e,fields:{signature:{isValid:e,errors:{required:!e}}}}}}],[{key:"defaultValidationResult",get:function(){return{isValid:!0,fields:{signature:{isValid:!0,errors:{required:!1}}}}}}]),l}(n(76297).h);t.default=l},86924:function(e,t,n){"use strict";n.r(t),n.d(t,{StockDonationDataPoint:function(){return f}});var r=n(19146),i=n.n(r),a=n(58238),o=n(46093),s=n(69e3),u=n(97047),c=n(76552),l=n(973),h=n.n(l),d=n(60401);var f=function(e){(0,s.Z)(l,e);var t,n,r=(t=l,n=function(){if("undefined"==typeof Reflect||!i())return!1;if(i().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var a=(0,c.Z)(this).constructor;e=i()(r,arguments,a)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function l(){var e;return(0,a.Z)(this,l),(e=r.apply(this,arguments))._amount=0,e.isEnabled=!0,e.isRequired=!0,e}return(0,o.Z)(l,[{key:"amount",get:function(){return this.currencyService.fromFloat(this._amount,this.currency)},set:function(e){this._amount=e}},{key:"total",get:function(){return this.amount}},{key:"currency",get:function(){return"USD"}},{key:"repeat",get:function(){return d.oe.ONCE}},{key:"toObject",value:function(){return{amount:this.amount,total:this.total,currency:this.currency,repeat:h()(this)}}}]),l}(n(39364).Z);t.default=f},29128:function(e,t,n){"use strict";n.r(t),n.d(t,{CoOwnerDataPoint:function(){return p}});var r=n(19146),i=n.n(r),a=n(58238),o=n(46093),s=n(69e3),u=n(97047),c=n(76552),l=n(29406),h=n.n(l),d=n(76297),f=n(22319),m=n(89045);var p=function(e){(0,s.Z)(l,e);var t,n,r=(t=l,n=function(){if("undefined"==typeof Reflect||!i())return!1;if(i().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var a=(0,c.Z)(this).constructor;e=i()(r,arguments,a)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function l(e,t){var n;return(0,a.Z)(this,l),(n=r.call(this,e)).resolvedCheckoutData=e,n.validationSettings=t,n.isEnabled=!1,n.firstName="",n.lastName="",n.signature="",n.email="",n}return(0,o.Z)(l,[{key:"isRequired",get:function(){return this.isEnabled}},{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1}},{key:"fullName",get:function(){var e;return h()(e="".concat(this.firstName," ")).call(e,this.lastName)}},{key:"toObject",value:function(){return{firstName:this.firstName,lastName:this.lastName,email:this.email,signature:{transcript:this.signature}}}},{key:"validate",value:function(){var e=this.validateFirstName(),t=this.validateLastName(),n=this.validateEmail(),r=this.validateSignature();return{isValid:e.isValid&&t.isValid&&n.isValid&&r.isValid,fields:{firstName:e,lastName:t,email:n,signature:r}}}},{key:"validateFirstName",value:function(){var e=(0,m.O)(this.firstName,this.validationSettings.MIN_LENGTH);return{isValid:e,errors:{required:!this.firstName,minLength:!e}}}},{key:"validateLastName",value:function(){var e=(0,m.O)(this.lastName,this.validationSettings.MIN_LENGTH);return{isValid:e,errors:{required:!this.lastName,minLength:!e}}}},{key:"validateEmail",value:function(){var e=(0,f.o)(this.email);return{isValid:e,errors:{required:!this.email,email:!e}}}},{key:"validateSignature",value:function(){var e=(0,m.O)(this.signature,this.validationSettings.MIN_LENGTH);return{isValid:e,errors:{required:!this.signature,minLength:!e}}}}],[{key:"validationByDefault",get:function(){return{isValid:!0,fields:{firstName:{isValid:!0,errors:{required:!1,minLength:!1}},lastName:{isValid:!0,errors:{required:!1,minLength:!1}},email:{isValid:!0,errors:{required:!1,email:!1}},signature:{isValid:!0,errors:{required:!1,minLength:!1}}}}}}]),l}(d.h);t.default=p},51160:function(e,t,n){"use strict";var r,i;n.d(t,{x:function(){return r},v:function(){return i}}),function(e){e.STOCK_BROKERAGE="stock-brokerage",e.STOCK_CO_OWNER="stock-co-owner",e.STOCK_CO_OWNER_SIGNATURE="stock-co-owner-signature",e.STOCK_CONFIRMATION="stock-confirmation",e.STOCK_LINK_TO_BROKERAGE="stock-link-to-brokerage",e.STOCK_SECURITIES="stock-securities",e.STOCK_SIGNATURE="stock-signature"}(r||(r={})),function(e){e.BROKER="Broker",e.BROKERAGE_ACCOUNT_NUMBER="BrokerageAccountNumber",e.CO_OWNER="CoOwner",e.DONATION="Donation",e.SECURITIES="Securities",e.SIGNATURE="Signature"}(i||(i={}))},10871:function(e,t,n){"use strict";n.d(t,{k8:function(){return c},Ch:function(){return u},ng:function(){return l}});var r=n(33093),i=n.n(r),a=n(1835),o=n(51160),s=[o.x.STOCK_BROKERAGE,o.x.STOCK_CO_OWNER,o.x.STOCK_CO_OWNER_SIGNATURE,o.x.STOCK_CONFIRMATION,o.x.STOCK_LINK_TO_BROKERAGE,o.x.STOCK_SECURITIES,o.x.STOCK_SIGNATURE,a.nn.COMMENT,a.nn.MAILING_ADDRESS,a.nn.QUESTIONS,a.nn.PRIVACY,a.nn.THANK_YOU,a.nn.REMIND_ME];function u(e){if(!i()(s).call(s,e))throw new Error("Stock checkout screen is expected")}function c(e){if(void 0===e.onSecuritiesDataPointCollected)throw new Error("Expected checkout state to be ICheckoutStateWithSecurities")}function l(e){return i()(s).call(s,e)}},81094:function(e,t,n){"use strict";var r;n.d(t,{Z:function(){return r}}),function(e){e.FACEBOOK="Facebook",e.TWITTER="Twitter",e.LINKEDIN="Linkedin",e.EMAIL="Email"}(r||(r={}))},62355:function(e,t,n){"use strict";n.d(t,{xZ:function(){return m},bZ:function(){return v},IM:function(){return y}});var r=n(33415),i=n.n(r),a=n(50418),o=n.n(a),s=n(33093),u=n.n(s),c=n(28055),l=n(1835),h=n(51198),d=n(91497),f=n(51160);function m(e){return e===c.dy.ONCE||e===c.dy.MONTHLY}var p=i()(o()(o()(o()(o()({},l.nn),d.e),f.x),h.a));function v(e){return u()(p).call(p,e)}function y(e){if(void 0===e.onDesignationDataPointCollected)throw new Error("Expected checkout state to be ICheckoutStateWithDesignation")}},1834:function(e,t,n){"use strict";var r;function i(e,t,n){var i=n-1;switch(e.code){case r.DOWN:return e.preventDefault(),null===t||t+1>i?{currentOptionIdx:0}:{currentOptionIdx:t+1};case r.UP:return e.preventDefault(),null===t||t-1<0?{currentOptionIdx:i}:{currentOptionIdx:t-1};case r.ENTER:return e.preventDefault(),{currentOptionIdx:t,needSelectOption:!0};case r.ESC:return{closeDropdown:!0,currentOptionIdx:null};default:return{currentOptionIdx:null}}}n.d(t,{G:function(){return r},n:function(){return i}}),function(e){e.DOWN="ArrowDown",e.UP="ArrowUp",e.ENTER="Enter",e.ESC="Escape"}(r||(r={}))},72320:function(e,t,n){"use strict";n.d(t,{OB:function(){return u},op:function(){return h},ag:function(){return d},$j:function(){return f},L6:function(){return m},PR:function(){return p}});var r=n(28936),i=n(33093),a=n.n(i),o=n(65356),s=n(60401),u=function(e){return a()(o.md).call(o.md,e)},c=function(e){var t,n=(t={},(0,r.Z)(t,s.oe.MONTHLY,3100),(0,r.Z)(t,s.oe.ANNUAL,36500),t);if(!n[e])throw new Error('Unknown repeat "'.concat(e,'"'));return n[e]},l=function(e){var t,n=(t={},(0,r.Z)(t,s.oe.MONTHLY,[55800,31e3,15500,9300,6200,3100]),(0,r.Z)(t,s.oe.ANNUAL,[657e3,365e3,182500,109500,73e3,36500]),t);if(!n[e])throw new Error('Unknown repeat "'.concat(e,'"'));return n[e]},h=function(e,t){var n,i,l,h,d,f,m,p,v;return a()(o.eU).call(o.eU,e)?(n={},(0,r.Z)(n,s.oe.MONTHLY,c(s.oe.MONTHLY)),(0,r.Z)(n,s.oe.ANNUAL,c(s.oe.ANNUAL)),n):u(e)?(i={},(0,r.Z)(i,s.oe.MONTHLY,t[s.oe.ONCE]),(0,r.Z)(i,s.oe.ANNUAL,t[s.oe.MONTHLY]),i):a()(o.Wj).call(o.Wj,e)?(l={},(0,r.Z)(l,s.oe.ONCE,t[s.oe.ONCE]),(0,r.Z)(l,s.oe.DAILY,t[s.oe.MONTHLY]),l):a()(o.IM).call(o.IM,e)?(h={},(0,r.Z)(h,s.oe.ONCE,t[s.oe.ONCE]),(0,r.Z)(h,s.oe.WEEKLY,t[s.oe.MONTHLY]),h):a()(o.pe).call(o.pe,e)?(d={},(0,r.Z)(d,s.oe.ONCE,t[s.oe.ONCE]),(0,r.Z)(d,s.oe.BIWEEKLY,t[s.oe.MONTHLY]),d):a()(o.jk).call(o.jk,e)?(f={},(0,r.Z)(f,s.oe.ONCE,t[s.oe.ONCE]),(0,r.Z)(f,s.oe.BIMONTHLY,t[s.oe.MONTHLY]),f):a()(o.ly).call(o.ly,e)?(m={},(0,r.Z)(m,s.oe.ONCE,t[s.oe.ONCE]),(0,r.Z)(m,s.oe.QUARTERLY,t[s.oe.MONTHLY]),m):a()(o.eC).call(o.eC,e)?(p={},(0,r.Z)(p,s.oe.ONCE,t[s.oe.ONCE]),(0,r.Z)(p,s.oe.SEMIANNUAL,t[s.oe.MONTHLY]),p):a()(o.I_).call(o.I_,e)?(v={},(0,r.Z)(v,s.oe.ONCE,t[s.oe.ONCE]),(0,r.Z)(v,s.oe.ANNUAL,t[s.oe.MONTHLY]),v):t},d=function(e,t){var n,i,c,h,d,f,m,p,v;return a()(o.eU).call(o.eU,e)?(n={},(0,r.Z)(n,s.oe.MONTHLY,l(s.oe.MONTHLY)),(0,r.Z)(n,s.oe.ANNUAL,l(s.oe.ANNUAL)),n):u(e)?(i={},(0,r.Z)(i,s.oe.MONTHLY,t[s.oe.ONCE]),(0,r.Z)(i,s.oe.ANNUAL,t[s.oe.MONTHLY]),i):a()(o.Wj).call(o.Wj,e)?(c={},(0,r.Z)(c,s.oe.ONCE,t[s.oe.ONCE]),(0,r.Z)(c,s.oe.DAILY,t[s.oe.MONTHLY]),c):a()(o.IM).call(o.IM,e)?(h={},(0,r.Z)(h,s.oe.ONCE,t[s.oe.ONCE]),(0,r.Z)(h,s.oe.WEEKLY,t[s.oe.MONTHLY]),h):a()(o.pe).call(o.pe,e)?(d={},(0,r.Z)(d,s.oe.ONCE,t[s.oe.ONCE]),(0,r.Z)(d,s.oe.BIWEEKLY,t[s.oe.MONTHLY]),d):a()(o.jk).call(o.jk,e)?(f={},(0,r.Z)(f,s.oe.ONCE,t[s.oe.ONCE]),(0,r.Z)(f,s.oe.BIMONTHLY,t[s.oe.MONTHLY]),f):a()(o.ly).call(o.ly,e)?(m={},(0,r.Z)(m,s.oe.ONCE,t[s.oe.ONCE]),(0,r.Z)(m,s.oe.QUARTERLY,t[s.oe.MONTHLY]),m):a()(o.eC).call(o.eC,e)?(p={},(0,r.Z)(p,s.oe.ONCE,t[s.oe.ONCE]),(0,r.Z)(p,s.oe.SEMIANNUAL,t[s.oe.MONTHLY]),p):a()(o.I_).call(o.I_,e)?(v={},(0,r.Z)(v,s.oe.ONCE,t[s.oe.ONCE]),(0,r.Z)(v,s.oe.ANNUAL,t[s.oe.MONTHLY]),v):t},f=function(e,t){var n,i,c,l,h,d,f,m;return u(e)?(n={},(0,r.Z)(n,s.oe.ONCE,s.oe.MONTHLY),(0,r.Z)(n,s.oe.MONTHLY,s.oe.ANNUAL),n)[t]:a()(o.Wj).call(o.Wj,e)?(i={},(0,r.Z)(i,s.oe.ONCE,s.oe.ONCE),(0,r.Z)(i,s.oe.MONTHLY,s.oe.DAILY),i)[t]:a()(o.IM).call(o.IM,e)?(c={},(0,r.Z)(c,s.oe.ONCE,s.oe.ONCE),(0,r.Z)(c,s.oe.MONTHLY,s.oe.WEEKLY),c)[t]:a()(o.pe).call(o.pe,e)?(l={},(0,r.Z)(l,s.oe.ONCE,s.oe.ONCE),(0,r.Z)(l,s.oe.MONTHLY,s.oe.BIWEEKLY),l)[t]:a()(o.jk).call(o.jk,e)?(h={},(0,r.Z)(h,s.oe.ONCE,s.oe.ONCE),(0,r.Z)(h,s.oe.MONTHLY,s.oe.BIMONTHLY),h)[t]:a()(o.ly).call(o.ly,e)?(d={},(0,r.Z)(d,s.oe.ONCE,s.oe.ONCE),(0,r.Z)(d,s.oe.MONTHLY,s.oe.QUARTERLY),d)[t]:a()(o.eC).call(o.eC,e)?(f={},(0,r.Z)(f,s.oe.ONCE,s.oe.ONCE),(0,r.Z)(f,s.oe.MONTHLY,s.oe.SEMIANNUAL),f)[t]:a()(o.I_).call(o.I_,e)?(m={},(0,r.Z)(m,s.oe.ONCE,s.oe.ONCE),(0,r.Z)(m,s.oe.MONTHLY,s.oe.ANNUAL),m)[t]:t},m=function(e,t){var n,i,c,l,h,d;return u(e)?(i={},(0,r.Z)(i,s.oe.MONTHLY,s.oe.ONCE),(0,r.Z)(i,s.oe.ANNUAL,s.oe.MONTHLY),i)[t]:a()(o.Wj).call(o.Wj,e)?(c={},(0,r.Z)(c,s.oe.ONCE,s.oe.ONCE),(0,r.Z)(c,s.oe.DAILY,s.oe.MONTHLY),c)[t]:a()(o.IM).call(o.IM,e)?(l={},(0,r.Z)(l,s.oe.ONCE,s.oe.ONCE),(0,r.Z)(l,s.oe.WEEKLY,s.oe.MONTHLY),l)[t]:a()(o.pe).call(o.pe,e)?(h={},(0,r.Z)(h,s.oe.ONCE,s.oe.ONCE),(0,r.Z)(h,s.oe.BIWEEKLY,s.oe.MONTHLY),h)[t]:a()(o.I_).call(o.I_,e)?(d={},(0,r.Z)(d,s.oe.ONCE,s.oe.ONCE),(0,r.Z)(d,s.oe.ANNUAL,s.oe.MONTHLY),d)[t]:a()(n=[s.oe.ONCE,s.oe.MONTHLY]).call(n,t)?t:s.oe.MONTHLY};function p(e){return u(e)?s.oe.ANNUAL:a()(o.Wj).call(o.Wj,e)?s.oe.DAILY:a()(o.IM).call(o.IM,e)?s.oe.WEEKLY:a()(o.pe).call(o.pe,e)?s.oe.BIWEEKLY:a()(o.jk).call(o.jk,e)?s.oe.BIMONTHLY:a()(o.ly).call(o.ly,e)?s.oe.QUARTERLY:a()(o.eC).call(o.eC,e)?s.oe.SEMIANNUAL:a()(o.I_).call(o.I_,e)?s.oe.ANNUAL:s.oe.MONTHLY}},6039:function(e,t,n){"use strict";n.d(t,{D:function(){return s}});var r=n(98189),i=n.n(r),a=n(54496),o=n.n(a);function s(e){return new(i())((function(t){o()(t,e)}))}},12209:function(e,t,n){"use strict";n.d(t,{q:function(){return i},r:function(){return a}});var r=n(2784);function i(e,t){if(!e.current)throw new Error("Ref was not passed");e.current.addEventListener("transitionend",(function n(){e.current&&(e.current.removeEventListener("transitionend",n),t())}),!1)}function a(e){return(0,r.useCallback)((function(t){i(e,t)}),[e])}},50504:function(e,t,n){"use strict";n.d(t,{S:function(){return i}});var r=n(30832);function i(){return(0,r.n)().infrastructureParams.isRTL}},18972:function(e,t,n){"use strict";n.d(t,{g:function(){return i}});var r=n(30832);function i(){return(0,r.n)().infrastructureParams.showcase}},97674:function(e,t,n){"use strict";var r=n(8005),i=n.n(r),a=window,o=(a.FUN_ENV,a.FUN_HOST||"https://api.fundraiseup.com"),s=a.FUN_CDN||"https://cdn.fundraiseup.com",u=(a.FUN_TRACKING,a.FUN_STATIC||"https://static.fundraiseup.com");a.FUN_STATIC_S3,n.p=u+("/"===i()(u).call(u,-1)?"":"/");var c,l=n(10587),h=n(93365),d=n(20261),f=n.n(d),m=n(5163),p=n(2784),v=n(28936);(c||(c={})).CHECKOUT_2="Checkout2",(0,v.Z)({},c.CHECKOUT_2,"19534");var y=n(60401);y.CB.DEVELOPMENT;var g=n(15729);(0,g.pV)(),n(42346),n(61357),n(1939);var k=n(58238),P=n(46093),S=n(69117),E=n.n(S),D=n(87636),b=n.n(D),w=n(74426),A=n.n(w),C=function(){function e(t){(0,k.Z)(this,e),this.window=t,this.hideTimeout=null,this.hiddenElementsList=[],this.elementsSelectorList=[".s.u.m.o"]}return(0,P.Z)(e,[{key:"hideNode",value:function(e){var t;E()(t=this.hiddenElementsList).call(t,(function(t){return t.node===e}))||(this.hiddenElementsList.push({node:e,style:e.getAttribute("style")}),e.setAttribute("style","display: none;"))}},{key:"hideAll",value:function(){var e=this,t=function(){var t;b()(t=e.elementsSelectorList).call(t,(function(t){var n,r=e.window.document.querySelectorAll(t);b()(r).call(r,A()(n=e.hideNode).call(n,e))}))};t(),this.hideTimeout=this.window.setInterval(t,1e3)}},{key:"restoreAll",value:function(){var e;this.hideTimeout&&clearTimeout(this.hideTimeout),b()(e=this.hiddenElementsList).call(e,(function(e){var t=e.node,n=e.style;null===n?t.removeAttribute("style"):t.setAttribute("style",n)})),this.hiddenElementsList=[]}}]),e}(),N=n(10161),O=n.n(N);function _(e,t){var n=e[t];return{location:{countryCode:t,city:"TEST_PANEL",country:"TEST_PANEL"},langCurrencies:n||["USD"],countryCurrencies:n||["USD"]}}function T(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(n.t.bind(n,59222,19));case 2:return r=t.sent,t.abrupt("return",_(r.default,e));case 4:case"end":return t.stop()}}),t)})))}var R,I,x=n(50418),Z=n.n(x);!function(e){e.CLOSE="close",e.OPEN="open",e.DONATION_COMPLETE="donationComplete",e.CHECKOUT_INTENT="checkoutIntent",e.THANK_YOU_SHOWN="thankYouShown",e.CUSTOMER_PRIVACY_VALID="customerPrivacyValid",e.ANALYTICS_CHARGE_SUCCESS="analyticsChargeSuccess",e.ANALYTICS_CHARGE_FAIL="analyticsChargeFail"}(R||(R={})),function(e){e.LIVE="live",e.TEST="test"}(I||(I={}));var L,M,F=function(){function e(t,n,r){(0,k.Z)(this,e),this.checkoutUI=t,this.checkoutCore=n,this.foreignElements=r,this.eventEmitter=new(O()),this.destroyed=!1}return(0,P.Z)(e,[{key:"iframeNode",get:function(){return this.checkoutUI.iframeNode}},{key:"checkoutAPIBridge",get:function(){return this.checkoutCore.checkoutAPIBridge}},{key:"logger",get:function(){return this.checkoutCore.logger}},{key:"initialize",value:function(){var e=this;this.checkoutAPIBridge.on(R.DONATION_COMPLETE,(function(t){e.emit(R.DONATION_COMPLETE,t)})).on(R.THANK_YOU_SHOWN,(function(){e.emit(R.THANK_YOU_SHOWN,void 0)})).on(R.CUSTOMER_PRIVACY_VALID,(function(){e.emit(R.CUSTOMER_PRIVACY_VALID,void 0)})).on(R.ANALYTICS_CHARGE_SUCCESS,(function(t){e.emit(R.ANALYTICS_CHARGE_SUCCESS,t)})).on(R.ANALYTICS_CHARGE_FAIL,(function(t){e.emit(R.ANALYTICS_CHARGE_FAIL,t)}))}},{key:"destroy",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,i;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.shouldReopen,r=void 0!==n&&n,this.assertNotDestroyed(),this.checkoutUI.close(),i=Z()({shouldReopen:r},this.checkoutAPIBridge.getClosePublicJsApiPayload()),this.emit(R.CLOSE,i),this.emit(R.CHECKOUT_INTENT,this.checkoutAPIBridge.getIntent()),this.foreignElements&&this.foreignElements.restoreAll(),this.eventEmitter.removeAllListeners(),this.checkoutAPIBridge.dispose(),this.checkoutCore.dispose(),this.destroyed=!0;case 11:case"end":return t.stop()}}),t,this)})))}},{key:"on",value:function(e,t){this.assertNotDestroyed(),this.eventEmitter.on(e,t)}},{key:"emit",value:function(e,t){this.eventEmitter.emit(e,t)}},{key:"assertNotDestroyed",value:function(){if(this.destroyed)throw new Error("CheckoutAPI destroyed")}},{key:"getOpenParams",value:function(){return this.checkoutAPIBridge.getOpenParams()}}]),e}(),U=n(90899),B=n.n(U),G=n(29406),H=n.n(G),K=n(85738),V=n.n(K),Y=n(54496),q=n.n(Y),W=n(973),j=n.n(W),X=n(23650),z=n.n(X),Q=n(4707),J=n.n(Q),$=n(10662),ee=n.n($),te=n(85952),ne=n.n(te),re=n(94430),ie=n.n(re),ae=n(19146),oe=n.n(ae),se=n(69e3),ue=n(97047),ce=n(76552),le=n(50381),he=n.n(le),de=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;(0,k.Z)(this,e),this.currencyService=n,this.campaign=i,this.queue=[],this.initFlag=!1,this.logger=t,this.session=t.session,this.options=r}return(0,P.Z)(e,[{key:"window",get:function(){return this.logger.window}},{key:"init",value:function(){throw new Error("Not implemented!")}},{key:"acceptable",get:function(){throw new Error("Not implemented!")}},{key:"track",value:function(e,t){throw new Error("Not implemented!")}},{key:"checkInit",value:function(e,t){var n,r=this;return!!this.initFlag||(this.init(),this.initFlag?(this.queue.length&&(b()(n=this.queue).call(n,(function(e){r.track.apply(r,e)})),this.queue=[]),!0):(this.queue.push([e,t]),!1))}}]),e}();!function(e){e.EVENT_BUTTON_VIEW="buttonview",e.EVENT_BUTTON_CLICK="buttonclick",e.EVENT_WIDGET_VIEW="widgetview",e.EVENT_CUSTOMER_PRIVACY="customerPrivate",e.EVENT_CHARGE_SUCCESS="chargeSuccess",e.EVENT_CHARGE_FAIL="chargeFail",e.EVENT_THANK_YOU="thankyou",e.EVENT_CLOSE="widgetclose"}(L||(L={})),function(e){e.OPEN="Fundraise Up Checkout Open",e.CLOSE="Fundraise Up Checkout Close",e.COMPLETE="Fundraise Up Checkout Complete"}(M||(M={}));var fe=n(3018),me=n(77425);function pe(e){var t=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,ce.Z)(e);if(t){var i=(0,ce.Z)(this).constructor;n=oe()(r,arguments,i)}else n=r.apply(this,arguments);return(0,ue.Z)(this,n)}}var ve=function(e){(0,se.Z)(n,e);var t=pe(n);function n(e){return(0,k.Z)(this,n),t.call(this,"Unreachable statement: ".concat(e))}return(0,P.Z)(n)}(function(e){(0,se.Z)(n,e);var t=pe(n);function n(e){var r;return(0,k.Z)(this,n),(r=t.call(this,e)).name=r.constructor.name,r}return(0,P.Z)(n)}((0,me.Z)(Error)));var ye=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"init",value:function(){this.initFlag||this.window.fbq&&"function"==typeof this.window.fbq&&(this.initFlag=!0)}},{key:"track",value:function(e,t){if(this.checkInit(e,t)){var n=this.campaign;switch(e){case L.EVENT_CHARGE_SUCCESS:return this.purchase(t,n);case L.EVENT_WIDGET_VIEW:return this.initiateCheckout(t,n)}}}},{key:"purchase",value:function(e,t){var n=e.currency,r=this.currencyService.toFloat(e.total,n),i=this.window.fbq,a={content_ids:this.getPurchasePayloadContentIds(e,t),content_type:"product",content_name:t.name,value:r,currency:n,affiliation:this.options.affiliation};j()(e)!==fe.oe.ONCE?(a.predicted_ltv=a.value*this.getLtvMultiplier(j()(e)),i("track","Subscribe",a)):i("track","Purchase",a),i("track","Donate",a)}},{key:"initiateCheckout",value:function(e,t){var n;this.window.fbq("track","InitiateCheckout",{content_name:t.name,content_ids:he()(n=[e.widget.key,t.customHash]).call(n,Boolean),content_type:"product"})}},{key:"getPurchasePayloadContentIds",value:function(e,t){var n=[e.widget.key,t.customHash];return he()(n).call(n,(function(e){return Boolean(e)}))}},{key:"getLtvMultiplier",value:function(e){switch(e){case fe.oe.DAILY:return 365;case fe.oe.WEEKLY:return 52;case fe.oe.BIWEEKLY:return 26;case fe.oe.MONTHLY:return 12;case fe.oe.BIMONTHLY:return 6;case fe.oe.QUARTERLY:return 3;case fe.oe.SEMIANNUAL:return 2;case fe.oe.ANNUAL:return 1;default:throw new ve(e)}}}]),i}(de),ge=n(99361);function ke(){var e=function(){if(function(){try{return void 0!==window.Intl}catch(e){return!1}}()){var e=window.Intl;if(e&&"object"===(0,ge.Z)(e)&&"function"==typeof e.DateTimeFormat){var t=new e.DateTimeFormat("en-US");if("object"!==(0,ge.Z)(t))return;var n="function"==typeof t.resolvedOptions&&t.resolvedOptions();if("object"!==(0,ge.Z)(n))return;var r=n.timeZone;if(!r)return;return r}}}();if(e)return e;var t=-(new Date).getTimezoneOffset()/60;return t>=0?"UTC+".concat(t):"UTC".concat(t)}var Pe=n(8717),Se=n.n(Pe),Ee=n(49924),De=n.n(Ee);function be(e,t){var n,r,a;return Se()(n=B()(r=De()(a=i()(e).call(e)).call(a)).call(r,(function(e){return(t-Number(e))/Math.abs(t-Number(e))||0}))).call(n,(function(e,t){return e+t}),e.length)}var we,Ae=n(32012),Ce=n.n(Ae);!function(e){e.SHORT="short",e.ADVERB="adverb",e.NOUN="noun",e.ADJECTIVE="adjective"}(we||(we={})),we.SHORT,we.ADVERB,we.NOUN;var Ne={daily:{short:"day",noun:"day",adverb:"daily",adjective:"daily"},weekly:{short:"w",noun:"week",adverb:"weekly",adjective:"weekly"},biweekly:{short:"2w",noun:"2 weeks",adverb:"biweekly",adjective:"biweekly"},monthly:{short:"mo",noun:"month",adverb:"monthly",adjective:"monthly"},bimonthly:{short:"2mo",noun:"2 months",adverb:"bimonthly",adjective:"bimonthly"},quarterly:{short:"qrt",noun:"quarter",adverb:"quarterly",adjective:"quarterly"},semiannual:{short:"6mo",noun:"6 months",adverb:"semiannually",adjective:"semiannual"},annual:{short:"yr",noun:"year",adverb:"annually",adjective:"annual"}};function Oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we.ADVERB;if(e){var n=Ne[e];return n&&n[t]}}var _e="Fundraise Up Checkout Events";function Te(e){return e===fe.oe.ONCE?"One-Time Donation":"".concat(Ce()(Oe(e,we.ADVERB))," Donation")}var Re=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"init",value:function(){this.initFlag||this.window.gtag&&"gtag"===this.window.gtag.name&&(this._gtag=this.window.gtag,this.initFlag=!0)}},{key:"acceptable",get:function(){return"function"==typeof this.window.gtag}},{key:"track",value:function(e,t){if(this.checkInit(e,t))switch(e){case L.EVENT_CHARGE_SUCCESS:this.purchase(t);break;case L.EVENT_WIDGET_VIEW:this.view(t);break;case L.EVENT_THANK_YOU:this.thankyou(t);break;case L.EVENT_CLOSE:this.close(t)}}},{key:"purchase",value:function(e){var t=this.currencyService.toFloat(e.total,e.currency),n=Te(j()(e));(0,this.window.gtag)("event","purchase",{transaction_id:e.donationId,affiliation:this.options.affiliation,currency:e.currency,value:t,items:[{id:e.widget.key,name:e.widget.name,variant:n,price:t,quantity:1,brand:this.options.affiliation,category:n}]});var r=this.currencyService,i=r.toFloat(r.convert(e.total,e.currency,e.company.defaultCurrency),e.company.defaultCurrency);this.sendEvent({eventAction:M.COMPLETE,eventLabel:this.buildEventLabel(e),value:Math.round(i)})}},{key:"_view",value:function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=this.logger.keysKeeper.getStorage(h.E.WIDGET).getOriginal(e.widget.key),s="/"+he()(t=H()(n=H()(r=he()(i=window.location.pathname.split("/")).call(i,Boolean)).call(r,"#"+o)).call(n,a)).call(t,Boolean).join("/")+(location.hash+location.search).replace("#"+o,""),u=this.window.gtag;this.applyToGATrackers((function(e){u("config",e,{page_path:s})}))}},{key:"applyToGATrackers",value:function(e){var t=this.window.ga;"function"==typeof t&&t((function(){var n;b()(n=t.getAll()).call(n,(function(t){var n=t.get("trackingId");e(n)}))}))}},{key:"view",value:function(e){this._view(e,""),this.sendEvent({eventAction:M.OPEN,eventLabel:this.buildEventLabel(e)})}},{key:"thankyou",value:function(e){this._view(e,"thankyou")}},{key:"close",value:function(e){var t=window.location.pathname+(location.hash+location.search),n=this.window.gtag;this.applyToGATrackers((function(e){n("config",e,{page_path:t})})),this.sendEvent({eventAction:M.CLOSE,eventLabel:this.buildEventLabel(e)})}},{key:"buildEventLabel",value:function(e){var t;return H()(t="".concat(e.widget.name," (")).call(t,e.widget.key,")")}},{key:"sendEvent",value:function(e){this._gtag("event",e.eventAction,{event_category:_e,event_label:e.eventLabel,value:e.value})}}]),i}(de);var Ie=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"init",value:function(){this.initFlag||this.window.ga&&(this._ga=function(e){var t=e.ga;function n(e){"function"==typeof t&&t((function(){var n;b()(n=t.getAll()).call(n,(function(t){var n=t.get("name");e(n)}))}))}return function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];n((function(n){var r,a,o;"t0"!==n?null==t||t.apply(void 0,H()(r=[H()(a="".concat(n,".")).call(a,e)]).call(r,i)):null==t||t.apply(void 0,H()(o=[e]).call(o,i))}))}}(this.window),!1!==this.options.ec&&this._ga("require","ec"),this.initFlag=!0)}},{key:"acceptable",get:function(){return"function"==typeof this.window.ga&&"function"!=typeof this.window.gtag}},{key:"track",value:function(e,t){if(this.checkInit(e,t))switch(e){case L.EVENT_CHARGE_SUCCESS:this.purchase(t);break;case L.EVENT_WIDGET_VIEW:this.view(t);break;case L.EVENT_THANK_YOU:this.thankyou(t);break;case L.EVENT_CLOSE:this.close(t)}}},{key:"purchase",value:function(e){var t=this.currencyService.toFloat(e.total,e.currency);this._ga("set","currencyCode",e.currency);var n=Te(j()(e));this._ga("ec:addProduct",{id:e.widget.key,name:e.widget.name,category:n,brand:this.options.affiliation,variant:n,price:t,quantity:1}),this._ga("ec:setAction","purchase",{id:e.donationId,affiliation:this.options.affiliation,revenue:t});var r=this.currencyService.toFloat(this.currencyService.convert(e.total,e.currency,e.company.defaultCurrency),e.company.defaultCurrency);this.sendEvent({eventAction:M.COMPLETE,eventLabel:this.buildEventLabel(e),value:Math.round(r)})}},{key:"_view",value:function(e){var t,n,r,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=this.logger.keysKeeper.getStorage(h.E.WIDGET).getOriginal(e.widget.key),s="/"+he()(t=H()(n=H()(r=he()(i=window.location.pathname.split("/")).call(i,Boolean)).call(r,"#"+o)).call(n,a)).call(t,Boolean).join("/")+(location.hash+location.search).replace("#"+o,"");this._ga("set","page",s),this._ga("send","pageview")}},{key:"view",value:function(e){this._view(e,""),this.sendEvent({eventAction:M.OPEN,eventLabel:this.buildEventLabel(e)})}},{key:"thankyou",value:function(e){this._view(e,"thankyou")}},{key:"close",value:function(e){var t=window.location.pathname+(location.hash+location.search);this._ga("set","page",t),this._ga("send","pageview"),this.sendEvent({eventAction:M.CLOSE,eventLabel:this.buildEventLabel(e)})}},{key:"buildEventLabel",value:function(e){var t;return H()(t="".concat(e.widget.name," (")).call(t,e.widget.key,")")}},{key:"sendEvent",value:function(e){this._ga("send",{hitType:"event",eventCategory:_e,eventLabel:e.eventLabel,eventAction:e.eventAction,eventValue:e.value})}}]),i}(de);var xe=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"init",value:function(){this.initFlag||this.window.dataLayer&&(this.initFlag=!0)}},{key:"acceptable",get:function(){return Boolean(this.window.dataLayer)&&"function"!=typeof this.window.gtag}},{key:"track",value:function(e,t){this.checkInit(e,t)&&e===L.EVENT_CHARGE_SUCCESS&&this.purchase(t)}},{key:"purchase",value:function(e){var t=this.currencyService.toFloat(e.total,e.currency),n=Te(j()(e)),r=this.window.dataLayer;ne()(r)&&r.push({event:"purchase",ecommerce:{currencyCode:e.currency,purchase:{actionField:{id:e.donationId,affiliation:"Fundraise Up",revenue:t},products:[{id:e.widget.key,name:e.widget.name,variant:n,price:t,quantity:1,brand:"Fundraise Up",category:n}]}}})}}]),i}(de),Ze=function(){function e(){(0,k.Z)(this,e),this.acceptors=[]}return(0,P.Z)(e,[{key:"register",value:function(e){return this.acceptors.push(e),this}},{key:"track",value:function(e,t){var n;b()(n=this.acceptors).call(n,(function(n){n.acceptable&&n.track(e,t)}))}}]),e}();var Le=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).trackerAcceptor=new Ze,e}return(0,P.Z)(i,[{key:"init",value:function(){this.trackerAcceptor.register(new xe(this.logger,this.currencyService,this.options,this.campaign)).register(new Ie(this.logger,this.currencyService,this.options,this.campaign)).register(new Re(this.logger,this.currencyService,this.options,this.campaign)),this.initFlag=!0}},{key:"track",value:function(e,t){this.checkInit(e,t)&&this.trackerAcceptor.track(e,t)}}]),i}(de),Me=n(32142),Fe=n.n(Me),Ue=function(){function e(){(0,k.Z)(this,e),this.payload={}}return(0,P.Z)(e,[{key:"merge",value:function(e){var t={};for(var n in e)t[n]=e[n];for(var r in this.payload)t[r]=this.payload[r];this.payload=t}},{key:"validate",value:function(){return!(!this.payload.companyKey||8!==this.payload.companyKey.length||!this.payload.clientId||!this.eventType)}},{key:"toObject",value:function(){var e={};for(var t in this.payload)e[t]=this.payload[t];return e.eventType=this.eventType,e}}]),e}();var Be=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e){var t;(0,k.Z)(this,i),(t=r.call(this)).eventId=e.options.eventID;var n={eventId:t.eventId,pixels:e.pixels,data:e.parameters};return t.payload={pixelEventName:e.eventName,pixelEventData:Fe()(n)},t}return(0,P.Z)(i,[{key:"validate",value:function(){return!(!this.eventId||!this.payload.pixelEventName||!this.eventType)}},{key:"eventType",get:function(){return"facebookPixel"}}]),i}(Ue),Ge=n(22438),He=n(40776);function Ke(e){e=e||16;for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}var Ve=Ke(),Ye=function(){function e(t,n){(0,k.Z)(this,e),this.storage=t,this.initAt=n||(new Date).getTime(),this.pageviewCreatedAt=this.initAt,this.pageview=Ve,this.read(),this.sessionPage++,this.refresh()}return(0,P.Z)(e,[{key:"addUser",value:function(){this.user=Ke(),this.userCreatedAt=this.initAt}},{key:"addSession",value:function(){this.sessionCreatedAt=this.initAt}},{key:"write",value:function(){this.storage.setField(He.R.USER,this.user),this.storage.setField(He.R.USER_AT,this.pageviewCreatedAt.toString(10)),this.storage.setField(He.R.SESSION_AT,this.pageviewCreatedAt.toString(10)),this.storage.setField(He.R.SESSION_PAGE,this.sessionPage),this.storage.setField(He.R.PAGE_VIEW,this.pageview),this.storage.setField(He.R.PAGE_VIEW_AT,this.pageviewCreatedAt.toString(10))}},{key:"read",value:function(){this.user=this.storage.getField(He.R.USER)||"",this.userCreatedAt=Number(this.storage.getField(He.R.USER_AT))||0,this.sessionCreatedAt=Number(this.storage.getField(He.R.SESSION_AT))||0,this.sessionPage=Number(this.storage.getField(He.R.SESSION_PAGE))||0}},{key:"refresh",value:function(){this.user||this.addUser(),this.sessionCreatedAt||this.addSession(),this.write()}}]),e}();function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var We,je,Xe,ze,Qe=function(){function e(t,n,r,i,a,o,s,u){(0,k.Z)(this,e),this.session=t,this.livemode=n,this._window=r,this.tracker=i,this.company=o,this.campaign=s,this._keysKeeper=u,this.widgetViewId=null,this.widgetviewCreatedAt=null,this.session=t,this.timezone=ke(),this.observers=[];var c=o.trackToMarketingPixels.trackTestData,l=n?"Fundraise Up":"Fundraise Up - Test Data";(n||c)&&(o.trackToMarketingPixels.googleAnalytics&&this.observers.push(new Le(this,a,{affiliation:l},s)),o.trackToMarketingPixels.facebookPixel&&this.observers.push(new ye(this,a,{affiliation:l},s))),this.initializeFacebookPixelTracking()}return(0,P.Z)(e,[{key:"resolveFacebookPixels",value:function(){var e,t=[],n=this.window.fbq;if(!n)return t;if("function"==typeof(null==n?void 0:n.getState)){var r,i=n.getState();if(null===(e=null==i?void 0:i.pixels)||void 0===e?void 0:e.length)return t=B()(r=i.pixels).call(r,(function(e){return e.id}))}var a=n.queue;return a.length?(b()(a).call(a,(function(e){var n=e[0],r=e[1];"init"===n&&r&&t.push(r)})),t):t}},{key:"resolveFacebookEventOptions",value:function(e){var t,n=(null==e?void 0:e.eventID)||H()(t="event.".concat(V()().toString(),".")).call(t,(0,Ge.G)(7));return Z()(Z()({},e),{eventID:n})}},{key:"initializeFacebookPixelTracking",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.overrideFacebookPixelQueuePush();var n=this.overrideFacebookPixelCallMethod();if(!n){var r=24;t>r||q()((function(){return e.initializeFacebookPixelTracking(t+1)}),100*t)}}},{key:"overrideFacebookPixelCallMethod",value:function(){var e=this.window.fbq;if(!e||!e.callMethod)return!1;if(e.callMethod.overridden)return!0;if(e.queue.length)return!1;var t=e.callMethod,n=this;return e.callMethod=function(e,r,i,a){a=n.resolveFacebookEventOptions(a),t.call(this,e,r,i,a),"string"==typeof r&&n.trackFacebookEventToClickhouse({eventType:e,eventName:r,parameters:i,options:a,pixels:n.resolveFacebookPixels()})},e.callMethod.overridden=!0,!0}},{key:"overrideFacebookPixelQueuePush",value:function(){var e=this.window.fbq;if(e&&!e.callMethod&&!e.queue.push.overridden){var t=this,n=t.resolveFacebookPixels(),r=e.queue;r.length&&b()(r).call(r,(function(e){var r=e[0],i=e[1],a=e[2],o=t.resolveFacebookEventOptions();"init"!==r&&t.trackFacebookEventToClickhouse({eventType:r,eventName:i,parameters:a,options:o,pixels:n})}));var i=e.queue.push;e.queue.push=function(e){var r=i.call(this,e);if(!e)return r;var a=e[0],o=e[1],s=e[2],u=e[3],c=t.resolveFacebookEventOptions(u);return"string"!=typeof o||t.trackFacebookEventToClickhouse({eventType:a,eventName:o,parameters:s,options:c,pixels:n}),r},e.queue.push.overridden=!0}}},{key:"trackFacebookEventToClickhouse",value:function(e){var t=e.eventType,n=e.eventName,r=e.parameters,i=e.options,a=e.pixels;a=ie()(a),this.tracker.track(new Be({eventType:t,eventName:n,parameters:r,options:i,pixels:a}))}},{key:"params",value:function(e,t){var n=this.window.location,r={tz:this.timezone,url:n.href.replace(n.hash,""),now:e,widgetview:this.widgetViewId||void 0,widgetviewDur:this.widgetviewCreatedAt?e-this.widgetviewCreatedAt:void 0};return this.campaign?Z()(Z()({},r),{key:this.campaign.key,xFactor:this.campaign.xFactor||void 0}):r}},{key:"track",value:function(){this.livemode&&this.session.refresh()}},{key:"widgetView",value:function(e){this.widgetViewId=Ke(),this.widgetviewCreatedAt=(new Date).getTime();var t={widget:e};this.track(),this.observe(L.EVENT_WIDGET_VIEW,t)}},{key:"widgetClose",value:function(e){var t=this;q()((function(){t.observe(L.EVENT_CLOSE,{widget:e})}),200)}},{key:"chargeSuccess",value:function(e,t,n){var r=be([j()(t)===y.oe.ONCE?t.defaultAmount.once:t.defaultAmount.monthly],t.amount),i=be(j()(t)===y.oe.ONCE?t.amountOptions.once:t.amountOptions.monthly,t.amount),a={event:L.EVENT_CHARGE_SUCCESS,widget:e,amount:t.amount,total:t.total,currency:t.currency,_goal:t._goal,repeat:j()(t),fees:t.includeFees,method:t.method,suggestionsRel:i,defAmountRel:r,defAmount:t.defaultAmount,suggestions:t.amountOptions,paymentData:{sessionId:n},donationId:t.donationId,customer:{email:t.email},company:{defaultCurrency:this.company.defaultCurrency}};this.track(),this.observe(L.EVENT_CHARGE_SUCCESS,a),this.session.successUrl&&this.observe(L.EVENT_THANK_YOU,{widget:e})}},{key:"chargeFail",value:function(){this.track()}},{key:"customerPrivacy",value:function(e){this.observe(L.EVENT_CUSTOMER_PRIVACY,{widget:e})}},{key:"showThankYouScreen",value:function(e){this.observe(L.EVENT_THANK_YOU,{widget:{key:e}})}},{key:"observe",value:function(e,t){var n,r=function(e,t){var n=void 0!==J()&&ee()(e)||e["@@iterator"];if(!n){if(ne()(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return qe(e,t);var r=i()(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?z()(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qe(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}(this.observers);try{for(r.s();!(n=r.n()).done;)n.value.track(e,t)}catch(e){r.e(e)}finally{r.f()}}},{key:"window",get:function(){return this._window}},{key:"keysKeeper",get:function(){return this._keysKeeper}}]),e}(),Je=n(36004),$e=n.n(Je),et=n(4983),tt=n(21364),nt=n(71899),rt=n.n(nt),it=n(11052),at=n.n(it),ot=n(33093),st=n.n(ot);!function(e){e.HICT_PARENT="AJDZGJPP",e.HICT="AKVNXBFW",e.GREATER_GOOD_CHARITIES="AHTMBNKF",e.STC="VMZETRCF",e.UNICEF="APQJSHGS",e.PIH="AJDEFYWC",e.AHA_PARENT="ARMPCVPV",e.AHA="ADQRERLU",e.BEST_FRIENDS="AFZUYXBL",e.NEVERTHIRSTWATER="RWHMSQPD",e.CORG="AZCENQQL",e.AUS="AGZKYDGZ",e.NDSTREET="ALTVXKWG",e.ALZ="AJGEZYBE",e.LUST="AEDVPKAW",e.ARTHRITIS="AUSMBFYM",e.FREEDOM_BAKERIES="AFKPNPQY",e.MASJID_AL_FURGAN="ASYLMXZK",e.MPAC="ANSRXGKF",e.RFT="ACMRCWPB",e.CHILDMIND="ZSNREIBR",e.FUNDRAISE_UP_NYC="APWCYEMD",e.SALVATION_ARMY_UK="ASNVRJLX",e.MERCY_SHIPS_AU="AWKKWSUU",e.LONELY_ORPHANS="AUKZQSFX",e.ALZHEIMER_ASSOCIATION="AJGEZYBE",e.STAGING_HELPING_HAND="HRMEIGNS",e.STAGING_HELPING_HAND_UK="AWKXSTZX",e.HELPING_HAND="MCJZDSLZ",e.INTERNATIONAL_JUSTICE_MISSION_UK="AGMQWWLR",e.GUIDE_DOGS="APLFUNKH",e.ROPSI="AJZSDMZE",e.ROPSI_AU="AESYHEDW",e.ROPSI_UK="ASHPENZB",e.ROPSI_CA="AZRBXHWY",e.FAMILY_ELDERCARE="ARRCDXDL",e.ENTERTAINMENT_INDUSTRY="ASXBZCVR"}(We||(We={})),function(e){e.THE_ADVENTURE_PROJECT="5a8b26d4f9891300017cc0fc"}(je||(je={})),function(e){e[e.MONEY_LEGACY_MIN=0]="MONEY_LEGACY_MIN",e[e.MONEY_MIN=150]="MONEY_MIN",e[e.MONEY_MAX=500]="MONEY_MAX",e[e.MONEY_DEFAULT=200]="MONEY_DEFAULT",e[e.STOCK_MIN=400]="STOCK_MIN",e[e.STOCK_MAX=1e3]="STOCK_MAX",e[e.STOCK_DEFAULT=500]="STOCK_DEFAULT",e[e.CRYPTO_MIN=400]="CRYPTO_MIN",e[e.CRYPTO_MAX=1e3]="CRYPTO_MAX",e[e.CRYPTO_DEFAULT=500]="CRYPTO_DEFAULT"}(Xe||(Xe={})),function(e){e.NOWHERE="nowhere",e.WIDGET="widget",e.URL="url"}(ze||(ze={}));var ut,ct,lt,ht,dt,ft=function(){function e(t){var n=this;(0,k.Z)(this,e),this.excluded=!1,this.isActive=!1,this.alwaysDisabledCompanies=[We.ROPSI];var r=t.settings,i=t.clientId,a=t.companyKey,o=t.widgetKey,s=t.tracker,u=t.funStorage,c=t.user,l=t.parentCompanyKey;this.clientId=i,this.companyKey=a,this.parentCompanyKey=l,this.widgetKey=o,this.tracker=s,this.funStorage=u,this.user=c;var h=r.id,d=r.name,f=r.variants,m=r.disabledFor,p=r.enabled;this.name=d,this.id=h,this.disabledFor=m,this.enabled=p,this.variants=new($e()),b()(f).call(f,(function(e){n.variants.set(e.name,{percent:e.percent})})),this.variantSelectors=e.getDistributedSelectors(this.variants,d);var v=ne()(window.FUN_DISABLED_EXPERIMENTS)?window.FUN_DISABLED_EXPERIMENTS:[],y=!window.FUN||window.FUN.config.allowExperiments;this.globalDisabled=!y||-1!==rt()(v).call(v,h)}return(0,P.Z)(e,[{key:"active",get:function(){return this.isActive}},{key:"currentVariantName",get:function(){return this._currentVariantName},set:function(e){this.previousVariantName=this._currentVariantName,this._currentVariantName=e}},{key:"variantName",get:function(){return this.currentVariantName}},{key:"start",value:function(e){this.checkDisabled()||(this.activate(),this.init(),this.tracker.setEventTags(this.getTags()))}},{key:"getTags",value:function(){var e,t=[this.id,H()(e="".concat(this.id,"-")).call(e,this.currentVariantName)];return this.excluded&&t.push("".concat(this.id,"-exclusion")),t}},{key:"isVariant",value:function(e){return this.currentVariantName===e}},{key:"activate",value:function(){if(this.isActive)throw new Error("Experiment ".concat(this.name," already started"));this.isActive=!0}},{key:"init",value:function(){var e,t,n,r=this,i=null===(t=this.disabledFor)||void 0===t?void 0:at()(t).call(t,(function(e){var t=e.companies;return E()(t).call(t,(function(e){var t;return e.withChildren?st()(t=[r.companyKey,r.parentCompanyKey]).call(t,e.key):e.key===r.companyKey}))}));if(i)this.setVariant(i.defaultVariant);else{var a=this.getDebugPanelVariant();if(a)this.currentVariantName=a;else{var o=this.getSelection(),s=[];b()(e=this.variantSelectors).call(e,(function(e,t){s.push([t,e])})),this.currentVariantName=null===(n=at()(s).call(s,(function(e){var t=(0,tt.Z)(e,2),n=(0,tt.Z)(t[1],2),r=n[0],i=n[1];return o>=r&&o<i})))||void 0===n?void 0:n[0]}}}},{key:"setVariant",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.variants.has(e))throw new Error("Invalid variant name for ".concat(this.name," experiment"));this.excluded=t,this.currentVariantName=e,this.tracker.removeEventTags([this.id]),this.tracker.setEventTags(this.getTags())}},{key:"restoreVariant",value:function(){this.previousVariantName&&this.setVariant(this.previousVariantName,!1)}},{key:"checkDisabled",value:function(){var e;if(-1!==rt()(e=this.alwaysDisabledCompanies).call(e,this.companyKey))return!0;var t=this.getDebugPanelExperimentsSettings();if(t){var n=t[this.name];if(n&&n.enabled)return!1}return!this.enabled||this.globalDisabled}},{key:"getDebugPanelExperimentsSettings",value:function(){var e=this.funStorage.get();if("object"!==(0,ge.Z)(e))throw new Error("Stored settings must be an object");return e}},{key:"getDebugPanelVariant",value:function(){var e=this.funStorage.get();if(e){var t=e[this.name];return t?t.variant:void 0}}},{key:"getSelection",value:function(){var e;return Number(function(e){var t,n,r,i,a,o,s,u,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;for(t=3&e.length,n=e.length-t,r=c,a=3432918353,o=461845907,u=0;u<n;)s=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,r=27492+(65535&(i=5*(65535&(r=(r^=s=(65535&(s=(s=(65535&s)*a+(((s>>>16)*a&65535)<<16)&4294967295)<<15|s>>>17))*o+(((s>>>16)*o&65535)<<16)&4294967295)<<13|r>>>19))+((5*(r>>>16)&65535)<<16)&4294967295))+((58964+(i>>>16)&65535)<<16);switch(s=0,t){case 3:s^=(255&e.charCodeAt(u+2))<<16;break;case 2:s^=(255&e.charCodeAt(u+1))<<8;break;case 1:r^=s=(65535&(s=(s=(65535&(s^=255&e.charCodeAt(u)))*a+(((s>>>16)*a&65535)<<16)&4294967295)<<15|s>>>17))*o+(((s>>>16)*o&65535)<<16)&4294967295}return r^=e.length,r=2246822507*(65535&(r^=r>>>16))+((2246822507*(r>>>16)&65535)<<16)&4294967295,r=3266489909*(65535&(r^=r>>>13))+((3266489909*(r>>>16)&65535)<<16)&4294967295,(r^=r>>>16)>>>0}(H()(e="".concat(this.clientId,":")).call(e,this.name))%1e3)}}],[{key:"getDistributedSelectors",value:function(e,t){var n,r=0;if(b()(e).call(e,(function(e){var t=e.percent;return r+=t})),100!==Math.floor(r))throw new Error(H()(n="Invalid distribution in ".concat(t," experiment. Percentage summary equals ")).call(n,r));var i=0,a=new($e());return b()(e).call(e,(function(e,t){var n=e.percent;a.set(t,[10*i,10*i+10*n]),i+=n})),a}}]),e}();!function(e){e.CHROME="Chrome",e.MOBILE_SAFARI="Mobile Safari",e.SAFARI="Safari",e.SAMSUNG_BROWSER="Samsung Browser",e.FIREFOX="Firefox",e.OTHER="Other"}(ut||(ut={})),function(e){e.WINDOWS="Windows",e.IOS="iOS",e.ANDROID="Android",e.MAC_OS="Mac OS",e.OTHER="Other"}(ct||(ct={})),function(e){e.CONTROL="control",e.TEST="test"}(lt||(lt={})),function(e){e.TEST_1="test-1",e.TEST_2="test-2"}(ht||(ht={})),function(e){e.DEFAULT_YES="defaultYes",e.DEFAULT_NO="defaultNo",e.ONLY_NO="onlyNo"}(dt||(dt={}));var mt,pt=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"shouldShowCheckout2",get:function(){return this.isVariant(lt.TEST)}},{key:"setVariant",value:function(e){this.getDebugPanelVariant()||(0,et.Z)((0,ce.Z)(i.prototype),"setVariant",this).call(this,e)}},{key:"checkDisabled",value:function(){var e=this.getDebugPanelExperimentsSettings();if(e){var t=e[this.name];if(t&&t.enabled)return!1}return!this.enabled}}]),i}(ft),vt=(0,v.Z)({},c.CHECKOUT_2,pt);!function(e){e.CONTROL="control",e.TEST="test"}(mt||(mt={}));var yt,gt,kt=function(){function e(t){(0,k.Z)(this,e),this.experiments=new($e());var n=t.experimentsSettings,r=t.tracker,i=t.funStorage,a=t.companyKey,o=t.widgetKey,s=t.user,u=t.parentCompanyKey;this.experimentsSettings=n,this.tracker=r,this.funStorage=i,this.companyKey=a,this.parentCompanyKey=u,this.widgetKey=o,this.user=s}return(0,P.Z)(e,[{key:"init",value:function(){var t,n=this;b()(t=this.experimentsSettings).call(t,(function(t){var r=t.name,i=t.autostart,a=vt[r];if(!a)throw new Error('No such experiment in experimentsMap under key "'.concat(r,'"'));var o=new a({clientId:n.tracker.clientId,settings:t,companyKey:n.companyKey,parentCompanyKey:n.parentCompanyKey,tracker:n.tracker,funStorage:n.funStorage,user:n.user,widgetKey:n.widgetKey});n.experiments.set(r,o),e.isAutostartable(o,i)&&o.start()}))}},{key:"get",value:function(e){if(!this.experiments.has(e))throw new Error('No such experiment "'.concat(e,'"'));return this.experiments.get(e)}}],[{key:"isAutostartable",value:function(e,t){return t}}]),e}(),Pt=[],St=window.navigator.userAgent,Et=[/FBAV|FBAN|FBSV|FBID|FBBV\/([0-9.]+)/,/Instagram\s([0-9.]+)/,/Snapchat\/([0-9.]+)/,/MicroMessenger\/([0-9.]+)/,/Twitter for iPhone[/]?([\d.]+)?/,/TikTok[/ ](\d+\.(?:[.\d]+))?/,/bytedance/i,/musical_ly/i];!function(e){e.GOOGLE_PLACES="google-places",e.LOB="lob",e.LOQATE="loqate"}(yt||(yt={})),function(e){e.DELIVERABLE="deliverable",e.UNDELIVERABLE="undeliverable"}(gt||(gt={}));var Dt=n(42461),bt=n.n(Dt),wt=n(20419);var At=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e){var t,n,a,o,s=e.type,u=void 0===s?"":s,c=e.code,l=void 0===c?"":c,h=e.cause,d=void 0===h?"":h,f=e.description,m=void 0===f?"":f,p=e.resolution,v=void 0===p?"":p;return(0,k.Z)(this,i),r.call(this,H()(t=H()(n=H()(a=H()(o="Loqate ".concat(u,' error: error code: "')).call(o,l,'", cause: "')).call(a,d,', description: "')).call(n,m,'", resolution: "')).call(t,v,'"'))}return(0,P.Z)(i)}((0,me.Z)(Error)),Ct=n(98189),Nt=n.n(Ct),Ot=n(34126),_t=n(92471);function Tt(e){var t=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,ce.Z)(e);if(t){var i=(0,ce.Z)(this).constructor;n=oe()(r,arguments,i)}else n=r.apply(this,arguments);return(0,ue.Z)(this,n)}}var Rt=new($e());function It(e){var t,n=new xt(e),r=Rt.get(e.url);e.cancelSimilar&&r&&r(),Rt.set(e.url,A()(t=n.abort).call(t,n));var i=new(Nt())((function(e,t){return n.send(e,t)}));return i.finally((function(){return Rt.delete(e.url)})),i}var xt=function(){function e(t){(0,k.Z)(this,e),this.options=t,this.xhr=new XMLHttpRequest}return(0,P.Z)(e,[{key:"abort",value:function(){this.xhr.abort()}},{key:"send",value:function(e,t){var n,r=this,i=this.options.url;"GET"===this.options.method&&(i+="?"+Ot.stringify(null!==(n=this.options.params)&&void 0!==n?n:{},{encode:!0})),this.xhr.open(this.options.method,i),this.xhr.withCredentials=!("withCredentials"in this.options)||Boolean(this.options.withCredentials),this.xhr.onload=function(){var n,i=r.xhr.response,a=r.xhr.status>=200&&r.xhr.status<300||(null===(n=r.options.validStatuses)||void 0===n?void 0:st()(n).call(n,r.xhr.status)),o=i,s=r.xhr.getResponseHeader("content-type");if(null==s?void 0:st()(s).call(s,"application/json"))try{o=JSON.parse(i)}catch(e){return void t(e)}a?e(_t.H.success(o)):r.options.rejectOnInvalid?t(new Zt(r.xhr.status,r.xhr.statusText)):e(_t.H.fail(o))},this.xhr.onerror=function(e){var n=r.xhr.statusText;0===r.xhr.status&&(n="Network Error"),t(new Zt(r.xhr.status,n))};var a,o,s=this.options.headers;s&&b()(a=bt()(s)).call(a,(function(e){void 0!==s[e]&&r.xhr.setRequestHeader(e,s[e])})),void 0!==this.options.params&&(o=Fe()(this.options.params)),this.xhr.send(o)}}]),e}(),Zt=function(e){(0,se.Z)(n,e);var t=Tt(n);function n(e,r){var i,a;return(0,k.Z)(this,n),(a=t.call(this,H()(i="Server response status ".concat(e,", ")).call(i,r))).statusCode=e,a}return(0,P.Z)(n)}((0,me.Z)(Error)),Lt=function(e){(0,se.Z)(n,e);var t=Tt(n);function n(){return(0,k.Z)(this,n),t.call(this,'Request returned failure result with "rejectOnInvalid" flag set')}return(0,P.Z)(n)}((0,me.Z)(Error)),Mt=function(){function e(t,n){(0,k.Z)(this,e),this.sentry=t,this.fundraiseupAddressProviderWithLoqate=n,this.apiUrl="https://api.addressy.com/CapturePlus/Interactive/Find/v2.10/json3.ws"}return(0,P.Z)(e,[{key:"getPlaces",value:function(t){var n=this,r=t.input,i=t.lastId;return It({url:this.apiUrl,method:"GET",withCredentials:!1,headers:{Accept:"application/json"},params:{SearchFor:"Everything",Country:"GB",PreferredLanguage:"English",MaxSuggestions:20,MaxResults:100,Key:e.apiKey,Street:r,SearchTerm:r,LastId:i},rejectOnInvalid:!0}).then((function(t){if(_t.H.isFailure(t))return n.sentry.captureException(new Lt,{extra:{failureResult:t.failureResult},tags:{service:e.name}}),[];var r,i=t.successResult,a=i.Items[0];if(1===(r=i.Items).length&&4===bt()(r[0]).length&&"Cause"in r[0]){var o=new At({type:"autocomplete",code:a.Error,cause:a.Cause,description:a.Description,resolution:a.Resolution});return n.sentry.captureException(o),[]}return e.formatPredictions(i.Items)})).catch((function(t){return n.sentry.captureException(t,{tags:{service:e.name}}),[]}))}},{key:"shouldFindSubplaces",value:function(e){var t;return!!(null===(t=e.place.meta)||void 0===t?void 0:t.shouldFindSubplaces)}},{key:"getSubplaces",value:function(e){var t=e.input,n=e.place;return this.getPlaces({input:t,lastId:n.placeId})}},{key:"getDetails",value:function(e){var t=e.customData,n=e.place,r=e.sessionToken;return this.fundraiseupAddressProviderWithLoqate.getDetails({customData:t,place:n,sessionToken:r})}}],[{key:"formatPredictions",value:function(e){return B()(e).call(e,(function(e){return{placeId:e.Id,description:e.Text,meta:{shouldFindSubplaces:"Retrieve"!==e.Next}}}))}}]),e}();Mt.apiKey="XB23-FH36-GC98-TK65";var Ft=function(){function e(t,n,r){(0,k.Z)(this,e),this.createFundraiseupAddressProvider=t,this.sentry=n,this.config=r}return(0,P.Z)(e,[{key:"getPlaces",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,i,a,o;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.customData,r=e.input,i=e.sessionToken,a=e.restrictCountries,o=this.getProvider({restrictCountries:a}),""!==r){t.next=4;break}return t.abrupt("return",[]);case 4:return t.abrupt("return",o.getPlaces({customData:n,input:r,sessionToken:i,restrictCountries:a}));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"shouldFindSubplaces",value:function(e){var t=e.place,n=e.restrictCountries;return this.getProvider({restrictCountries:n}).shouldFindSubplaces({place:t,restrictCountries:n})}},{key:"getSubplaces",value:function(e){var t=e.place,n=e.input,r=e.sessionToken,i=e.restrictCountries;return this.getProvider({restrictCountries:i}).getSubplaces({place:t,input:n,sessionToken:r,restrictCountries:i})}},{key:"getDetails",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,i,a,o;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.customData,r=e.place,i=e.sessionToken,a=e.restrictCountries,o=this.getProvider({restrictCountries:a}),t.abrupt("return",o.getDetails({customData:n,place:r,sessionToken:i}));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"getProvider",value:function(e){var t,n=e.restrictCountries;if((n&&n[0])===y.C9.UNITED_KINGDOM){var r=this.createFundraiseupAddressProvider(this.sentry,this.config);r.setForcedProviderType(yt.LOQATE),t=new Mt(this.sentry,r)}else t=this.createFundraiseupAddressProvider(this.sentry,this.config);return t}}]),e}(),Ut=function(){function e(t,n){(0,k.Z)(this,e),this.sentry=t,this.config=n,this.baseURL="",this.basePrefix="",(null==n?void 0:n.baseURL)&&(this.baseURL=n.baseURL)}return(0,P.Z)(e,[{key:"setForcedProviderType",value:function(e){this.forcedProviderType=e}},{key:"getPlaces",value:function(t){var n,r,i=this,a=t.customData,o=t.input,s=t.sessionToken,u=t.restrictCountries;return It({url:H()(n="".concat(this.baseURL)).call(n,this.basePrefix,"/autocompleteAddresses"),method:"GET",withCredentials:!0,headers:Z()(Z()({},null===(r=this.config)||void 0===r?void 0:r.fundraiseupAddressProviderHeaders),{Accept:"application/json"}),params:{customData:Ot.stringify(a),input:o,sessionToken:s,restrictCountries:u,forceAddressProviderType:this.forcedProviderType},rejectOnInvalid:!0}).then((function(t){return _t.H.isFailure(t)?(i.sentry.captureException(new Lt,{extra:{failureResult:t.failureResult},tags:{service:e.name}}),[]):t.successResult})).catch((function(t){return i.sentry.captureException(t,{tags:{service:e.name}}),[]}))}},{key:"shouldFindSubplaces",value:function(){return!1}},{key:"getSubplaces",value:function(){return Nt().reject(new Error("There is no subplaces in fundraiseup provider"))}},{key:"getDetails",value:function(e){var t,n,r=e.customData,i=e.place,a=e.sessionToken;if(i.address)return Nt().resolve(i.address);if(!i.placeId)return Nt().reject(new Error("Nor address field neither placeId field is defined in place object, something gone wrong"));var o=i.placeId;return It({url:H()(t="".concat(this.baseURL)).call(t,this.basePrefix,"/detailsAddress"),method:"GET",withCredentials:!0,headers:Z()(Z()({},null===(n=this.config)||void 0===n?void 0:n.fundraiseupAddressProviderHeaders),{Accept:"application/json"}),params:{customData:Ot.stringify(r),placeId:o,sessionToken:a,forceAddressProviderType:this.forcedProviderType},rejectOnInvalid:!0}).then((function(e){return _t.H.isFailure(e)?Nt().reject(new Lt):e.successResult}))}}]),e}(),Bt=n(65356);var Gt,Ht=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e,t,n){var a;return(0,k.Z)(this,i),(a=r.call(this,e,t)).sentry=e,a.config=t,a.checkoutSessionToken=n,a}return(0,P.Z)(i,[{key:"getPlaces",value:function(e){var t,n,r,i,a=this,o=e.customData,s=e.input,u=e.sessionToken,c=e.restrictCountries,l=this.checkoutSessionToken||(null==o?void 0:o.token);return l?It({method:"GET",url:H()(t=H()(n="".concat(this.baseURL,"/")).call(n,Bt.cQ,"/")).call(t,l,"/mailingAddress"),withCredentials:!0,headers:Z()(Z()({},null===(r=this.config)||void 0===r?void 0:r.fundraiseupAddressProviderHeaders),{Accept:"application/json"}),params:{input:s,sessionToken:u,restrictCountries:c,forceAddressProviderType:this.forcedProviderType,locale:null===(i=this.config)||void 0===i?void 0:i.locale},rejectOnInvalid:!0}).then((function(e){return _t.H.isFailure(e)?(a.sentry.captureException(new Lt,{extra:{failureResult:e.failureResult},tags:{service:Ut.name}}),[]):e.successResult})):Nt().reject(new Error("Expected the widgetSession token"))}},{key:"getDetails",value:function(e){var t,n,r,i,a,o=e.customData,s=e.place,u=e.sessionToken;if(s.address)return Nt().resolve(s.address);if(!s.placeId)return Nt().reject(new Error("Nor address field neither placeId field is defined in place object, something gone wrong"));var c=s.placeId,l=this.checkoutSessionToken||(null==o?void 0:o.token);return l?It({method:"GET",url:H()(t=H()(n=H()(r="".concat(this.baseURL,"/")).call(r,Bt.cQ,"/")).call(n,l,"/mailingAddress/")).call(t,c),withCredentials:!0,headers:Z()(Z()({},null===(i=this.config)||void 0===i?void 0:i.fundraiseupAddressProviderHeaders),{Accept:"application/json"}),params:{sessionToken:u,forceAddressProviderType:this.forcedProviderType,locale:null===(a=this.config)||void 0===a?void 0:a.locale},rejectOnInvalid:!0}).then((function(e){return _t.H.isFailure(e)?Nt().reject(new Lt):e.successResult})):Nt().reject(new Error("Expected the widgetSession token"))}}]),i}(Ut),Kt=n(65731),Vt=n.n(Kt),Yt=function(){function e(t){(0,k.Z)(this,e),this.currencyService=t,this.numbers=this.generateNumbers()}return(0,P.Z)(e,[{key:"beautify",value:function(e,t,n){var r,i,a=this,o=ne()(e),s=B()(r=Vt()(e)).call(r,(function(e){return a.currencyService.toFloat(e,t)})),u=this.sortAsc(s);s=u.list;var c=u.positions,l=this.findNearestPosition(s[0],0,this.numbers.length-s.length);if(n)for(var h=this.currencyService.toFloat(n,t),d=this.numbers[this.numbers.length-1];h&&this.numbers[l]<h&&h<d;)l++;for(var f=this.getPositionsArray(l,s.length),m=f.length-1;m>0;m--){var p=this.findNearestPosition(s[m],f[m-1]+1,f[m+1]-1);f[m]=p||f[m]}return s=B()(i=this.restoreSort(B()(f).call(f,(function(e){return a.numbers[e]})),c)).call(i,(function(e){return a.currencyService.fromFloat(e,t)})),o?s:s[0]}},{key:"generateNumbers",value:function(){for(var e=[1,2,3,4,5,6,7,8,9,10,12,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85,90,100,120,130,140,150,160,170,180,190,200,250,300,350,400,450,500,600,650,700,750,800,900],t=[10,12,15,20,25,30,35,40,50,60,70,80,90],n=function(n){b()(t).call(t,(function(t){return e.push(t*n)}))},r=100;r<1e7;r*=10)n(r);return e}},{key:"sortAsc",value:function(e){var t,n=0,r=De()(t=B()(e).call(e,(function(e){return{val:e,pos:n++}}))).call(t,(function(e,t){return e.val-t.val}));return{list:B()(r).call(r,(function(e){return e.val})),positions:B()(r).call(r,(function(e){return e.pos}))}}},{key:"restoreSort",value:function(e,t){var n,r,i=0;return B()(n=De()(r=B()(t).call(t,(function(t){return{pos:t,val:e[i++]}}))).call(r,(function(e,t){return e.pos-t.pos}))).call(n,(function(e){return e.val}))}},{key:"findNearestPosition",value:function(e,t,n){if(t=t||0,n=n||this.numbers.length-1,e>=this.numbers[n])return n;for(var r=n;r>t;r--)if(this.numbers[r-1]<=e&&e<=this.numbers[r])return e-this.numbers[r-1]>=this.numbers[r]-e?r:r-1;return 0}},{key:"getPositionsArray",value:function(e,t){for(var n=[],r=e;r<e+t;r++)n.push(r);return n}}]),e}(),qt=function(){function e(t,n){(0,k.Z)(this,e),this.field=t,this.storage=n}return(0,P.Z)(e,[{key:"get",value:function(){return this.storage.get(this.field)}},{key:"set",value:function(e,t){this.storage.set(this.field,e,t)}},{key:"remove",value:function(e){this.storage.remove(this.field,e)}}]),e}(),Wt=n(52034),jt=n.n(Wt),Xt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jt();(0,k.Z)(this,e),this.type=t,this.storage=n}return(0,P.Z)(e,[{key:"get",value:function(e){var t=this.storage.get(e);if(!t)return null;if(this.type===He.l.OBJECT){var n=null;try{n=JSON.parse(t)}catch(e){window.FUN.sentryLoader.captureError(e)}return n}return t}},{key:"set",value:function(e,t,n){this.type===He.l.OBJECT&&(t=Fe()(t)),this.storage.set(e,t,n)}},{key:"remove",value:function(e,t){this.storage.remove(e,t)}}]),e}();!function(e){e.SESSION="fundraiseup_session",e.CID="fundraiseup_cid",e.ELEMENTS_TEST_EXPERIMENTS="FUN_EXPERIMENTS",e.DEBUG="fundraiseup_debug",e.EXPERIMENTS="fundraiseup_experiments",e.CHECKOUT_2="checkout_2"}(Gt||(Gt={}));var zt=function(){function e(t){for(var n in(0,k.Z)(this,e),this.dictionary=new($e()),this.reverseDictionary=new($e()),t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];this.dictionary.set(n,r),this.reverseDictionary.set(r,n)}}return(0,P.Z)(e,[{key:"zip",value:function(e){return this.zipKeys(this.toFlatData(e))}},{key:"unzip",value:function(e){return this.fromFlatData(this.unzipKeys(e))}},{key:"unzipKeys",value:function(e){var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=this.dictionary.get(n);r?t[r]=e[n]:window.FUN.sentryLoader.captureError(new Error('The key for the "'.concat(n,'" field was not found')))}return t}},{key:"zipKeys",value:function(e){var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=this.reverseDictionary.get(n);r?t[r]=e[n]:window.FUN.sentryLoader.captureError(new Error('The minification key for the "'.concat(n,'" field was not found')))}return t}},{key:"toFlatData",value:function(e){var t={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];if(Qt(r))t[n]=r;else{var i=this.toFlatData(r);for(var a in i)Object.prototype.hasOwnProperty.call(e,n)&&(t[n+"."+a]=i[a])}}return t}},{key:"fromFlatData",value:function(e){var t,n={};return b()(t=bt()(e)).call(t,(function(t){var r,i=e[t],a=t.split("."),o={};b()(a).call(a,(function(e,t){if(a.length===t+1)return r?void(r[e]=i):void(o[e]=i);var s=e;if(n[s])r=n[s];else{if(r)return r[e]||(r[e]={}),void(r=r[e]);o[e]={},r=o[e]}})),n=Z()({},n,o)})),n}}]),e}();function Qt(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e||null===e||ne()(e)}var Jt={topLevelDomain:"topLevelDomain",t:"topLevelDomain",ida:"intent.donation.amount",idc:"intent.donation.currency",idr:"intent.donation.recurring",isf:"intent.supporter.firstName",isl:"intent.supporter.lastName",ise:"intent.supporter.email",ici:"intent.campaign.id",iek:"intent.element.key",iet:"intent.element.type",ic:"intent.comment",it:"intent.tribute",itt:"intent.tribute.type",iti:"intent.tribute.inHonorOf",itl:"intent.tribute.labelType",itm:"intent.tribute.method",ith:"intent.tribute.hideAmount",icd:"intent.checkoutSettings.designation",icc:"intent.checkoutSettings.customFields",icma:"intent.checkoutSettings.modifyAmount",icmd:"intent.checkoutSettings.modifyDesignation",ift:"intent.flowType",ifk:"intent.fundraisingPage.key",ifc:"intent.fundraisingPage.customerKey",mm:"messageBar.manuallyClosed",pi:"popup.interactionAt",sl:"socialProof.lastChargeAt",si:"socialProof.interactionAt",li:"lightbox.interactionAt",u:"user",ua:"userAt",s:"sessionAt",sp:"sessionPage",p:"pageView",pa:"pageViewAt",x:"xFactor"},$t=function(){function e(){(0,k.Z)(this,e),this.key=Gt.SESSION,this.storage=new Xt(He.l.OBJECT),this.zipper=new zt(Jt)}return(0,P.Z)(e,[{key:"getData",value:function(){var e=this.storage.get(this.key);return e?this.zipper.unzip(e):{}}},{key:"setData",value:function(e,t){var n=this.zipper.zip(e);this.storage.set(this.key,n,t)}},{key:"getField",value:function(e){var t=this.getData();return t&&e in t?t[e]:null}},{key:"setField",value:function(e,t){var n=this.getData()||{};n[e]=t,this.setData(n,{domain:n[He.R.TOP_LEVEL_DOMAIN]})}},{key:"removeField",value:function(e){var t=this.getData();t&&(delete t[e],this.setData(t,{domain:t[He.R.TOP_LEVEL_DOMAIN]}))}}]),e}(),en=function(){function e(t){(0,k.Z)(this,e),this.window=t}return(0,P.Z)(e,[{key:"subscribeOnUserInteraction",value:function(e){var t=this;return this.window.addEventListener("mousemove",e),this.window.addEventListener("touchstart",e),this.window.addEventListener("keypress",e),function(){t.window.removeEventListener("mousemove",e),t.window.removeEventListener("touchstart",e),t.window.removeEventListener("keypress",e)}}}]),e}();function tn(){var e=window.navigator.userAgent,t=rt()(e).call(e,"MSIE ");return!!window.MSInputMethodContext&&!!window.document.documentMode||t>0}var nn,rn=n(66376),an=n(24513),on=n(28055),sn=n(80942),un=n(3322),cn=n(91497),ln=n(33415),hn=n.n(ln),dn=n(1835),fn=n(51198);function mn(e){var t=(0,p.lazy)(e);return t.preload=e,t}var pn,vn,yn,gn=(nn={},(0,v.Z)(nn,fn.a.CRYPTO_CURRENCY,mn((function(){return Promise.all([n.e(3125),n.e(1477)]).then(n.bind(n,41477))}))),(0,v.Z)(nn,fn.a.CRYPTO_WALLET,mn((function(){return Promise.all([n.e(1498),n.e(7379)]).then(n.bind(n,57379))}))),(0,v.Z)(nn,dn.nn.COMMENT,mn((function(){return n.e(4929).then(n.bind(n,24929))}))),(0,v.Z)(nn,dn.nn.PRIVACY,mn((function(){return Promise.all([n.e(3125),n.e(9369)]).then(n.bind(n,9369))}))),(0,v.Z)(nn,dn.nn.THANK_YOU,mn((function(){return n.e(2588).then(n.bind(n,2588))}))),(0,v.Z)(nn,dn.nn.REMIND_ME,mn((function(){return n.e(2097).then(n.bind(n,2097))}))),(0,v.Z)(nn,dn.nn.QUESTIONS,mn((function(){return Promise.all([n.e(3125),n.e(6464)]).then(n.bind(n,76464))}))),nn),kn=(pn={},(0,v.Z)(pn,cn.e.DONATE,mn((function(){return n.e(6972).then(n.bind(n,86972))}))),(0,v.Z)(pn,cn.e.UPSELL,mn((function(){return n.e(8377).then(n.bind(n,28377))}))),(0,v.Z)(pn,cn.e.PAYMENT_OPTIONS,mn((function(){return Promise.all([n.e(3125),n.e(7062)]).then(n.bind(n,37062))}))),(0,v.Z)(pn,cn.e.PAYPAL_CONVERSION,mn((function(){return n.e(6483).then(n.bind(n,66483))}))),(0,v.Z)(pn,cn.e.LINK_TO_BANK,mn((function(){return Promise.all([n.e(3125),n.e(5048)]).then(n.bind(n,35048))}))),(0,v.Z)(pn,cn.e.ACH,mn((function(){return Promise.all([n.e(3125),n.e(8113)]).then(n.bind(n,18113))}))),(0,v.Z)(pn,cn.e.ACH_GUIDE,mn((function(){return n.e(30).then(n.bind(n,60030))}))),(0,v.Z)(pn,cn.e.CREDIT_CARD,mn((function(){return Promise.all([n.e(3125),n.e(5083)]).then(n.bind(n,25083))}))),(0,v.Z)(pn,cn.e.UK_BACS,mn((function(){return Promise.all([n.e(3125),n.e(5406)]).then(n.bind(n,95406))}))),(0,v.Z)(pn,cn.e.UK_BACS_CONFIRMATION,mn((function(){return Promise.all([n.e(3125),n.e(7793)]).then(n.bind(n,87793))}))),(0,v.Z)(pn,cn.e.AU_BECS,mn((function(){return Promise.all([n.e(3125),n.e(1191)]).then(n.bind(n,61191))}))),(0,v.Z)(pn,cn.e.DOUBLE,mn((function(){return Promise.all([n.e(3125),n.e(7438)]).then(n.bind(n,97438))}))),(0,v.Z)(pn,cn.e.GIFT_AID,mn((function(){return Promise.all([n.e(3125),n.e(9064)]).then(n.bind(n,69064))}))),(0,v.Z)(pn,dn.nn.REMIND_ME,mn((function(){return n.e(2097).then(n.bind(n,2097))}))),(0,v.Z)(pn,cn.e.POST_DONATION_UPSELL,mn((function(){return n.e(7756).then(n.bind(n,57756))}))),(0,v.Z)(pn,cn.e.SEPA,mn((function(){return Promise.all([n.e(3125),n.e(8474)]).then(n.bind(n,18474))}))),(0,v.Z)(pn,cn.e.CLICK_TO_PAY_SPLASH,mn((function(){return n.e(2479).then(n.bind(n,82479))}))),(0,v.Z)(pn,dn.nn.QUESTIONS,mn((function(){return Promise.all([n.e(3125),n.e(6464)]).then(n.bind(n,76464))}))),(0,v.Z)(pn,dn.nn.PRIVACY,mn((function(){return Promise.all([n.e(3125),n.e(9369)]).then(n.bind(n,9369))}))),(0,v.Z)(pn,dn.nn.THANK_YOU,mn((function(){return n.e(2588).then(n.bind(n,2588))}))),(0,v.Z)(pn,dn.nn.COMMENT,mn((function(){return n.e(4929).then(n.bind(n,24929))}))),(0,v.Z)(pn,dn.nn.MAILING_ADDRESS,mn((function(){return Promise.all([n.e(7039),n.e(3125),n.e(9770),n.e(2184)]).then(n.bind(n,82184))}))),pn),Pn=n(51160),Sn=(vn={},(0,v.Z)(vn,Pn.x.STOCK_BROKERAGE,mn((function(){return Promise.all([n.e(3125),n.e(6691)]).then(n.bind(n,76691))}))),(0,v.Z)(vn,Pn.x.STOCK_LINK_TO_BROKERAGE,mn((function(){return n.e(7873).then(n.bind(n,7873))}))),(0,v.Z)(vn,Pn.x.STOCK_SECURITIES,mn((function(){return n.e(6148).then(n.bind(n,36148))}))),(0,v.Z)(vn,Pn.x.STOCK_SIGNATURE,mn((function(){return n.e(9151).then(n.bind(n,99151))}))),(0,v.Z)(vn,Pn.x.STOCK_CO_OWNER,mn((function(){return n.e(8766).then(n.bind(n,48766))}))),(0,v.Z)(vn,Pn.x.STOCK_CO_OWNER_SIGNATURE,mn((function(){return n.e(3589).then(n.bind(n,23589))}))),(0,v.Z)(vn,Pn.x.STOCK_CONFIRMATION,mn((function(){return Promise.all([n.e(3125),n.e(8225)]).then(n.bind(n,38225))}))),(0,v.Z)(vn,dn.nn.COMMENT,mn((function(){return n.e(4929).then(n.bind(n,24929))}))),(0,v.Z)(vn,dn.nn.PRIVACY,mn((function(){return Promise.all([n.e(3125),n.e(9369)]).then(n.bind(n,9369))}))),(0,v.Z)(vn,dn.nn.MAILING_ADDRESS,mn((function(){return Promise.all([n.e(7039),n.e(3125),n.e(9770),n.e(2184)]).then(n.bind(n,82184))}))),(0,v.Z)(vn,dn.nn.QUESTIONS,mn((function(){return Promise.all([n.e(3125),n.e(6464)]).then(n.bind(n,76464))}))),(0,v.Z)(vn,dn.nn.THANK_YOU,mn((function(){return n.e(2588).then(n.bind(n,2588))}))),vn),En=Z()(Z()(Z()({},gn),kn),Sn),Dn=(yn={},(0,v.Z)(yn,fe.Cl.MONEY,kn),(0,v.Z)(yn,fe.Cl.STOCK,Sn),(0,v.Z)(yn,fe.Cl.CRYPTO,gn),yn),bn=function(e){return(0,m.mG)(void 0,void 0,void 0,f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Dn[e],t.next=3,Nt().all(B()(n=hn()(r)).call(n,(function(e){return e.preload()})));case 3:case"end":return t.stop()}}),t)})))},wn=n(62355);function An(e,t,n){return(0,m.mG)(this,void 0,void 0,f().mark((function r(){var i;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!(i=Dn[e][t])){r.next=6;break}return r.next=6,i.preload();case 6:r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),n.captureException(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))}var Cn=n(9907),Nn=n.n(Cn),On=n(59225),_n=n.n(On),Tn=n(8979),Rn=n.n(Tn),In=n(68477),xn=n.n(In);function Zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ln(e){var t=function(e){var t=e.customFields;if(!t)return e;var n,r=function(e,t){var n=void 0!==J()&&ee()(e)||e["@@iterator"];if(!n){if(ne()(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return Zn(e,t);var r=i()(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?z()(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Zn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;e[a.name]=a.value}}catch(e){r.e(e)}finally{r.f()}return Rn()(e,"customFields")}(Nn()(e));return Z()({},xn()(t,_n()))}var Mn,Fn,Un=n(41893),Bn=n(78765),Gn=n.n(Bn),Hn=n(11354),Kn=n(61695),Vn=n(76271),Yn=Kn;function qn(e){var t=Hn.I.formatFiatCurrencies(Vn,e),n=Hn.I.formatCryptoCurrencies(Yn);return Z()(Z()({},t),n)}B()(Mn=hn()(Vn)).call(Mn,(function(e){return e.code})),B()(Fn=hn()(Kn)).call(Fn,(function(e){return e.code}));var Wn,jn=n(17238);!function(e){e.PREFIX="prefix",e.POSTFIX="postfix"}(Wn||(Wn={}));var Xn,zn,Qn=n(46301);!function(e){e.PREFIX="prefix",e.POSTFIX="postfix"}(zn||(zn={}));var Jn=(Xn={},(0,v.Z)(Xn,Qn.c0.EN_US,zn.PREFIX),(0,v.Z)(Xn,Qn.c0.EN_GB,zn.PREFIX),(0,v.Z)(Xn,Qn.c0.EN_CA,zn.PREFIX),(0,v.Z)(Xn,Qn.c0.FR_CA,zn.POSTFIX),(0,v.Z)(Xn,Qn.c0.ES,zn.POSTFIX),(0,v.Z)(Xn,Qn.c0.NL,zn.PREFIX),(0,v.Z)(Xn,Qn.c0.NO,zn.PREFIX),(0,v.Z)(Xn,Qn.c0.DE,zn.POSTFIX),(0,v.Z)(Xn,Qn.c0.FI_FI,zn.POSTFIX),(0,v.Z)(Xn,Qn.c0.FR_FR,zn.POSTFIX),(0,v.Z)(Xn,Qn.c0.SV,zn.POSTFIX),(0,v.Z)(Xn,Qn.c0.IT,zn.POSTFIX),(0,v.Z)(Xn,Qn.c0.PT_PT,zn.POSTFIX),(0,v.Z)(Xn,Qn.c0.PT_BR,zn.PREFIX),(0,v.Z)(Xn,Qn.c0.AR_001,zn.PREFIX),(0,v.Z)(Xn,Qn.c0.ZH_CN,zn.PREFIX),(0,v.Z)(Xn,Qn.c0.ZH_TW,zn.PREFIX),(0,v.Z)(Xn,Qn.c0.JA,zn.PREFIX),(0,v.Z)(Xn,Qn.c0.KO,zn.PREFIX),(0,v.Z)(Xn,Qn.c0.HU,zn.POSTFIX),(0,v.Z)(Xn,Qn.c0.DA,zn.POSTFIX),(0,v.Z)(Xn,Qn.c0.RU_RU,zn.POSTFIX),Xn),$n=function(){function e(){(0,k.Z)(this,e),this.currenciesData=qn()}return(0,P.Z)(e,[{key:"formatCurrency",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"full",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0;n||(n="USD");var s=this.currenciesData[n];t=(t||0)/Math.pow(10,s.digits);var u=e.buildOptions({amount:t,display:r,currency:n,datum:s,withoutPrefix:i,withoutSuffix:a});return t<0&&0===u.intlOptions.maximumFractionDigits&&(t=0),e.castIntl({amount:t,locale:o,options:u,datum:s})}},{key:"formatSymbol",value:function(t,n,r){var i=e.currencySymbolPosition(r);return i===zn.PREFIX&&n===Wn.PREFIX||i===zn.POSTFIX&&n===Wn.POSTFIX?t:""}}],[{key:"castIntl",value:function(e){var t=e.amount,n=e.locale,r=e.options,i=e.datum,a=Intl.NumberFormat(n,r.intlOptions).format(t);return i.symbol&&st()(a).call(a,i.code)&&(a=a.replace(i.code,i.symbol)),r.internalOptions.pushSuffix&&(a+="".concat(i.code)),a}},{key:"buildOptions",value:function(t){var n=t.amount,r=t.display,i=t.currency,a=t.datum,o=t.withoutPrefix,s=t.withoutSuffix,u=a.type===jn.x.CRYPTO,c=u?void 0:a.symbol,l={style:c?"currency":"decimal",currency:u?void 0:i,notation:"standard",currencyDisplay:"narrowSymbol",minimumFractionDigits:0,maximumFractionDigits:0,numberingSystem:"latn"},h={pushSuffix:!c};switch(r){case"short":var d=e.shortFormatNotation(n);"compact"===d&&(l.minimumFractionDigits=0,l.maximumFractionDigits=2),l.notation=d;break;case"shortlabel":var f=e.shortFormatNotation(n);"compact"===f&&(l.minimumFractionDigits=0,l.maximumFractionDigits=2),l.notation=f,h.pushSuffix=!1;break;case"round":break;case"roundstrict":throw new Error("Used only in non-localized parts, not rewritten at the moment");case"roundlabel":h.pushSuffix=!1;break;case"full":u&&(l.style="decimal",h.pushSuffix=!0),l.maximumFractionDigits=a.digits,l.minimumFractionDigits=u?2:a.digits;break;case"fullstrict":u&&(l.style="decimal"),h.pushSuffix=!0,l.maximumFractionDigits=a.digits,l.minimumFractionDigits=u?2:a.digits;break;case"floatcents":Math.round(n)!==n?(l.maximumFractionDigits=a.digits,l.minimumFractionDigits=a.digits):(l.maximumFractionDigits=0,l.minimumFractionDigits=0);break;case"trimzeroes":u?(l.maximumFractionDigits=a.digits,l.minimumFractionDigits=0):Math.round(n)!==n?(l.maximumFractionDigits=a.digits,l.minimumFractionDigits=a.digits):(l.maximumFractionDigits=0,l.minimumFractionDigits=0);break;case"scopeFloatCents":throw new Error("Unused, not rewritten at the moment");default:throw new Error("Unknown display type ".concat(r))}return o&&(l.style="decimal"),(s||e.isCurrencyWithDisallowedCodeInSuffix(i))&&(h.pushSuffix=!1),{intlOptions:l,internalOptions:h}}},{key:"shortFormatNotation",value:function(e){return Math.ceil(Gn()(e+1))<6?"standard":"compact"}},{key:"isCurrencyWithDisallowedCodeInSuffix",value:function(e){var t=["GBP"];return st()(t).call(t,e)}},{key:"currencySymbolPosition",value:function(e){return Jn[e]}}]),e}(),er=qn(),tr=["GBP"];function nr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"full",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,o=er[t]||{digits:2},s=o.digits,u=o.symbol;e/=Math.pow(10,s);var c,l=Math.abs(e),h=a&&ar(t),d=u||t,f=!1,m=!1,p=o.type===jn.x.CRYPTO;switch(n){case"short":c=rr(l,0,a);break;case"shortlabel":d=u||"",c=rr(l,0,a);break;case"round":c=ir(Math.round(l),0,0,a);break;case"roundstrict":f=!0,c=ir(Math.round(l),0,0,a);break;case"roundlabel":d=u||"",c=ir(Math.round(l),0,0,a);break;case"full":m=!i&&p,c=ir(l,p?2:s,s,a);break;case"fullstrict":f=!0,m=!i&&p,c=ir(l,p?2:s,s,a);break;case"floatcents":c=l%1>0?ir(l,s,s,a):ir(l,0,0,a);break;case"trimzeroes":c=ir(l,0,s,a);break;case"scopeFloatCents":d="",c=ir(l*Math.pow(10,s),s,s,a);break;default:throw new Error("Unknown display type ".concat(n))}(r||p)&&(d="");var v=e<0?"-":"";return d&&u&&(v+=u),v+=c,(!d||u&&!f||i||h)&&!m||(v+=" "+t),v}function rr(e,t,n){var r=Math.ceil(Gn()(e+1));switch(!0){case r<=6:return ir(e,t,t,n);case r<8:return ir(e/1e3,t,t,n)+"K";default:return ir(e/1e6,t,t,n)+"M"}}function ir(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Qn.c0.EN_US;return(e||0).toLocaleString(r,{style:"decimal",minimumFractionDigits:t,maximumFractionDigits:n})}function ar(e){return st()(tr).call(tr,e)}var or=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e,t){var n,a,o;if((0,k.Z)(this,i),o=r.call(this,e),!i.checkIntlFormatterAvailability(t))return o.formatCurrency=nr,o.formatSymbol=function(e,t){return t===Wn.PREFIX?e:""},(0,ue.Z)(o);var s=new $n;return o.formatCurrency=A()(n=s.formatCurrency).call(n,s),o.formatSymbol=A()(a=s.formatSymbol).call(a,s),o}return(0,P.Z)(i,[{key:"format",value:function(e,t){return this.formatCurrency(e,null==t?void 0:t.currency,null==t?void 0:t.display,null==t?void 0:t.withoutPrefix,null==t?void 0:t.withoutSuffix,this.locale)}},{key:"formatCurrencySymbol",value:function(e,t){return this.formatSymbol(e,t,this.locale)}}],[{key:"checkIntlFormatterAvailability",value:function(e){if(e)return!1;try{Intl.NumberFormat("fr-FR",{style:"currency",currency:"VND",currencyDisplay:"narrowSymbol",minimumFractionDigits:0,maximumFractionDigits:0}).format(8e3)}catch(e){return!1}return!0}}]),i}(function(){function e(t){(0,k.Z)(this,e),this._locale=t}return(0,P.Z)(e,[{key:"locale",get:function(){return this._locale},set:function(e){this._locale=e}},{key:"changeLocale",value:function(e){return this.locale=e,this.locale}}]),e}());var sr=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"format",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:Qn.nx.SHORT};return new Date(e).toLocaleString(this.locale,{month:t.type,day:"numeric"})}}]),i}(function(){function e(t){(0,k.Z)(this,e),this._locale=t}return(0,P.Z)(e,[{key:"locale",get:function(){return this._locale},set:function(e){this._locale=e}},{key:"changeLocale",value:function(e){return this.locale=e,this.locale}},{key:"intl",get:function(){if(!this._intl)throw new Error("Intl service is undefined in date formatter");return this._intl},set:function(e){this._intl=e}}]),e}()),ur=n(16465),cr=n.n(ur);function lr(e,t,n){return e.replace(new RegExp(t,"g"),n)}function hr(e){return e.split("-")[0]}Qn.c0.AR_001,Qn.c0.HU,Qn.c0.DA,Qn.c0.RU_RU,Qn.c0.ZH_CN,Qn.c0.ZH_TW,Qn.c0.JA,Qn.c0.KO,Qn.uZ.AR,Qn.uZ.HU,Qn.uZ.DA,Qn.uZ.RU,Qn.uZ.ZH,Qn.uZ.JA,Qn.uZ.KO,Qn.c0.AR_001,Qn.uZ.AR;var dr={"&amp;":"&"},fr=function(){function e(t,n,r,i,a){(0,k.Z)(this,e),this.translationService=t,this.dateFormatter=n,this.currencyFormatter=r,this.numberFormatter=i,this._locale=e.DEFAULT_LOCALE,this.availableLocales=a.availableLocales,this.locale=a.locale,this.dateFormatter.intl=this}return(0,P.Z)(e,[{key:"locale",get:function(){return this._locale},set:function(t){this.isLocaleAvailable(t)?this._locale=t:this._locale=e.DEFAULT_LOCALE}},{key:"language",get:function(){return this.locale.split("-")[0]}},{key:"setLocale",value:function(e){var t=this,n=this.locale;this.locale=e;var r=[this.translationService.changeLocale(this.locale)];return Nt().all(r).then((function(){return t.locale})).catch((function(e){return t.locale=n,Nt().reject(e)})).finally((function(){t.dateFormatter.changeLocale(t.locale),t.currencyFormatter.changeLocale(t.locale),t.numberFormatter.changeLocale(t.locale)}))}},{key:"translate",value:function(e,t){return function(e){var t=e;for(var n in dr)Object.prototype.hasOwnProperty.call(dr,n)&&st()(e).call(e,n)&&(t=lr(t,n,dr[n]));return t}(this.translationService.translate(e,t))}},{key:"formatDate",value:function(e,t){return this.dateFormatter.format(e,t)}},{key:"formatCurrency",value:function(e,t){return this.currencyFormatter.format(e,t)}},{key:"formatSymbol",value:function(e,t){return this.currencyFormatter.formatCurrencySymbol(e,t)}},{key:"formatNumber",value:function(e,t){return this.numberFormatter.format(e,t)}},{key:"isLocaleAvailable",value:function(e){var t;return E()(t=this.availableLocales).call(t,(function(t){return t===e}))}}],[{key:"isLocaleCode",value:function(e){return void 0!==e&&st()(Qn.dI).call(Qn.dI,e)}}]),e}();fr.DEFAULT_LOCALE=Qn.c0.EN_US;var mr=n(98056),pr=n(16755),vr=function(){function e(t,n){(0,k.Z)(this,e),this.baseLocale=t,this.lingui=(0,mr.E5)({locale:t,messages:(0,v.Z)({},t,n||{}),localeData:(0,v.Z)({},t,e.makeLocaleData(t))})}return(0,P.Z)(e,[{key:"defaultMessages",get:function(){return this.lingui._messages[this.baseLocale]}},{key:"locale",value:function(t){if(void 0!==t){var n=e.makeLocaleData(t);this.lingui.loadLocaleData(t,n),this.lingui.activate(t)}return this.lingui.locale}},{key:"t",value:function(e,t){var n=this.lingui._(e,t);return n===e?"":n}},{key:"extend",value:function(e){var t=Z()({},this.defaultMessages,e);this.lingui.load(this.locale(),t)}}],[{key:"extractLanguageFromLocale",value:function(e){var t=e.split("-");return(0,tt.Z)(t,1)[0]}},{key:"makeLocaleData",value:function(e){var t=this.extractLanguageFromLocale(e);return{plurals:pr[t]}}}]),e}(),yr=function(){function e(t,n){(0,k.Z)(this,e),this.translationProvider=t,this.translationLoader=n}return(0,P.Z)(e,[{key:"changeLocale",value:function(e){var t=this;return this.loadTranslation(e).then((function(n){t.translationProvider.locale(e),t.translationProvider.extend(n)}))}},{key:"translate",value:function(e,t){return this.translationProvider.t(e,t)}},{key:"loadTranslation",value:function(e){return this.translationLoader.load(e)}}]),e}(),gr=function(){function e(t,n,r){(0,k.Z)(this,e),this.locale=t,this.widgetLocalizationConfig=n,this.companyLocalizationConfig=r}return(0,P.Z)(e,[{key:"getDataLanguage",value:function(){var e,t=hr(this.locale);return-1!==rt()(e=this.widgetLocalizationConfig.supportedLanguages).call(e,t)?t:hr(this.widgetLocalizationConfig.defaultLocale)}},{key:"getUILocale",value:function(){var e,t,n=this.locale,r=this.widgetLocalizationConfig.useCompanyInterfaceLocales,i=-1!==rt()(e=this.companyLocalizationConfig.interfaceLocales).call(e,n),a=-1!==rt()(t=this.widgetLocalizationConfig.supportedLanguages).call(t,hr(n));return r&&!i||!r&&!a?this.widgetLocalizationConfig.defaultLocale:n}}]),e}(),kr=function(){function e(t){(0,k.Z)(this,e),this._locale=t}return(0,P.Z)(e,[{key:"locale",get:function(){return this._locale},set:function(e){this._locale=e}},{key:"changeLocale",value:function(e){return this.locale=e,this.locale}}]),e}(),Pr=n(58351);var Sr=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e){var t;return(0,k.Z)(this,i),(t=r.call(this,e)).formatNumber=Pr.V,t}return(0,P.Z)(i,[{key:"format",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{minimumFractionDigits:0,maximumFractionDigits:0};return this.formatNumber(e,t.minimumFractionDigits,t.maximumFractionDigits,this.locale)}}]),i}(kr);var Er,Dr=function(e){(0,se.Z)(a,e);var t,r,i=(t=a,r=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=(0,ce.Z)(t);if(r){var i=(0,ce.Z)(this).constructor;e=oe()(n,arguments,i)}else e=n.apply(this,arguments);return(0,ue.Z)(this,e)});function a(){return(0,k.Z)(this,a),i.apply(this,arguments)}return(0,P.Z)(a,[{key:"loadFile",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(11419)("./".concat(e,".json"));case 2:return r=t.sent,t.abrupt("return",r.default);case 4:case"end":return t.stop()}}),t)})))}}]),a}(function(){function e(){(0,k.Z)(this,e)}return(0,P.Z)(e,[{key:"load",value:function(e){var t=this.getTranslationFilename(e);return this.loadFile(t)}},{key:"getTranslationFilename",value:function(e){return e.replace("-","_")}}]),e}());var br=[Qn.c0.EN_GB];function wr(e){var t=function(e){return e.toLowerCase().replace(/-/g,"_")};return st()(br).call(br,e)?t(e):t(Qn.c0.EN_US)}var Ar=[Qn.c0.EN_GB],Cr=(Er={},(0,v.Z)(Er,Qn.c0.EN_US,"en_US"),(0,v.Z)(Er,Qn.c0.EN_GB,"en_GB"),(0,v.Z)(Er,Qn.c0.EN_CA,"en_CA"),(0,v.Z)(Er,Qn.c0.FR_CA,"fr_CA"),(0,v.Z)(Er,Qn.c0.ES,"es_ES"),(0,v.Z)(Er,Qn.c0.NL,"nl_NL"),(0,v.Z)(Er,Qn.c0.NO,"no_NO"),(0,v.Z)(Er,Qn.c0.DE,"de_DE"),(0,v.Z)(Er,Qn.c0.FI_FI,"fi_FI"),(0,v.Z)(Er,Qn.c0.FR_FR,"fr_FR"),(0,v.Z)(Er,Qn.c0.AR_001,"ar_AE"),(0,v.Z)(Er,Qn.c0.SV,"sv_SE"),(0,v.Z)(Er,Qn.c0.IT,"it_IT"),(0,v.Z)(Er,Qn.c0.PT_PT,"pt_PT"),(0,v.Z)(Er,Qn.c0.PT_BR,"pt_BR"),(0,v.Z)(Er,Qn.c0.ZH_CN,"zh_CN"),(0,v.Z)(Er,Qn.c0.ZH_TW,"zh_TW"),(0,v.Z)(Er,Qn.c0.JA,"ja_JP"),(0,v.Z)(Er,Qn.c0.KO,"ko_KR"),(0,v.Z)(Er,Qn.c0.HU,"hu_HU"),(0,v.Z)(Er,Qn.c0.DA,"da_DK"),(0,v.Z)(Er,Qn.c0.RU_RU,"ru_RU"),Er);function Nr(e){return Cr[e]}var Or=n(97107),_r=new(n.n(Or)()),Tr=new(Nt())((function(e){}));function Rr(e){return!!e&&e.constructor==={}.constructor}function Ir(e,t){var n,r=document.createElement("script");return r.type="text/javascript",r.async=!0,r.src=e,b()(n=bt()(t)).call(n,(function(e){r.setAttribute(e,t[e])})),r}function xr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=t||window;var r={};return _r.has(t)?r=_r.get(t):_r.set(t,r),r[e]?r[e]:r[e]=new(Nt())((function(r,i){q()((function(){var a=Ir(e,n);a.onerror=function(e){i(e)},a.onload=function(){r(!0)},t.document.documentElement.appendChild(a),Zr._immedeatly&&r(!0)}),0)}))}function Zr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(r&&!Rr(r))throw new Error("Expected attributes to be an object.");return t?Tr.then((function(){return xr(e,n,r)})):xr(e,n,r)}Zr._windows=_r,Zr._immedeatly=!1;var Lr={target:window,apiVersion:"2022-08-01",deferred:!1,loadTimeout:0,locale:Qn.c0.EN_US};function Mr(e,t,n,r){var i=n.target,a=function(e){e.filename.match("js.stripe.com")&&r.captureException(e.error,{extra:{script:e.filename,stripeAccount:t}})},o=function(e){return st()(Ar).call(Ar,e)?e:e.split("-")[0]}(n.locale);return i.addEventListener("error",a),Zr("https://js.stripe.com/v3/",n.deferred,i).then((function(){return new(Nt())((function(r,a){var s=function(){i.Stripe?r(i.Stripe(e,{stripeAccount:t,apiVersion:n.apiVersion,locale:o})):a(new Error("Stripe.js could not be loaded"))};n.loadTimeout?q()((function(){s()}),n.loadTimeout):s()}))})).finally((function(){i.removeEventListener("error",a)}))}var Fr=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e){return(0,k.Z)(this,i),r.call(this,"[Stripe Factory]"+e)}return(0,P.Z)(i)}((0,me.Z)(Error));function Ur(e,t){if(!e.targetWindow)throw new Fr("target window is not provided");return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Lr;return(0,m.mG)(this,void 0,void 0,f().mark((function i(){var a,o;return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return o=Z()({},Lr,r),i.prev=1,i.next=4,Mr(e,t,o,n);case 4:return a=i.sent,i.abrupt("return",a);case 8:return i.prev=8,i.t0=i.catch(1),i.abrupt("return",Mr(e,t,Z()(Z()({},r),{loadTimeout:500}),n));case 11:case"end":return i.stop()}}),i,null,[[1,8]])})))}(e.publicKey,e.stripeAccount||"",t,{target:e.targetWindow,locale:e.locale})}var Br=n(56139),Gr=n.n(Br),Hr=function(){function e(t){(0,k.Z)(this,e),this.resolvedCheckoutData=t,this.eventEmitter=new(O())}return(0,P.Z)(e,[{key:"getOpenParams",value:function(){var e,t,n,r,i,a,o,s,u,c=this.resolvedCheckoutData.campaignSettings(),l=this.resolvedCheckoutData.getExternalConfig(),h=this.resolvedCheckoutData.queryParams,d=this.resolvedCheckoutData.getMergedCustomFields();return{customFields:Gr()(null!==(e=null==d?void 0:B()(d).call(d,(function(e){return[e.name,e.value]})))&&void 0!==e?e:[]),livemode:this.resolvedCheckoutData.infrastructureParams.livemode,campaign:{id:c.key,code:c.code||null,name:c.name},utm:{source:h.utm.source||(null===(t=this.resolvedCheckoutData.infrastructureQueryParams)||void 0===t?void 0:t.utm_source)||"",campaign:h.utm.campaign||(null===(n=this.resolvedCheckoutData.infrastructureQueryParams)||void 0===n?void 0:n.utm_campaign)||"",medium:h.utm.medium||(null===(r=this.resolvedCheckoutData.infrastructureQueryParams)||void 0===r?void 0:r.utm_medium)||"",content:h.utm.content||(null===(i=this.resolvedCheckoutData.infrastructureQueryParams)||void 0===i?void 0:i.utm_content)||"",term:h.utm.term||(null===(a=this.resolvedCheckoutData.infrastructureQueryParams)||void 0===a?void 0:a.utm_term)||""},element:{id:null===(o=l.launcher)||void 0===o?void 0:o.elementKey,type:null===(s=l.launcher)||void 0===s?void 0:s.elementTitle,name:null===(u=l.launcher)||void 0===u?void 0:u.elementName}}}},{key:"on",value:function(e,t){return this.eventEmitter.on(e,t),this}},{key:"emit",value:function(e,t){this.eventEmitter.emit(e,t)}},{key:"emitDonationComplete",value:function(e){this.emit(R.DONATION_COMPLETE,Z()(Z()({},this.getOpenParams()),e))}},{key:"emitThankYouShown",value:function(){this.emit(R.THANK_YOU_SHOWN,void 0)}},{key:"emitCustomerPrivacyValid",value:function(){this.emit(R.CUSTOMER_PRIVACY_VALID,void 0)}},{key:"emitAnalyticsChargeSuccess",value:function(e){this.emit(R.ANALYTICS_CHARGE_SUCCESS,e)}},{key:"emitAnalyticsChargeFail",value:function(e){this.emit(R.ANALYTICS_CHARGE_FAIL,e)}},{key:"setDonationParams",value:function(e){this.donationParams=e}},{key:"setIntentParams",value:function(e){this.intent=this.formatIntent(e)}},{key:"getClosePublicJsApiPayload",value:function(){if(!this.donationParams)throw new Error("Call setDonationParams first to set public donation params");return Z()(Z()({},this.getOpenParams()),this.donationParams)}},{key:"getIntent",value:function(){if(void 0===this.intent)throw new Error("Call setIntentParams on close to set public intent params");return this.intent}},{key:"formatIntent",value:function(e){var t,n;if(!e)return null;var r=this.resolvedCheckoutData.getExternalConfig(),i=!!r.checkoutIntent;if(e.isSavedEmailOnExit||i)return null;var a=this.resolvedCheckoutData.campaignSettings(),o=this.resolvedCheckoutData.fundraisingPage,s={flowType:e.flowType,campaign:{id:a.key},element:{key:null===(t=r.launcher)||void 0===t?void 0:t.elementKey,type:null===(n=r.launcher)||void 0===n?void 0:n.elementType},checkoutSettings:{customFields:this.resolvedCheckoutData.getMergedCustomFields(),designation:e.checkoutSettings.designation,modifyAmount:e.checkoutSettings.modifyAmount,modifyDesignation:e.checkoutSettings.modifyDesignation},comment:e.comment,donation:e.donation,supporter:e.supporter,tribute:e.tribute};return o&&(s.fundraisingPage={key:o.key}),s}},{key:"dispose",value:function(){this.eventEmitter.removeAllListeners()}}]),e}(),Kr=function(){function e(t,n){(0,k.Z)(this,e),this.schema=t,this.config=n}return(0,P.Z)(e,[{key:"validate",value:function(e){return this.schema.validate(e)}},{key:"allowed",value:function(e,t){var n=this.schema.path(e);return!!n&&!n.validate(t,(0,v.Z)({},e,t),e)}},{key:"isRequired",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.schema.path(e);return!!n&&!!n.validate(null,t,e)}},{key:"getProvider",value:function(){return this.config.provider}},{key:"subscriptionIsAvailable",value:function(){return this.config.subscription}}]),e}(),Vr=function(){function e(t,n){(0,k.Z)(this,e),this.config=t,this.paymentMethodConfigParser=n,this.managersMap=new($e())}return(0,P.Z)(e,[{key:"createManager",value:function(e,t){var n=this.config[e],r=n[t],i=this.paymentMethodConfigParser.parse(r);return new Kr(i,Z()(Z()({},r),{name:n.name,provider:n.provider,subscription:n.subscription}))}},{key:"getManager",value:function(e,t){var n=e+"_"+t,r=this.managersMap.get(n);return r||(r=this.createManager(e,t),this.managersMap.set(n,r),r)}}]),e}(),Yr=n(85448),qr=n.n(Yr),Wr=n(64537),jr=n.n(Wr),Xr=n(84101),zr=n.n(Xr),Qr=n(77485),Jr=n.n(Qr),$r=n(36160),ei=n.n($r),ti=n(80524),ni=n.n(ti),ri=function(e,t,n){var r=Jr()(t,"ibanCountry");return!st()(n).call(n,r)||!!e&&!ei()(e)},ii=function(e,t,n){return!!ni()(e)||e>=n.size},ai=function(e){return!!ni()(e)||!!e},oi=n(50428),si=n.n(oi),ui=n(60008),ci=n(49666),li=n.n(ci),hi=n(49057),di=n(31734),fi=n.n(di);var mi=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e,t){var n;return(0,k.Z)(this,i),n=r.call(this,e),pi((0,hi.Z)(n),"path",t),pi((0,hi.Z)(n),"expose",!0),pi((0,hi.Z)(n),"status",400),Error.captureStackTrace&&Error.captureStackTrace((0,hi.Z)(n),i),n}return(0,P.Z)(i)}((0,me.Z)(Error)),pi=function(e,t,n){fi()(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})},vi={type:function(e,t,n){var r;return"function"==typeof n&&(n=n.name),H()(r="".concat(e," must be of type ")).call(r,n,".")},required:function(e){return"".concat(e," is required.")},match:function(e,t,n){var r;return H()(r="".concat(e," must match ")).call(r,n,".")},length:function(e,t,n){var r;if("number"==typeof n)return H()(r="".concat(e," must have a length of ")).call(r,n,".");var i,a,o,s,u=n.min,c=n.max;return u&&c?H()(i=H()(a="".concat(e," must have a length between ")).call(a,u," and ")).call(i,c,"."):c?H()(o="".concat(e," must have a maximum length of ")).call(o,c,"."):u?H()(s="".concat(e," must have a minimum length of ")).call(s,u,"."):void 0},size:function(e,t,n){var r;if("number"==typeof n)return H()(r="".concat(e," must have a size of ")).call(r,n,".");var i,a,o,s,u=n.min,c=n.max;return void 0!==u&&void 0!==c?H()(i=H()(a="".concat(e," must be between ")).call(a,u," and ")).call(i,c,"."):void 0!==c?H()(o="".concat(e," must be less than ")).call(o,c,"."):void 0!==u?H()(s="".concat(e," must be greater than ")).call(s,u,"."):void 0},enum:function(e,t,n){var r,a,o=i()(n).call(n),s=o.pop();return H()(r=H()(a="".concat(e," must be either ")).call(a,o.join(", ")," or ")).call(r,s,".")},illegal:function(e){return"".concat(e," is not allowed.")},default:function(e){return"Validation failed for ".concat(e,".")}},yi=vi,gi=n(58149),ki=n.n(gi);function Pi(e,t,n){var r;"string"!=typeof e?b()(r=bt()(e)).call(r,(function(t){return n[t]=e[t]})):n[e]=t}function Si(e,t,n){var r=e.split(/\.\$(?=\.|$)/),i=r.shift(),a=ui.get(t,i);if(!r.length)return n(i,a);if(ne()(a))for(var o=0;o<a.length;o++)Si(Di(o,i)+r.join(".$"),t,n)}function Ei(e,t,n,r){var i=ki()(e);if("array"!==i){if("object"===i)for(var a=0,o=si()(e);a<o.length;a++){var s=(0,tt.Z)(o[a],2),u=s[0],c=s[1],l=Di(u,n),h=Di(u,r);t(l,h)&&Ei(c,t,l,h)}}else b()(e).call(e,(function(e,i){return Ei(e,t,Di(i,n),Di("$",r))}))}function Di(e,t){var n;return t?H()(n="".concat(t,".")).call(n,e):e}function bi(e,t){var n=void 0!==J()&&ee()(e)||e["@@iterator"];if(!n){if(ne()(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return wi(e,t);var r=i()(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?z()(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wi(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function wi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ai=function(){function e(t,n){(0,k.Z)(this,e),this.name=t,this.registry={},this._schema=n,this._type=null,this.messages={}}return(0,P.Z)(e,[{key:"message",value:function(e){"string"==typeof e&&(e={default:e});var t,n=bi(si()(e));try{for(n.s();!(t=n.n()).done;){var r=(0,tt.Z)(t.value,2),i=r[0],a=r[1];this.messages[i]=a}}catch(e){n.e(e)}finally{n.f()}return this}},{key:"schema",value:function(e){return this._schema.path(this.name,e),this}},{key:"use",value:function(e){var t,n=this;return b()(t=bt()(e)).call(t,(function(t){var r=e[t];ne()(r)||(r=[r]);var i=r.shift();n._register(t,r,i)})),this}},{key:"required",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._register("required",[e])}},{key:"type",value:function(e){return this._type=e,this._register("type",[e])}},{key:"string",value:function(){return this.type(String)}},{key:"number",value:function(){return this.type(Number)}},{key:"array",value:function(){return this.type(Array)}},{key:"date",value:function(){return this.type(Date)}},{key:"length",value:function(e){return this._register("length",[e])}},{key:"size",value:function(e){return this._register("size",[e])}},{key:"enum",value:function(e){return this._register("enum",[e])}},{key:"match",value:function(e){return this._register("match",[e])}},{key:"each",value:function(e){return this._schema.path(Di("$",this.name),e),this}},{key:"elements",value:function(e){var t=this;return b()(e).call(e,(function(e,n){t._schema.path(Di(n,t.name),e)})),this}},{key:"properties",value:function(e){for(var t=0,n=si()(e);t<n.length;t++){var r=(0,tt.Z)(n[t],2),i=r[0],a=r[1];this._schema.path(Di(i,this.name),a)}return this}},{key:"path",value:function(){var e;return(e=this._schema).path.apply(e,arguments)}},{key:"typecast",value:function(e){var t=this._schema,n=this._type;if(!n)return e;"function"==typeof n&&(n=n.name);var r=t.typecasters[n]||t.typecasters[n.toLowerCase()];if("function"!=typeof r)throw new Error("Typecasting failed: No typecaster defined for ".concat(n,"."));return r(e)}},{key:"validate",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.name,i=bt()(this.registry),a=bi(i);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=this._run(o,e,t,r);if(s)return s}}catch(s){a.e(s)}finally{a.f()}return null}},{key:"_run",value:function(e,t,n,r){var i;if(this.registry[e]){var a=this._schema,o=this.registry[e],s=o.args;return(o.fn||a.validators[e]).apply(void 0,H()(i=[t,n]).call(i,(0,Un.Z)(s),[r]))?void 0:this._error(e,n,s,r)}}},{key:"_register",value:function(e,t,n){return this.registry[e]={args:t,fn:n},this}},{key:"_error",value:function(e,t,n,r){var i,a=this._schema,o=this.messages[e]||this.messages.default||a.messages[e]||a.messages.default;return"function"==typeof o&&(o=o.apply(void 0,H()(i=[r,t]).call(i,(0,Un.Z)(n)))),new mi(o,r)}}]),e}(),Ci=n(66397),Ni=n.n(Ci),Oi={required:function(e,t,n){return!1===n||null!=e&&""!==e},type:function(e,t,n){return null==e||("function"==typeof n?e.constructor===n:ki()(e)===n)},length:function(e,t,n){if(null==e)return!0;if("number"==typeof n)return e.length===n;var r=n.min,i=n.max;return!(r&&e.length<r||i&&e.length>i)},size:function(e,t,n){if(null==e)return!0;if("number"==typeof n)return e===n;var r=n.min,i=n.max;return!(null!=Ni()(r)&&e<r||null!=Ni()(i)&&e>i)},enum:function(e,t,n){return null==e||st()(n).call(n,e)},match:function(e,t,n){return null==e||n.test(e)}},_i=Oi;function Ti(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ri=function(){function e(){var t,n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,k.Z)(this,e),this.opts=i,this.hooks=[],this.props={},this.messages=Z()({},yi),this.validators=Z()({},_i),this.typecasters=Z()({},li()),b()(t=bt()(r)).call(t,(function(e){return n.path(e,r[e])}))}return(0,P.Z)(e,[{key:"path",value:function(t,n){var r=this,a=t.split("."),o=a.pop(),s=a.join(".");if(s&&this.path(s),"$"===o&&this.path(s).type(Array),n instanceof e)return n.hook((function(e,n){return r.path(Di(e,t),n)})),this.path(t,n.props);if(n instanceof Ai)return this.props[t]=n,this.propagate(t,n),n;var u=this.props[t]||new Ai(t,this);if(this.props[t]=u,this.propagate(t,u),!n)return u;if("string"==typeof n||"function"==typeof n)return u.type(n),u;if(ne()(n))return u.type(Array),1===n.length?u.each(n[0]):u.elements(n),u;var c,l=bt()(n),h=!1,d=function(e,t){var n=void 0!==J()&&ee()(e)||e["@@iterator"];if(!n){if(ne()(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return Ti(e,t);var r=i()(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?z()(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ti(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}(l);try{for(d.s();!(c=d.n()).done;){var f=c.value;if("function"!=typeof u[f]){u.type(Object),h=!0;break}}}catch(e){d.e(e)}finally{d.f()}return b()(l).call(l,(function(e){var i=n[e];if(h)return r.path(Di(e,t),i);u[e](i)})),u}},{key:"typecast",value:function(e){for(var t=function(){var t=(0,tt.Z)(r[n],2),i=t[0],a=t[1];Si(i,e,(function(t,n){if(null!=n){var r=a.typecast(n);r!==n&&ui.set(e,t,r)}}))},n=0,r=si()(this.props);n<r.length;n++)t();return this}},{key:"strip",value:function(e){var t=this;return Ei(e,(function(n,r){return!!t.props[r]||(ui.delete(e,n),!1)})),this}},{key:"enforce",value:function(e){var t=this,n=[];return Ei(e,(function(e,r){if(t.props[r])return!0;var i=new mi(yi.illegal(e),e);return n.push(i),!1})),n}},{key:"validate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Z()(this.opts,t);var n=[];t.typecast&&this.typecast(e),t.strict&&n.push.apply(n,(0,Un.Z)(this.enforce(e))),!1!==t.strip&&this.strip(e);for(var r=function(){var t=(0,tt.Z)(a[i],2),r=t[0],o=t[1];Si(r,e,(function(t,r){var i=o.validate(r,e,t);i&&n.push(i)}))},i=0,a=si()(this.props);i<a.length;i++)r();return n}},{key:"assert",value:function(e,t){var n=this.validate(e,t),r=(0,tt.Z)(n,1)[0];if(r)throw r}},{key:"message",value:function(e,t){return Pi(e,t,this.messages),this}},{key:"validator",value:function(e,t){return Pi(e,t,this.validators),this}},{key:"typecaster",value:function(e,t){return Pi(e,t,this.typecasters),this}},{key:"hook",value:function(e){return this.hooks.push(e),this}},{key:"propagate",value:function(e,t){var n;return b()(n=this.hooks).call(n,(function(n){return n(e,t)})),this}}]),e}();Ri.ValidationError=mi;var Ii,xi=function(){function e(t){(0,k.Z)(this,e),this.validationMessagesService=t,this.props={},this.customValidations={requiredIfIbanCountry:ri,availableAll:ai,minAmount:ii}}return(0,P.Z)(e,[{key:"parse",value:function(e){var t=this;return qr()(e,(function(e,n){return t._parse(n,e)})),new Ri(this.props,{strip:!1})}},{key:"_parse",value:function(e,t){var n=this;if("repeat"===e&&jr()(t))return this.props.period={enum:zr()(t,y.oe.ONCE),message:{enum:function(e,r){return n.validationMessagesService.get("period")(e,r,zr()(t,y.oe.ONCE))}}},void(this.props[e]={enum:t,message:{enum:function(e,r){return n.validationMessagesService.get("enum")(e,r,t)}}});jr()(t)?this.props[e]={enum:t,message:{enum:function(e,r){return n.validationMessagesService.get("enum")(e,r,t)}}}:qr()(t,(function(t,r){var i;r in n.customValidations?n.props[e]={use:(0,v.Z)({},r,(function(e,i){return n.customValidations[r](e,i,t)})),message:(0,v.Z)({},r,(function(e,i){return n.validationMessagesService.get(r)(e,i,t)}))}:n.props[e]=(i={},(0,v.Z)(i,r,t),(0,v.Z)(i,"message",(0,v.Z)({},r,(function(e,i){return n.validationMessagesService.get(r)(e,i,t)}))),i)}))}}]),e}(),Zi=function(){function e(t,n){(0,k.Z)(this,e),this.currencyFormatter=t,this.translateServices=n}return(0,P.Z)(e,[{key:"get",value:function(e){var t,n,r,i,a;switch(e){case"enum":return A()(t=this.enum).call(t,this);case"minAmount":return A()(n=this.minAmount).call(n,this);case"required":case"requiredIfIbanCountry":return A()(r=this.required).call(r,this);case"period":return A()(i=this.period).call(i,this);default:return A()(a=this.default).call(a,this)}}},{key:"enum",value:function(e,t,n){return this.translateServices?this.translateServices.intlService.translate("paymentMethodValidationMessages.enum",{enums:n.join(", ")}):"This value must be either ".concat(n.join(", "))}},{key:"period",value:function(e,t,n){if(this.translateServices){var r=this.translateServices.subscriptionPeriodLabelsService,i=B()(n).call(n,(function(e){return r.getLabel(e,we.ADJECTIVE)})).join(", ");return this.translateServices.intlService.translate("paymentMethodValidationMessages.period",{periods:i})}return"The chosen payment method only works with the following frequencies: ".concat(n.join(", "))}},{key:"minAmount",value:function(e,t,n){if(this.translateServices){var r=this.translateServices.intlService.formatCurrency(n.size,{currency:n.currency});return this.translateServices.intlService.translate("paymentMethodValidationMessages.minAmount",{minAmount:r})}var i=this.currencyFormatter.format(n.size,{currency:n.currency});return"This amount must be at least ".concat(i," due to the payment method chosen.")}},{key:"required",value:function(e){return this.translateServices?this.translateServices.intlService.translate("paymentMethodValidationMessages.required"):"".concat(e," is required")}},{key:"default",value:function(e){return this.translateServices?this.translateServices.intlService.translate("paymentMethodValidationMessages.default"):"Validation failed for ".concat(e)}}]),e}();var Li,Mi=n(85087);function Fi(e){return Li||(Li=new Vr(Mi,function(e){return Ii||(Ii=new xi(function(e){return new Zi(new or(Qn.c0.EN_US),e)}(e)),Ii)}(e)))}var Ui=n(36791),Bi=n(83248),Gi=function(){function e(t,n,r,i){(0,k.Z)(this,e),this.stripe=t,this.sentry=n,this.sessionService=r,this.achDataPoint=i,this.name=y.GZ.UK_BACS}return(0,P.Z)(e,[{key:"initiateFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})))}},{key:"startFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_t.H.success(void 0));case 1:case"end":return e.stop()}}),e)})))}},{key:"hold",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.achDataPoint.toObject(),e.prev=1,e.next=4,this.stripe.createToken(y.Ey.BANK_ACCOUNT,{country:y.C9.UNITED_STATES,currency:"usd",routing_number:t.routingNumber,account_number:t.accountNumber,account_holder_name:t.accountHolderName,account_holder_type:t.accountType});case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),this.sentry.captureException(e.t0),e.abrupt("return",_t.H.fail({shouldLeave:!1}));case 11:if(!n.error){e.next=13;break}return e.abrupt("return",_t.H.fail({shouldLeave:!1,message:n.error.message}));case 13:return e.next=15,this.sessionService.hold({clientPaymentMethod:y.GZ.ACH,token:n.token});case 15:return e.abrupt("return",_t.H.success(void 0));case 16:case"end":return e.stop()}}),e,this,[[1,7]])})))}},{key:"pay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionService.pay();case 2:return t=e.sent,e.abrupt("return",_t.H.isSuccess(t)?t:_t.H.fail({shouldLeave:!1}));case 4:case"end":return e.stop()}}),e,this)})))}}]),e}();function Hi(e){var t=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,ce.Z)(e);if(t){var i=(0,ce.Z)(this).constructor;n=oe()(r,arguments,i)}else n=r.apply(this,arguments);return(0,ue.Z)(this,n)}}Error;var Ki=function(e){(0,se.Z)(n,e);var t=Hi(n);function n(){return(0,k.Z)(this,n),t.call(this,"Amount is required")}return(0,P.Z)(n)}((0,me.Z)(Error)),Vi=function(e){(0,se.Z)(n,e);var t=Hi(n);function n(){return(0,k.Z)(this,n),t.call(this,"Intent secret is not provided")}return(0,P.Z)(n)}((0,me.Z)(Error)),Yi=(Error,function(){function e(t,n,r,i,a){(0,k.Z)(this,e),this.sessionService=t,this.stripe=n,this.paymentOptionsDataPoint=r,this.intl=i,this.sentry=a,this.name=y.GZ.ACSS,this.intentSecret=null}return(0,P.Z)(e,[{key:"initiateFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})))}},{key:"hold",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionService.hold({clientPaymentMethod:y.GZ.ACSS});case 2:if(t=e.sent,n=t.intentSecret){e.next=6;break}throw new Vi;case 6:return this.intentSecret=n,e.abrupt("return",_t.H.success(void 0));case 8:case"end":return e.stop()}}),e,this)})))}},{key:"startFlow",value:function(){var t;return(0,m.mG)(this,void 0,void 0,f().mark((function n(){var r,i,a;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.paymentOptionsDataPoint.setPaymentMethod(y.GZ.ACSS),n.next=3,this.hold();case 3:if(this.intentSecret){n.next=5;break}return n.abrupt("return",_t.H.fail({}));case 5:return n.next=7,this.stripe.retrieveSetupIntent(this.intentSecret);case 7:if(r=n.sent,(null===(t=r.setupIntent)||void 0===t?void 0:t.status)!==fe.OQ.SUCCEEDED){n.next=10;break}return n.abrupt("return",_t.H.success(void 0));case 10:return n.prev=10,n.next=13,this.stripe.confirmAcssDebitSetup(this.intentSecret,{payment_method:{billing_details:{name:"supporter",email:"1234@example.com"}}},{skipMandate:!1});case 13:i=n.sent,n.next=20;break;case 16:return n.prev=16,n.t0=n.catch(10),this.sentry.captureException(n.t0),n.abrupt("return",_t.H.fail({message:this.commonErrorText}));case 20:if(!(a=i.error)){n.next=23;break}return n.abrupt("return",e.handleError(a));case 23:return n.abrupt("return",_t.H.success(void 0));case 24:case"end":return n.stop()}}),n,this,[[10,16]])})))}},{key:"commonErrorText",get:function(){return this.intl.translate("common.errorOccurredText")}},{key:"pay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionService.pay();case 2:return t=e.sent,e.abrupt("return",_t.H.isSuccess(t)?t:_t.H.fail({shouldLeave:!1}));case 4:case"end":return e.stop()}}),e,this)})))}}],[{key:"handleError",value:function(e){return"validation_error"===e.type?_t.H.fail({}):_t.H.fail({message:e.message})}}]),e}()),qi=function(){function e(t){(0,k.Z)(this,e),this.params=t}return(0,P.Z)(e,[{key:"init",value:function(){return this.makePaymentRequest().then((function(e){var t=e.canMakePaymentResult;return!!(null==t?void 0:t.applePay)}))}},{key:"create",value:function(e){var t=this;return this.makePaymentRequest().then((function(n){var r=n.paymentRequest,i=new(Nt())((function(e,t){r.once("token",(function(t){t.complete("success"),e({token:t.token,payerName:t.payerName,payerEmail:t.payerEmail})})).once("cancel",(function(){t()}))})),a=t.params.request,o=a.total,s=a.displayItems;return r.update({total:{label:o.label,amount:e.amount},displayItems:s,currency:e.currency}),r.show(),i.finally((function(){r.off("token").off("cancel")}))})).then((function(e){return{stripeVerifier:e}}))}},{key:"makePaymentRequest",value:function(){var e=this;return(this.paymentRequest?Nt().resolve(this.paymentRequest):this.params.stripe.then((function(t){var n=Z()(Z()({},e.params.request),{requestPayerEmail:!0,requestPayerName:!0,wallets:["applePay"]});return e.paymentRequest=t.paymentRequest(n),e.paymentRequest}))).then((function(e){return new(Nt())((function(t,n){e.canMakePayment().then((function(n){t({canMakePaymentResult:n,paymentRequest:e})})).catch((function(e){n(e)}))}))}))}}]),e}(),Wi=function(){function e(t,n,r){(0,k.Z)(this,e),this.sessionService=t,this.stripe=n,this.stripePaymentMethod=r}return(0,P.Z)(e,[{key:"perform",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionService.pay({paymentMethod:this.stripePaymentMethod});case 2:if(t=e.sent,!_t.H.isSuccess(t)){e.next=5;break}return e.abrupt("return",t);case 5:if(n=t.failureResult.errors,r=null==n?void 0:n.customCode,i=null==n?void 0:n.intentSecret,n){e.next=10;break}return e.abrupt("return",_t.H.fail({}));case 10:if(r&&i){e.next=12;break}return e.abrupt("return",_t.H.fail({}));case 12:if("requires_action"!==n.customCode){e.next=15;break}return e.abrupt("return",this.initiate3DS(n.intentSecret,this.stripePaymentMethod));case 15:return e.abrupt("return",_t.H.fail({}));case 16:case"end":return e.stop()}}),e,this)})))}},{key:"initiate3DS",value:function(t,n){return(0,m.mG)(this,void 0,void 0,f().mark((function r(){var i,a,o;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.stripe.handleCardAction(t);case 2:if(i=r.sent,a=e.handle3DsAuthResult(i.error),!_t.H.isFailure(a)){r.next=6;break}return r.abrupt("return",a);case 6:return r.next=8,this.sessionService.pay({paymentMethod:n});case 8:if(o=r.sent,!_t.H.isFailure(o)){r.next=11;break}return r.abrupt("return",_t.H.fail({}));case 11:return r.abrupt("return",o);case 12:case"end":return r.stop()}}),r,this)})))}}],[{key:"handle3DsAuthResult",value:function(e){return e?"payment_intent_authentication_failure"===e.code?_t.H.fail({message:e.message}):_t.H.fail({}):_t.H.success({})}}]),e}(),ji=function(){function e(t,n,r,i,a,o,s){(0,k.Z)(this,e),this.sessionService=t,this.config=n,this.applePayStripeLoadingPromise=r,this.donationDataPoint=i,this.paymentOptionsDataPoint=a,this.sentry=o,this.intl=s,this.name=y.GZ.APPLE_PAY,this.cardToken=null,this.applePayPaymentMethodService=new qi({request:n,stripe:r})}return(0,P.Z)(e,[{key:"checkAvailability",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.applePayPaymentMethodService.init());case 1:case"end":return e.stop()}}),e,this)})))}},{key:"initiateFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})))}},{key:"startFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.paymentOptionsDataPoint.setPaymentMethod(y.GZ.APPLE_PAY),e.next=3,this.createToken();case 3:if(this.cardToken=e.sent,this.cardToken){e.next=6;break}return e.abrupt("return",_t.H.fail({}));case 6:return e.next=8,this.hold();case 8:if(t=e.sent,!_t.H.isFailure(t)){e.next=11;break}return e.abrupt("return",_t.H.fail({message:this.intl.translate("common.errorOccurredText")}));case 11:return e.abrupt("return",_t.H.success(void 0));case 12:case"end":return e.stop()}}),e,this)})))}},{key:"hold",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sessionService.hold({clientPaymentMethod:y.GZ.APPLE_PAY});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",_t.H.fail({shouldLeave:!1}));case 8:return e.abrupt("return",_t.H.success(void 0));case 9:case"end":return e.stop()}}),e,this,[[0,5]])})))}},{key:"pay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.cardToken){e.next=4;break}return e.next=3,this.createToken();case 3:this.cardToken=e.sent;case 4:if(this.cardToken){e.next=6;break}return e.abrupt("return",_t.H.fail({shouldLeave:!1}));case 6:return e.next=8,this.createStripePaymentMethod(this.cardToken);case 8:if(t=e.sent,!_t.H.isFailure(t)){e.next=12;break}return this.cardToken=null,e.abrupt("return",_t.H.fail({shouldLeave:!1,message:t.failureResult.message}));case 12:return e.next=14,this.initiatePayment(t.successResult);case 14:return n=e.sent,this.cardToken=null,e.abrupt("return",_t.H.isSuccess(n)?n:_t.H.fail({shouldLeave:!1,message:n.failureResult.message}));case 17:case"end":return e.stop()}}),e,this)})))}},{key:"initiatePayment",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.applePayStripeLoadingPromise;case 2:return n=t.sent,r=new Wi(this.sessionService,n,e),t.abrupt("return",r.perform());case 5:case"end":return t.stop()}}),t,this)})))}},{key:"createStripePaymentMethod",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.applePayStripeLoadingPromise;case 2:return n=t.sent,t.prev=3,t.next=6,n.createPaymentMethod({type:y.Ey.CARD,card:{token:e}});case 6:r=t.sent,t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(3),this.sentry.captureException(t.t0),t.abrupt("return",_t.H.fail({}));case 13:if(!r.error){t.next=15;break}return t.abrupt("return",_t.H.fail({message:r.error.message}));case 15:if(r.paymentMethod){t.next=17;break}return t.abrupt("return",_t.H.fail({}));case 17:return t.abrupt("return",_t.H.success(r.paymentMethod));case 18:case"end":return t.stop()}}),t,this,[[3,9]])})))}},{key:"createToken",value:function(){var e,t;return(0,m.mG)(this,void 0,void 0,f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.applePayPaymentMethodService.create({amount:this.donationDataPoint.total,currency:this.donationDataPoint.currency.toLowerCase()});case 3:r=n.sent,n.next=10;break;case 6:return n.prev=6,n.t0=n.catch(0),this.sentry.captureException(n.t0),n.abrupt("return",null);case 10:return n.abrupt("return",(null===(t=null===(e=r.stripeVerifier)||void 0===e?void 0:e.token)||void 0===t?void 0:t.id)||null);case 11:case"end":return n.stop()}}),n,this,[[0,6]])})))}}]),e}();function Xi(e){var t=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,ce.Z)(e);if(t){var i=(0,ce.Z)(this).constructor;n=oe()(r,arguments,i)}else n=r.apply(this,arguments);return(0,ue.Z)(this,n)}}Error,Error;var zi,Qi=function(e){(0,se.Z)(n,e);var t=Xi(n);function n(){return(0,k.Z)(this,n),t.call(this,"AU BECS intent secret not found")}return(0,P.Z)(n)}((0,me.Z)(Error)),Ji=function(e){(0,se.Z)(n,e);var t=Xi(n);function n(){return(0,k.Z)(this,n),t.call(this,"AU BECS personal information required")}return(0,P.Z)(n)}((0,me.Z)(Error)),$i=n(258),ea=n(25182),ta={base:{color:"#222832",fontWeight:400,fontFamily:"'IBM Plex Sans', sans-serif",fontSize:"16px",lineHeight:"24px",fontSmoothing:"antialiased",":focus":{color:"#222832"},"::placeholder":{color:"#656970"},":focus::placeholder":{color:"#656970"}},invalid:{color:"#EC414B",":focus":{color:"#EC414B"},"::placeholder":{color:"#656970"}}},na={focus:"focused",empty:"empty",invalid:"invalid"},ra={fonts:[{family:"IBM Plex Sans",src:H()(zi="url(".concat(ea,") format('woff2'), url(")).call(zi,$i,") format('woff')"),weight:"400",style:"normal"}]},ia=function(){function e(t,n,r,i,a){var o=this;(0,k.Z)(this,e),this.sessionService=t,this.stripe=n,this.stripeElements=r,this.personalInformationDataPoint=i,this.sentry=a,this.name=y.GZ.AU_BECS,this.intentSecret=null,this.completed=!1,this.elementReady=!1,this.hasElementError=!1,this.onElementChange=function(e){o.completed=e.complete,o.hasElementError=!!e.error}}return(0,P.Z)(e,[{key:"initiateFlow",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.auBankAccountElement||(this.auBankAccountElement=this.createElement(),this.auBankAccountElement.once("ready",(function(){n.elementReady=!0})),this.auBankAccountElement.on("change",this.onElementChange),this.auBankAccountElement.mount(e)),t.abrupt("return",!0);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"startFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.elementReady){e.next=2;break}return e.abrupt("return",_t.H.fail({}));case 2:if(e.t0=this.completed,e.t0){e.next=7;break}return e.next=6,this.validatePayment();case 6:e.t0=e.sent;case 7:if(e.t0&&!this.hasElementError){e.next=10;break}return e.abrupt("return",_t.H.fail({}));case 10:return e.abrupt("return",_t.H.success(void 0));case 11:case"end":return e.stop()}}),e,this)})))}},{key:"hold",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionService.hold({clientPaymentMethod:y.GZ.AU_BECS});case 2:if((t=e.sent).intentSecret){e.next=5;break}throw new Qi;case 5:return this.intentSecret=t.intentSecret,e.abrupt("return",_t.H.success(void 0));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"pay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.intentSecret){e.next=2;break}throw new Qi;case 2:if(t=this.personalInformationDataPoint.toObject(),n=t.email,r=t.firstName,i=t.lastName,n&&r&&i){e.next=5;break}throw new Ji;case 5:return e.next=7,this.retrieveSetupIntent(this.intentSecret);case 7:if(a=e.sent){e.next=10;break}return e.abrupt("return",_t.H.fail({shouldLeave:!1}));case 10:if(a.status!==fe.OQ.SUCCEEDED){e.next=12;break}return e.abrupt("return",this.requestPay());case 12:return e.next=14,this.confirmDebitSetup(this.intentSecret);case 14:if(o=e.sent,!_t.H.isFailure(o)){e.next=17;break}return e.abrupt("return",_t.H.fail({shouldLeave:!1,message:o.failureResult.message}));case 17:if(o.successResult.status!==fe.OQ.SUCCEEDED){e.next=19;break}return e.abrupt("return",this.requestPay());case 19:return e.abrupt("return",_t.H.fail({shouldLeave:!1}));case 20:case"end":return e.stop()}}),e,this)})))}},{key:"destroy",value:function(){var e;return(0,m.mG)(this,void 0,void 0,f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null===(e=this.auBankAccountElement)||void 0===e||e.destroy();case 1:case"end":return t.stop()}}),t,this)})))}},{key:"requestPay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionService.pay();case 2:return t=e.sent,e.abrupt("return",_t.H.isSuccess(t)?t:_t.H.fail({shouldLeave:!1}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"confirmDebitSetup",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,i,a,o,s;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getElement(),r=this.personalInformationDataPoint.toObject(),i=r.firstName,a=r.lastName,o=r.email,t.prev=2,t.next=5,this.stripe.confirmAuBecsDebitSetup(e,{payment_method:{au_becs_debit:n,billing_details:{name:(0,wt.o)([i,a]),email:o}}});case 5:s=t.sent,t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(2),this.sentry.captureException(t.t0),t.abrupt("return",_t.H.fail({shouldLeave:!1}));case 12:if(s.error){t.next=14;break}return t.abrupt("return",_t.H.success(s.setupIntent));case 14:if("validation_error"!==s.error.type){t.next=16;break}return t.abrupt("return",_t.H.fail({shouldLeave:!1,message:s.error.message}));case 16:if("account_number_invalid"!==s.error.code){t.next=18;break}return t.abrupt("return",_t.H.fail({shouldLeave:!1,message:s.error.message}));case 18:return t.abrupt("return",_t.H.fail({shouldLeave:!1}));case 19:case"end":return t.stop()}}),t,this,[[2,8]])})))}},{key:"retrieveSetupIntent",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.stripe.retrieveSetupIntent(e);case 3:n=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),this.sentry.captureException(t.t0),t.abrupt("return",null);case 10:if(!n.error){t.next=12;break}return t.abrupt("return",null);case 12:return t.abrupt("return",n.setupIntent);case 13:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"validatePayment",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getElement(),e.prev=1,e.next=4,this.stripe.createPaymentMethod({type:y.Ey.AU_BECS,au_becs_debit:t,billing_details:{name:"customer",email:"test@test.ru"}});case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),this.sentry.captureException(e.t0),e.abrupt("return",!1);case 11:if(n.paymentMethod){e.next=13;break}return e.abrupt("return",!1);case 13:return e.abrupt("return",!n.error);case 14:case"end":return e.stop()}}),e,this,[[1,7]])})))}},{key:"getElement",value:function(){if(!this.auBankAccountElement)throw new Error("auBankAccountElement is not initialized");return this.auBankAccountElement}},{key:"createElement",value:function(){return this.stripeElements.create("auBankAccount",{iconStyle:"default",disabled:!1,hideIcon:!1,style:ta,classes:na})}}]),e}(),aa=n(56642),oa=function(){function e(t,n){var r=this;(0,k.Z)(this,e),this.params=t,this.currencyService=n,this.sdkLoadWindow=null,this.verifierResolve=function(){},this.verifierReject=function(){},this.messageListener=function(e){try{var t=JSON.parse(e.data);if("clickToPayCallbackTransfer"!==t.type)return;var n=aa.parse(t.query);"success"===n.mpstatus&&r.verifierResolve({clickToPayVerifier:n.oauth_verifier}),r.initializeTransferIframe().catch((function(e){return console.error(e)}))}catch(e){console.error(e)}}}return(0,P.Z)(e,[{key:"callbackUrl",get:function(){if(this.params.env===y.CB.DEVELOPMENT){var e=window.location.protocol;return"".concat(e,"//checkout.funstaging.com:9001/callbacks/click-to-pay")}return this.params.env===y.CB.STAGING?"https://checkout.funstaging.com/callbacks/click-to-pay":"https://checkout.fundraiseup.com/callbacks/click-to-pay"}},{key:"scriptUrl",get:function(){var e;return!this.params.livemode||st()(e=[y.CB.DEVELOPMENT,y.CB.STAGING]).call(e,this.params.env)?"https://sandbox.src.mastercard.com/srci/integration/merchant.js":"https://src.mastercard.com/srci/integration/merchant.js"}},{key:"init",value:function(){return this.initializeTransferIframe()}},{key:"create",value:function(e){var t=this,n=new(Nt())((function(e,n){t.verifierResolve=e,t.verifierReject=n}));return this.initializeTransferIframe().then((function(){var r;if(!t.sdkLoadWindow)throw new Error("ClickToPay is not initialized");t.showIframe(),t.sdkLoadWindow.addEventListener("beforeunload",A()(r=t.hideIframe).call(r,t),{once:!0});try{t.sdkLoadWindow.masterpass.checkout(t.buildCheckoutParams(e))}catch(e){t.hideIframe(),t.verifierReject(e)}return n}))}},{key:"destroy",value:function(){window.removeEventListener("message",this.messageListener)}},{key:"testAccessToClickToPayFrame",value:function(){if(!this.sdkLoadWindow)return!1;try{this.sdkLoadWindow.masterpass}catch(e){if("SecurityError"===e.name)return!1;throw e}return!0}},{key:"initializeTransferIframe",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.testAccessToClickToPayFrame()){e.next=3;break}return e.abrupt("return",!0);case 3:if(this.clickToPayIframe&&window.document.documentElement.removeChild(this.clickToPayIframe),window.removeEventListener("message",this.messageListener),this.clickToPayIframe=document.createElement("iframe"),this.clickToPayIframe){e.next=8;break}throw new Error("IFRAME is not initialized");case 8:return this.clickToPayIframe.src=window.location.origin,this.clickToPayIframe.setAttribute("frameborder","0"),this.hideIframe(),window.document.documentElement.appendChild(this.clickToPayIframe),this.sdkLoadWindow=this.clickToPayIframe.contentWindow,this.sdkLoadWindow.document.open("text/html","replace"),this.sdkLoadWindow.document.write("<html><head></head><body></body></html>"),this.sdkLoadWindow.document.close(),window.addEventListener("message",this.messageListener),r=wr(this.params.locale),e.abrupt("return",Zr(H()(t=H()(n="".concat(this.scriptUrl,"?locale=")).call(n,r,"&checkoutid=")).call(t,this.params.clickToPayCheckoutId),this.params.deferred,this.sdkLoadWindow));case 19:case"end":return e.stop()}}),e,this)})))}},{key:"buildCheckoutParams",value:function(e){var t=e.amount,n=e.currency;return{checkoutId:this.params.clickToPayCheckoutId,allowedCardTypes:["master","amex","diners","discover","jcb","maestro","visa"],amount:this.currencyService.toFloatUnformattedStr(t,n),currency:n.toLowerCase(),cartId:Math.random().toString(36).substring(2,15),callbackUrl:this.callbackUrl}}},{key:"hideIframe",value:function(){this.getIframe().setAttribute("style","display:none; width:0px; height:0px; z-index: 9999999999999")}},{key:"showIframe",value:function(){this.getIframe().setAttribute("style","width:100%; height:100%; z-index: 9999999999999; position: absolute; top: 0")}},{key:"getIframe",value:function(){if(!this.clickToPayIframe)throw new Error("clickToPayIframe is not initialized");return this.clickToPayIframe}}]),e}(),sa=n(26426),ua=n.n(sa);var ca=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.call(this,"Click to pay is not initialized")}return(0,P.Z)(i)}((0,me.Z)(Error)),la=function(){function e(t,n,r,i,a,o,s){(0,k.Z)(this,e),this.sessionService=t,this.config=n,this.currencyService=r,this.stripe=i,this.donationDataPoint=a,this.sentry=o,this.intl=s,this.clickToPayPaymentMethodService=null,this.name=y.GZ.CLICK_TO_PAY}return(0,P.Z)(e,[{key:"initiateFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.clickToPayPaymentMethodService=new oa(this.config,this.currencyService),e.abrupt("return",this.clickToPayPaymentMethodService.init());case 2:case"end":return e.stop()}}),e,this)})))}},{key:"startFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.donationDataPoint.amount){e.next=2;break}throw new Ki;case 2:if(this.clickToPayPaymentMethodService){e.next=4;break}throw new ca;case 4:return e.next=6,this.clickToPayPaymentMethodService.create({amount:this.donationDataPoint.amount,currency:this.donationDataPoint.currency});case 6:if(t=e.sent,this.clickToPayVerifier=t.clickToPayVerifier,this.clickToPayVerifier){e.next=10;break}return e.abrupt("return",_t.H.fail({message:this.intl.translate("common.errorOccurredText")}));case 10:return e.abrupt("return",_t.H.success(void 0));case 11:case"end":return e.stop()}}),e,this)})))}},{key:"hold",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionService.hold({clientPaymentMethod:y.GZ.CLICK_TO_PAY});case 2:return e.abrupt("return",_t.H.success(void 0));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"pay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createStripePaymentMethod();case 2:if(t=e.sent,!_t.H.isFailure(t)){e.next=5;break}return e.abrupt("return",_t.H.fail({shouldLeave:!1,message:t.failureResult.message}));case 5:return e.next=7,this.initiatePayment(t.successResult);case 7:return n=e.sent,e.abrupt("return",_t.H.isSuccess(n)?n:_t.H.fail({shouldLeave:!1,message:n.failureResult.message}));case 9:case"end":return e.stop()}}),e,this)})))}},{key:"initiatePayment",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Wi(this.sessionService,this.stripe,e),t.abrupt("return",n.perform());case 2:case"end":return t.stop()}}),t,this)})))}},{key:"createStripePaymentMethod",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.stripe.createPaymentMethod({type:y.Ey.CARD,card:{masterpass:{cart_id:ua()(),transaction_id:this.clickToPayVerifier}}});case 3:t=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),this.sentry.captureException(e.t0),e.abrupt("return",_t.H.fail({}));case 10:if(!t.error){e.next=12;break}return e.abrupt("return",_t.H.fail({message:t.error.message}));case 12:if(t.paymentMethod){e.next=14;break}return e.abrupt("return",_t.H.fail({}));case 14:return e.abrupt("return",_t.H.success(t.paymentMethod));case 15:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"destroy",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.clickToPayPaymentMethodService){e.next=2;break}throw new ca;case 2:this.clickToPayPaymentMethodService.destroy();case 3:case"end":return e.stop()}}),e,this)})))}}]),e}(),ha=n(7035),da=n.n(ha),fa=n(13283);var ma=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.call(this,"Card element not found")}return(0,P.Z)(i)}((0,me.Z)(Error)),pa=function(){function e(t,n,r,i,a,o){var s,u=this;(0,k.Z)(this,e),this.sessionService=t,this.stripe=n,this.stripeElements=r,this.sentry=i,this.intl=a,this.failureHandler=o,this.name=y.GZ.CARD,this.initiated=!1,this.elementsState=(s={},(0,v.Z)(s,fa.g.CARD_NUMBER,{ready:!1,completed:!1,hasError:!1}),(0,v.Z)(s,fa.g.CARD_EXPIRY,{ready:!1,completed:!1,hasError:!1}),(0,v.Z)(s,fa.g.CARD_CVC,{ready:!1,completed:!1,hasError:!1}),s),this.handleElementChange=function(e,t){u.elementsState[e].completed=t.complete,u.elementsState[e].hasError=!!t.error},this.handleElementReady=function(e){u.elementsState[e].ready=!0}}return(0,P.Z)(e,[{key:"initiateFlow",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,i,a,o,s,u,c,l,h,d,m;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=e.cardCvcContainer,c=e.cardExpiryContainer,l=e.cardNumberContainer,!this.initiated){t.next=3;break}return t.abrupt("return",!0);case 3:return h=this.stripeElements.create("cardNumber",{iconStyle:"default",showIcon:!0,style:ta,classes:na,placeholder:this.intl.translate("creditCardScreen.cardForm.numberInput.placeholder")}),d=this.stripeElements.create("cardExpiry",{style:ta,classes:na}),m=this.stripeElements.create("cardCvc",{style:ta,classes:na}),h.on("change",A()(n=this.handleElementChange).call(n,this,fa.g.CARD_NUMBER)),d.on("change",A()(r=this.handleElementChange).call(r,this,fa.g.CARD_EXPIRY)),m.on("change",A()(i=this.handleElementChange).call(i,this,fa.g.CARD_CVC)),h.once("ready",A()(a=this.handleElementReady).call(a,this,fa.g.CARD_NUMBER)),d.once("ready",A()(o=this.handleElementReady).call(o,this,fa.g.CARD_EXPIRY)),m.once("ready",A()(s=this.handleElementReady).call(s,this,fa.g.CARD_CVC)),h.mount(l),d.mount(c),m.mount(u),this.initiated=!0,t.abrupt("return",!0);case 17:case"end":return t.stop()}}),t,this)})))}},{key:"elementsReady",get:function(){var e;return da()(e=hn()(this.elementsState)).call(e,(function(e){return e.ready}))}},{key:"elementsCompleted",get:function(){var e;return da()(e=hn()(this.elementsState)).call(e,(function(e){return e.completed}))}},{key:"hasElementsError",get:function(){var e;return E()(e=hn()(this.elementsState)).call(e,(function(e){return e.hasError}))}},{key:"startFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.elementsReady){e.next=2;break}return e.abrupt("return",_t.H.fail({}));case 2:if(this.elementsCompleted&&!this.hasElementsError){e.next=6;break}return e.next=5,this.stripe.createToken(this.getCardNumberElement());case 5:return e.abrupt("return",_t.H.fail({}));case 6:return e.abrupt("return",_t.H.success(void 0));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"hold",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionService.hold({clientPaymentMethod:y.GZ.CARD});case 2:return e.abrupt("return",_t.H.success(void 0));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"destroy",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.stripeElements.getElement(fa.g.CARD_NUMBER),n=this.stripeElements.getElement(fa.g.CARD_EXPIRY),r=this.stripeElements.getElement(fa.g.CARD_CVC),null==t||t.destroy(),null==n||n.destroy(),null==r||r.destroy();case 6:case"end":return e.stop()}}),e,this)})))}},{key:"pay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createStripePaymentMethod();case 2:if(t=e.sent,!_t.H.isFailure(t)){e.next=6;break}return this.failureHandler(),e.abrupt("return",_t.H.fail({shouldLeave:!0,message:t.failureResult.message}));case 6:return e.next=8,this.initiatePayment(t.successResult);case 8:if(n=e.sent,!_t.H.isFailure(n)){e.next=12;break}return this.failureHandler(),e.abrupt("return",_t.H.fail({shouldLeave:!0,message:n.failureResult.message}));case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})))}},{key:"initiatePayment",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Wi(this.sessionService,this.stripe,e),t.abrupt("return",n.perform());case 2:case"end":return t.stop()}}),t,this)})))}},{key:"createStripePaymentMethod",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getCardNumberElement(),e.prev=1,e.next=4,this.stripe.createPaymentMethod({type:y.Ey.CARD,card:t});case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),this.sentry.captureException(e.t0),e.abrupt("return",_t.H.fail({}));case 11:if(!n.error){e.next=13;break}return e.abrupt("return",_t.H.fail({message:n.error.message}));case 13:if(n.paymentMethod){e.next=15;break}return e.abrupt("return",_t.H.fail({}));case 15:return e.abrupt("return",_t.H.success(n.paymentMethod));case 16:case"end":return e.stop()}}),e,this,[[1,7]])})))}},{key:"getCardNumberElement",value:function(){var e=this.stripeElements.getElement(fa.g.CARD_NUMBER);if(!e)throw new ma;return e}}]),e}(),va=function(){function e(t,n,r,i,a,o,s,u,c,l){(0,k.Z)(this,e),this.sessionService=t,this.config=n,this.livemode=r,this.env=i,this.stripe=a,this.currencyService=o,this.donationDataPoint=s,this.paymentOptionsDataPoint=u,this.sentry=c,this.intl=l,this.name=y.GZ.GOOGLE_PAY,this.cardToken=null,this.googlePayJwt=null,this.client=null,this.googlePaySdkEnv="TEST",this.stripeLivemode="test",this.livemode&&this.env===y.CB.PRODUCTION&&(this.googlePaySdkEnv="PRODUCTION",this.stripeLivemode="live")}return(0,P.Z)(e,[{key:"checkAvailability",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.client){e.next=2;break}return e.abrupt("return",!1);case 2:return t=this.makeReadyToPayRequest(),e.next=5,this.client.isReadyToPay(t);case 5:return n=e.sent,e.abrupt("return",n.result);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"initiateFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getJwt();case 3:this.googlePayJwt=e.sent,e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:return e.next=11,this.loadClient();case 11:return this.client=e.sent,e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,this,[[0,6]])})))}},{key:"startFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.paymentOptionsDataPoint.setPaymentMethod(y.GZ.GOOGLE_PAY),e.next=3,this.createToken();case 3:if(this.cardToken=e.sent,this.cardToken){e.next=6;break}return e.abrupt("return",_t.H.fail({}));case 6:return e.next=8,this.hold();case 8:if(t=e.sent,!_t.H.isFailure(t)){e.next=11;break}return e.abrupt("return",_t.H.fail({message:this.intl.translate("common.errorOccurredText")}));case 11:return e.abrupt("return",_t.H.success(void 0));case 12:case"end":return e.stop()}}),e,this)})))}},{key:"pay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.cardToken){e.next=4;break}return e.next=3,this.createToken();case 3:this.cardToken=e.sent;case 4:if(this.cardToken){e.next=6;break}return e.abrupt("return",_t.H.fail({shouldLeave:!1}));case 6:return e.next=8,this.createStripePaymentMethod(this.cardToken);case 8:if(t=e.sent,!_t.H.isFailure(t)){e.next=12;break}return this.cardToken=null,e.abrupt("return",_t.H.fail({shouldLeave:!1,message:t.failureResult.message}));case 12:return e.next=14,this.initiatePayment(t.successResult);case 14:return n=e.sent,e.abrupt("return",_t.H.isSuccess(n)?n:_t.H.fail({shouldLeave:!1,message:n.failureResult.message}));case 16:case"end":return e.stop()}}),e,this)})))}},{key:"initiatePayment",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Wi(this.sessionService,this.stripe,e),t.abrupt("return",n.perform());case 2:case"end":return t.stop()}}),t,this)})))}},{key:"hold",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.sessionService.hold({clientPaymentMethod:y.GZ.GOOGLE_PAY});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",_t.H.fail({shouldLeave:!1}));case 8:return e.abrupt("return",_t.H.success(void 0));case 9:case"end":return e.stop()}}),e,this,[[0,5]])})))}},{key:"createStripePaymentMethod",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.stripe.createPaymentMethod({type:y.Ey.CARD,card:{token:e}});case 3:n=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),this.sentry.captureException(t.t0),t.abrupt("return",_t.H.fail({}));case 10:if(!n.error){t.next=12;break}return t.abrupt("return",_t.H.fail({message:n.error.message}));case 12:if(n.paymentMethod){t.next=14;break}return t.abrupt("return",_t.H.fail({}));case 14:return t.abrupt("return",_t.H.success(n.paymentMethod));case 15:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"create",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,i;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.client){t.next=2;break}throw new Error("GPay client not found");case 2:return n=this.makePaymentRequest(e),t.next=5,this.client.loadPaymentData(n);case 5:if(!(r=t.sent).errorCode){t.next=8;break}throw new Error("GPay payment data is not loaded");case 8:return i=JSON.parse(r.paymentMethodData.tokenizationData.token),t.abrupt("return",{stripeVerifier:{token:i}});case 10:case"end":return t.stop()}}),t,this)})))}},{key:"makePaymentRequest",value:function(e){var t=e.amount,n=e.currency;return{apiVersion:2,apiVersionMinor:0,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:this.config.googlePayInfo.allowedAuthMethods,allowedCardNetworks:this.config.googlePayInfo.allowedCardNetworks},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"stripe",gatewayMerchantId:this.merchantInfo.merchantId,"stripe:version":this.config.googlePayInfo.stripeAPIVersion,"stripe:publishableKey":this.config.stripePublicKey[this.stripeLivemode]+"/"+this.config.stripeAccount}}}],transactionInfo:{countryCode:this.config.countryCode,currencyCode:n.toUpperCase(),totalPriceStatus:"FINAL",totalPrice:this.currencyService.toFloatUnformattedStr(t,n.toUpperCase())},merchantInfo:this.merchantInfo}}},{key:"makeReadyToPayRequest",value:function(){return{allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:this.config.googlePayInfo.allowedAuthMethods,allowedCardNetworks:this.config.googlePayInfo.allowedCardNetworks}}],apiVersion:2,apiVersionMinor:0}}},{key:"getJwt",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sessionService.getGooglePayToken(window.location.hostname));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"loadClient",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zr("https://pay.google.com/gp/p/js/pay.js",!1,window);case 2:return t=window.google,e.abrupt("return",new t.payments.api.PaymentsClient({environment:this.googlePaySdkEnv}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"merchantInfo",get:function(){if(!this.googlePayJwt)throw new Error("GPay token is required");return{merchantId:this.config.googlePayInfo.merchantId,merchantName:this.config.companyName,merchantOrigin:window.location.hostname,authJwt:this.googlePayJwt}}},{key:"createToken",value:function(){var e,t;return(0,m.mG)(this,void 0,void 0,f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.create({currency:this.donationDataPoint.currency,amount:this.donationDataPoint.total});case 3:r=n.sent,n.next=10;break;case 6:return n.prev=6,n.t0=n.catch(0),this.sentry.captureException(n.t0),n.abrupt("return",null);case 10:return n.abrupt("return",(null===(t=null===(e=r.stripeVerifier)||void 0===e?void 0:e.token)||void 0===t?void 0:t.id)||null);case 11:case"end":return n.stop()}}),n,this,[[0,6]])})))}}]),e}();var ya,ga,ka=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.call(this,"Paypal hold payload is invalid")}return(0,P.Z)(i)}((0,me.Z)(Error)),Pa=n(14327),Sa=function(){function e(t,n,r,i){(0,k.Z)(this,e),this.config=t,this.sentry=n,this.locale=r,this.iframeWindow=i,this.scriptParams=null,this.buttonParams=null,this.actions=null,this.rendered=!1,this.paypalButtons=null}return(0,P.Z)(e,[{key:"clientPaymentMethod",get:function(){return this.config.subscriptionsEnabled?y.GZ.PAYPAL_AGREEMENT:y.GZ.PAYPAL}},{key:"paypalIdentifierMethod",get:function(){return this.config.subscriptionsEnabled?"createBillingAgreement":"createOrder"}},{key:"paypalIdentifierKey",get:function(){return this.config.subscriptionsEnabled?"billingToken":"orderID"}},{key:"getPaypalCurrency",value:function(e,t){var n=this.config.paypalCurrencies;return st()(n).call(n,e)?e:st()(n).call(n,t)?t:"USD"}},{key:"setCurrency",value:function(e,t){var n=this.config,r=n.paypalMerchantId,i=n.paypalClientId,a=n.subscriptionsEnabled;if(!r){var o=new Error("Paypal merchant ID is not provided");throw this.sentry.captureException(o),o}var s={"client-id":i,"merchant-id":r,currency:this.getPaypalCurrency(e,t).toUpperCase(),"disable-funding":"venmo",locale:"automatic",intent:"capture",vault:"false"},u=Nr(this.locale);return u&&(s.locale=u),a&&(s.intent="tokenize",s.vault="true"),this.scriptParams=s,this}},{key:"setHandlers",value:function(e){var t,n=this,r=e.onCreate,i=e.onApprove;return this.buttonParams=(t={fundingSource:y.GZ.PAYPAL,style:{color:"silver",tagline:!1,shape:"rect",height:48,size:"responsive"}},(0,v.Z)(t,this.paypalIdentifierMethod,(function(){return r(n.clientPaymentMethod)})),(0,v.Z)(t,"onApprove",(function(e){return(0,m.mG)(n,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e[this.paypalIdentifierKey]){t.next=3;break}return t.abrupt("return",this.handleEmptyTokenError(e));case 3:return t.next=5,i(this.clientPaymentMethod,n);case 5:case"end":return t.stop()}}),t,this)})))})),(0,v.Z)(t,"onInit",(function(e,t){n.actions=t})),(0,v.Z)(t,"onError",(function(e){var t=e.message;if(!t||!st()(t).call(t,"popup close")&&!st()(t).call(t,"cross-domain"))throw e})),t),this}},{key:"disable",value:function(){var e;null===(e=this.actions)||void 0===e||e.disable()}},{key:"enable",value:function(){var e;null===(e=this.actions)||void 0===e||e.enable()}},{key:"mount",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.scriptParams){t.next=2;break}throw new Error("Call `setCurrency` before you mount");case 2:if(this.buttonParams){t.next=4;break}throw new Error("Call `setHandlers` before you mount");case 4:return t.next=6,Zr("https://www.paypal.com/sdk/js?".concat((0,Pa.f0)(this.scriptParams)),!1,this.iframeWindow);case 6:if(e){t.next=8;break}return t.abrupt("return");case 8:return this.paypalButtons=this.iframeWindow.paypal.Buttons(this.buttonParams),t.prev=9,t.next=12,this.paypalButtons.render(e);case 12:this.rendered=!0,t.next=20;break;case 15:if(t.prev=15,t.t0=t.catch(9),!st()(n=["Component closed","Detected container element removed from DOM"]).call(n,null===t.t0||void 0===t.t0?void 0:t.t0.message)){t.next=19;break}return t.abrupt("return");case 19:throw t.t0;case 20:case"end":return t.stop()}}),t,this,[[9,15]])})))}},{key:"handleEmptyTokenError",value:function(e){this.sentry.captureException(new Error("Got an undefined token by paypalIdentifierKey: ".concat(this.paypalIdentifierKey,"$")),{extra:{paypalIdentifierKey:this.paypalIdentifierKey,paypalData:e}})}},{key:"destroy",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.rendered||!this.paypalButtons){e.next=5;break}return e.next=3,this.paypalButtons.close();case 3:this.rendered=!1,this.actions=null;case 5:case"end":return e.stop()}}),e,this)})))}}]),e}(),Ea=function(){function e(t,n,r,i,a,o,s,u,c){(0,k.Z)(this,e),this.sessionService=t,this.config=n,this.sentry=r,this.locale=i,this.iframeWindow=a,this.paymentOptionsDataPoint=o,this.personalInfoDataPoint=s,this.donationDataPoint=u,this.updateSession=c,this.name=fe.GZ.PAYPAL,this.paypalButtonBuilder=new Sa(this.config,this.sentry,this.locale,this.iframeWindow)}return(0,P.Z)(e,[{key:"initiateFlow",value:function(e){var t=e.element,n=e.holdDone;return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.paypalButtonBuilder.setCurrency(this.donationDataPoint.currency,this.donationDataPoint.defaultCurrency).setHandlers({onCreate:function(e){return(0,m.mG)(r,void 0,void 0,f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.updateSession();case 2:return t.abrupt("return",this.sessionService.createPaypalOrder(e));case 3:case"end":return t.stop()}}),t,this)})))},onApprove:function(e,t){return(0,m.mG)(r,void 0,void 0,f().mark((function r(){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.paymentOptionsDataPoint.setPaymentMethod(e),this.clientPaymentMethod=e,this.token=t,r.next=5,this.hold();case 5:n();case 6:case"end":return r.stop()}}),r,this)})))}}).mount(t);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"startFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_t.H.success(void 0));case 1:case"end":return e.stop()}}),e)})))}},{key:"hold",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.token&&this.clientPaymentMethod){e.next=2;break}throw new ka;case 2:return t={token:this.token,clientPaymentMethod:this.clientPaymentMethod},e.next=5,this.sessionService.hold(t);case 5:return n=e.sent,this.setPersonalInfo(n),e.abrupt("return",_t.H.success(void 0));case 8:case"end":return e.stop()}}),e,this)})))}},{key:"pay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionService.pay();case 2:return t=e.sent,e.abrupt("return",_t.H.isSuccess(t)?t:_t.H.fail({shouldLeave:!1}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"setPersonalInfo",value:function(e){this.personalInfoDataPoint.firstName=e.firstName||"",this.personalInfoDataPoint.lastName=e.lastName||"",this.personalInfoDataPoint.email=e.email||""}},{key:"closePaypal",value:function(){this.paypalButtonBuilder.destroy()}},{key:"togglePaypalActions",value:function(e){return e?this.paypalButtonBuilder.enable():this.paypalButtonBuilder.disable()}}]),e}(),Da=function(){function e(t,n){var r=this;(0,k.Z)(this,e),this.params=t,this.sentry=n,this.makePromise(),this.config={onSuccess:function(e,t){r.multipleInstancesAllowed&&r.linkTokenHandler.destroy(),r.params.onSuccess(e,t)},onExit:function(e,t){r.multipleInstancesAllowed&&r.linkTokenHandler.destroy(),null!==e&&r.linkHandlerReject(e),null!==e&&"INVALID_LINK_TOKEN"===e.error_code&&(r.linkTokenHandler.destroy(),r.params.linkTokenFetcher.fetchLinkToken(r.params.language,!0).then((function(e){return r.linkToken=e,r.initLink(!0)}))),r.params.onExit&&r.params.onExit(e,t)},onLoad:function(){r.linkHandlerResolve(r.linkTokenHandler),r.params.onLoad&&r.params.onLoad()},onEvent:function(e){r.params.onEvent&&r.params.onEvent(e)}},this.multipleInstancesAllowed?this.loadLibImmediate&&this.loadPlaidLib():this.initLink()}return(0,P.Z)(e,[{key:"linkTokenFetcher",get:function(){return this.params.linkTokenFetcher}},{key:"Plaid",get:function(){return this.params.window.Plaid}},{key:"loadLibImmediate",get:function(){return void 0===this.params.loadLibImmediate||this.params.loadLibImmediate}},{key:"multipleInstancesAllowed",get:function(){return!0!==this.params.keepOneInstance}},{key:"getLinkHandler",value:function(){return this.multipleInstancesAllowed&&this.initLink(!0),this.linkHandlerPromise}},{key:"initLink",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t&&this.makePromise(),this.loadPlaidLib().then((function(){return e.linkToken?e.linkToken:e.linkTokenFetcher.fetchLinkToken(e.params.language,!1)})).then((function(t){e.linkTokenHandler=e.Plaid.create(Z()(Z()({},e.config),{token:t.linkToken}))})).catch((function(t){e.linkHandlerReject(t),e.sentry.captureException(t)}))}},{key:"makePromise",value:function(){var e=this;this.linkHandlerPromise=new(Nt())((function(t,n){e.linkHandlerResolve=t,e.linkHandlerReject=n}))}},{key:"loadPlaidLib",value:function(){var e=this;return Zr("https://cdn.plaid.com/link/v2/stable/link-initialize.js",this.params.deferred,this.params.window).then((function(){e.params.onLibLoad&&e.params.onLibLoad()})).catch((function(e){return console.log(e)}))}}]),e}();!function(e){e.INSUFFICIENT_FUNDS="insufficient_funds"}(ya||(ya={})),function(e){e.PLAID_INSUFFICIENT_FUNDS_TITLE="You have insufficient funds",e.PLAID_INSUFFICIENT_FUNDS_MESSAGE="The account chosen for payment does not have sufficient funds to complete your donation"}(ga||(ga={}));var ba=function(){function e(t,n,r,i,a,o){(0,k.Z)(this,e),this.sessionService=t,this.iframeWindow=n,this.language=r,this.showcase=i,this.sentry=a,this.intl=o,this.name=fe.GZ.PLAID,this.plaidLink=null,this.plaidLinkToken=null,this.plaidTokenData=null}return(0,P.Z)(e,[{key:"plaidLanguage",get:function(){var e=[Qn.uZ.EN,Qn.uZ.ES,Qn.uZ.FR,Qn.uZ.NL,Qn.uZ.DE];return st()(e).call(e,this.language)?this.language:Qn.uZ.EN}},{key:"initiateFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})))}},{key:"startFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.showcase){e.next=2;break}return e.abrupt("return",_t.H.fail({}));case 2:return t=this.initPlaid(),e.next=5,this.openPlaid();case 5:return e.next=7,t;case 7:if(n=e.sent,!_t.H.isFailure(n)){e.next=11;break}return this.plaidLinkToken=null,e.abrupt("return",n);case 11:return this.plaidTokenData=n.successResult,e.abrupt("return",_t.H.success(void 0));case 13:case"end":return e.stop()}}),e,this)})))}},{key:"initPlaid",value:function(){var e=this;return new(Nt())((function(t){e.plaidLink=new Da({window:e.iframeWindow,deferred:!1,language:e.plaidLanguage,onSuccess:function(e,n){t(_t.H.success({token:e,metadata:n}))},onExit:function(e){null!==e&&e.display_message?t(_t.H.fail({message:e.display_message})):t(_t.H.fail({}))},linkTokenFetcher:{fetchLinkToken:function(t,n){return e.plaidCreateLinkToken({language:t,force:n})}}},e.sentry)}))}},{key:"openPlaid",value:function(){var e;return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=this.plaidLink)||void 0===e?void 0:e.getLinkHandler();case 2:(n=t.sent)&&n.open();case 4:case"end":return t.stop()}}),t,this)})))}},{key:"plaidCreateLinkToken",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.plaidLinkToken||e.force){t.next=2;break}return t.abrupt("return",this.plaidLinkToken);case 2:return t.next=4,this.sessionService.plaidCreateLinkToken(e.language);case 4:return this.plaidLinkToken=t.sent,t.abrupt("return",this.plaidLinkToken);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"hold",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.plaidTokenData){e.next=2;break}throw new Error("Empty Plaid token");case 2:return e.next=4,this.sessionService.createPlaidStripeToken(this.plaidTokenData);case 4:if(t=e.sent,!_t.H.isFailure(t)){e.next=8;break}return this.sentry.captureException(t.failureResult),e.abrupt("return",_t.H.fail({message:this.intl.translate("common.errorOccurredText")}));case 8:return e.next=10,this.sessionService.hold({token:t.successResult.token,clientPaymentMethod:fe.GZ.PLAID});case 10:return e.abrupt("return",_t.H.success(void 0));case 11:case"end":return e.stop()}}),e,this)})))}},{key:"pay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionService.pay();case 2:return t=e.sent,n="",r="",_t.H.isFailure(t)&&t.failureResult.errors.code===ya.INSUFFICIENT_FUNDS&&(n=ga.PLAID_INSUFFICIENT_FUNDS_TITLE,r=ga.PLAID_INSUFFICIENT_FUNDS_MESSAGE),e.abrupt("return",_t.H.isSuccess(t)?t:_t.H.fail({shouldLeave:!1,message:n,additionalMessage:r}));case 7:case"end":return e.stop()}}),e,this)})))}}]),e}(),wa=function(){function e(t,n,r,i,a,o,s,u,c,l){var h=this;(0,k.Z)(this,e),this.sessionService=t,this.stripe=n,this.stripeElements=r,this.personalInformationDataPoint=i,this.mailingAddressDataPoint=a,this.sentry=o,this.paymentMethodManager=s,this.resolvedCheckoutData=u,this.mailingAddressFailureHandler=c,this.makeMailingAddressMetaSnapshot=l,this.name=fe.GZ.SEPA,this.intentSecret=null,this.country=null,this.completed=!1,this.elementReady=!1,this.ibanElement=null,this.hasElementError=!1,this.onElementChange=function(e){h.country=e.country,h.completed=e.complete,h.hasElementError=!!e.error}}return(0,P.Z)(e,[{key:"initiateFlow",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.ibanElement||(this.ibanElement=this.createElement(),this.ibanElement.once("ready",(function(){n.elementReady=!0})),this.ibanElement.on("change",this.onElementChange),this.ibanElement.mount(e)),t.abrupt("return",!0);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"startFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.elementReady){e.next=2;break}return e.abrupt("return",_t.H.fail({}));case 2:if(e.t0=this.completed,e.t0){e.next=7;break}return e.next=6,this.validatePayment();case 6:e.t0=e.sent;case 7:if(e.t0&&!this.hasElementError){e.next=10;break}return e.abrupt("return",_t.H.fail({}));case 10:return e.abrupt("return",_t.H.success(void 0));case 11:case"end":return e.stop()}}),e,this)})))}},{key:"hold",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionService.hold({clientPaymentMethod:fe.GZ.SEPA});case 2:if(t=e.sent,n=t.intentSecret,this.paymentMethodManager.isRequired("address",{ibanCountry:this.country})&&this.makeMailingAddressRequired(),n){e.next=7;break}throw new Vi;case 7:return this.intentSecret=n,e.abrupt("return",_t.H.success(void 0));case 9:case"end":return e.stop()}}),e,this)})))}},{key:"pay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.intentSecret){e.next=2;break}throw new Vi;case 2:if(t=this.mailingAddressDataPoint.validate(),n=t.isValid,!this.paymentMethodManager.isRequired("address",{ibanCountry:this.country})||n){e.next=5;break}throw new Error("Wrong address format for ".concat(this.country," IBAN"));case 5:return e.next=7,this.retrieveSetupIntent(this.intentSecret);case 7:if(r=e.sent){e.next=10;break}return e.abrupt("return",_t.H.fail({shouldLeave:!1}));case 10:if(r.status!==fe.OQ.SUCCEEDED){e.next=12;break}return e.abrupt("return",this.requestPay());case 12:return e.next=14,this.confirmSepaDebitSetup(this.intentSecret);case 14:if(i=e.sent,!_t.H.isFailure(i)){e.next=17;break}return e.abrupt("return",i);case 17:if((a=i.successResult)&&a.status===fe.OQ.SUCCEEDED){e.next=20;break}return e.abrupt("return",_t.H.fail({shouldLeave:!1}));case 20:return e.abrupt("return",this.requestPay());case 21:case"end":return e.stop()}}),e,this)})))}},{key:"destroy",value:function(){var e;return(0,m.mG)(this,void 0,void 0,f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{null===(e=this.ibanElement)||void 0===e||e.destroy()}catch(e){}case 1:case"end":return t.stop()}}),t,this)})))}},{key:"retrieveSetupIntent",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.stripe.retrieveSetupIntent(e);case 3:n=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),this.sentry.captureException(t.t0),t.abrupt("return",null);case 10:if(n.setupIntent){t.next=12;break}return t.abrupt("return",null);case 12:return t.abrupt("return",n.setupIntent);case 13:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"confirmSepaDebitSetup",value:function(e){var t;return(0,m.mG)(this,void 0,void 0,f().mark((function n(){var r,i,a,o,s;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=this.getElement(),this.country){n.next=3;break}throw new Error("country was not set");case 3:return a=this.personalInformationDataPoint.toObject(),o=this.mailingAddressDataPoint.toObject(),n.prev=5,n.next=8,this.stripe.confirmSepaDebitSetup(e,{payment_method:{sepa_debit:i,billing_details:{name:(0,wt.o)([a.firstName,a.lastName]),email:a.email,address:{line1:o.line1,city:o.city,country:o.countryCode,postal_code:o.postal}}}});case 8:s=n.sent,n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(5),this.sentry.captureException(n.t0),n.abrupt("return",_t.H.fail({}));case 15:if(s.error){n.next=17;break}return n.abrupt("return",_t.H.success(s.setupIntent));case 17:if("validation_error"!==s.error.type){n.next=19;break}return n.abrupt("return",_t.H.fail({shouldLeave:!1,message:s.error.message}));case 19:if(!st()(r=["invalid_owner_address","country-code-invalid"]).call(r,null!==(t=s.error.message)&&void 0!==t?t:"")){n.next=23;break}return this.mailingAddressFailureHandler(),n.abrupt("return",_t.H.fail({shouldLeave:!0,message:s.error.message}));case 23:return n.abrupt("return",_t.H.fail({shouldLeave:!1}));case 24:case"end":return n.stop()}}),n,this,[[5,11]])})))}},{key:"requestPay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionService.pay();case 2:return t=e.sent,e.abrupt("return",_t.H.isSuccess(t)?t:_t.H.fail({shouldLeave:!1,message:t.failureResult.message}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getElement",value:function(){if(!this.ibanElement)throw new Error("ibanElement is not initialized");return this.ibanElement}},{key:"createElement",value:function(){return this.stripeElements.create("iban",{iconStyle:"default",disabled:!1,hideIcon:!1,placeholderCountry:this.resolvedCheckoutData.company().country,style:Z()(Z()({},ta),{base:Z()(Z()({},ta.base),{fontSize:"14px"})}),classes:na,supportedCountries:["SEPA"]})}},{key:"validatePayment",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getElement(),e.prev=1,e.next=4,this.stripe.createPaymentMethod({type:y.Ey.SEPA,sepa_debit:t,billing_details:{name:"supporter",email:"1234@example.com"}});case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),this.sentry.captureException(e.t0),e.abrupt("return",!1);case 11:if(n.paymentMethod){e.next=13;break}return e.abrupt("return",!1);case 13:return e.abrupt("return",!n.error);case 14:case"end":return e.stop()}}),e,this,[[1,7]])})))}},{key:"makeMailingAddressRequired",value:function(){this.makeMailingAddressMetaSnapshot(cn.e.SEPA),this.mailingAddressDataPoint.isEnabled=!0,this.mailingAddressDataPoint.isRequired=!0}}]),e}(),Aa=function(){function e(t,n,r,i,a,o,s,u,c,l){(0,k.Z)(this,e),this.sessionService=t,this.stripe=n,this.personalInformationDataPoint=r,this.mailingAddressDataPoint=i,this.ukBacsDataPoint=a,this.sentry=o,this.intl=s,this.mailingAddressFailureHandler=u,this.ukBacsFailureHandler=c,this.makeMailingAddressMetaSnapshot=l,this.name=y.GZ.UK_BACS,this.intentSecret=null}return(0,P.Z)(e,[{key:"initiateFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})))}},{key:"startFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_t.H.success(void 0));case 1:case"end":return e.stop()}}),e)})))}},{key:"hold",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionService.hold({clientPaymentMethod:y.GZ.UK_BACS});case 2:if(t=e.sent,n=t.intentSecret){e.next=6;break}throw new Vi;case 6:return this.makeMailingAddressRequired(),this.intentSecret=n,e.abrupt("return",_t.H.success(void 0));case 9:case"end":return e.stop()}}),e,this)})))}},{key:"pay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.intentSecret){e.next=2;break}throw new Vi;case 2:return e.next=4,this.retrieveSetupIntent(this.intentSecret);case 4:if(t=e.sent){e.next=7;break}return e.abrupt("return",_t.H.fail({shouldLeave:!1}));case 7:if(t.status!==fe.OQ.SUCCEEDED){e.next=9;break}return e.abrupt("return",this.requestPay());case 9:return e.next=11,this.confirmBacsDebitSetup(this.intentSecret);case 11:if(n=e.sent,!_t.H.isFailure(n)){e.next=14;break}return e.abrupt("return",n);case 14:if((r=n.successResult)&&r.status===fe.OQ.SUCCEEDED){e.next=17;break}return e.abrupt("return",_t.H.fail({shouldLeave:!0}));case 17:return e.abrupt("return",this.requestPay());case 18:case"end":return e.stop()}}),e,this)})))}},{key:"retrieveSetupIntent",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.stripe.retrieveSetupIntent(e);case 3:n=t.sent,t.next=10;break;case 6:return t.prev=6,t.t0=t.catch(0),this.sentry.captureException(t.t0),t.abrupt("return",null);case 10:if(n.setupIntent){t.next=12;break}return t.abrupt("return",null);case 12:return t.abrupt("return",n.setupIntent);case 13:case"end":return t.stop()}}),t,this,[[0,6]])})))}},{key:"confirmBacsDebitSetup",value:function(e){var t,n,r;return(0,m.mG)(this,void 0,void 0,f().mark((function i(){var a,o,s,u,c,l;return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return u=this.personalInformationDataPoint.toObject(),c=this.mailingAddressDataPoint.toObject(),l=this.ukBacsDataPoint.toObject(),i.prev=3,i.next=6,this.stripe.confirmBacsDebitSetup(e,{payment_method:{bacs_debit:{sort_code:l.sortCode,account_number:l.accountNumber},billing_details:{name:l.accountHolderName,email:u.email,address:{line1:c.line1,city:c.city,country:c.countryCode,postal_code:c.postal}}}});case 6:s=i.sent,i.next=13;break;case 9:return i.prev=9,i.t0=i.catch(3),this.sentry.captureException(i.t0),i.abrupt("return",_t.H.fail({}));case 13:if(s.error){i.next=15;break}return i.abrupt("return",_t.H.success(null!==(t=s.setupIntent)&&void 0!==t?t:null));case 15:if(!st()(a=["invalid_owner_address","country-code-invalid"]).call(a,null!==(n=s.error.code)&&void 0!==n?n:"")){i.next=19;break}return this.mailingAddressFailureHandler(),i.abrupt("return",_t.H.fail({shouldLeave:!0,additionalMessage:s.error.message,message:this.intl.translate("mailingAddressScreen.validationError.title")}));case 19:if(this.ukBacsFailureHandler(),!st()(o=["invalid_bank_account_account_number","invalid_bank_account"]).call(o,null!==(r=s.error.code)&&void 0!==r?r:"")){i.next=22;break}return i.abrupt("return",_t.H.fail({shouldLeave:!0,message:s.error.message}));case 22:if(!s.error.message){i.next=24;break}return i.abrupt("return",_t.H.fail({shouldLeave:!1,message:s.error.message}));case 24:return i.abrupt("return",_t.H.fail({shouldLeave:!0}));case 25:case"end":return i.stop()}}),i,this,[[3,9]])})))}},{key:"requestPay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionService.pay();case 2:return t=e.sent,e.abrupt("return",_t.H.isSuccess(t)?t:_t.H.fail({shouldLeave:!1}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"makeMailingAddressRequired",value:function(){this.makeMailingAddressMetaSnapshot(cn.e.UK_BACS),this.mailingAddressDataPoint.isEnabled=!0,this.mailingAddressDataPoint.isRequired=!0}}]),e}(),Ca="venmo",Na=function(){function e(t,n,r,i){(0,k.Z)(this,e),this.config=t,this.sentry=n,this.locale=r,this.iframeWindow=i,this.scriptParams=null,this.buttonParams=null,this.actions=null,this.rendered=!1,this.available=!0}return(0,P.Z)(e,[{key:"clientPaymentMethod",get:function(){return y.GZ.VENMO}},{key:"init",value:function(){var e=this.config,t=e.paypalMerchantId,n=e.paypalClientId;if(!t){var r=new Error("Paypal merchant ID is not provided");throw this.sentry.captureException(r),r}var i={"client-id":n,"merchant-id":t,currency:"USD","enable-funding":Ca,"disable-funding":"card"},a=Nr(this.locale);return a&&(i.locale=a),this.scriptParams=i,this}},{key:"setHandlers",value:function(e){var t=this,n=e.onCreate,r=e.onApprove;return this.buttonParams={fundingSource:Ca,style:{tagline:!1,shape:"rect",height:48,size:"responsive"},createOrder:function(){return n(y.GZ.VENMO)},onApprove:function(e){return(0,m.mG)(t,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.venmoButtons){t.next=2;break}throw new Error("Venmo Buttons not initialized");case 2:if(n=e.orderID){t.next=5;break}return t.abrupt("return",this.handleEmptyTokenError(e));case 5:return t.next=7,r(this.clientPaymentMethod,n);case 7:case"end":return t.stop()}}),t,this)})))},onInit:function(e,n){t.actions=n},onError:function(e){var t=e.message;if(!t||!st()(t).call(t,"popup close")&&!st()(t).call(t,"cross-domain"))throw e}},this}},{key:"disable",value:function(){var e;null===(e=this.actions)||void 0===e||e.disable()}},{key:"enable",value:function(){var e;null===(e=this.actions)||void 0===e||e.enable()}},{key:"mount",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.scriptParams){t.next=2;break}throw new Error("Call `setCurrency` before you mount");case 2:if(this.buttonParams){t.next=4;break}throw new Error("Call `setHandlers` before you mount");case 4:return t.next=6,Zr("https://www.paypal.com/sdk/js?".concat((0,Pa.f0)(this.scriptParams)),!1,this.iframeWindow,{"data-namespace":"venmo"});case 6:if(e){t.next=8;break}return t.abrupt("return");case 8:if(this.venmoButtons=this.iframeWindow.venmo.Buttons(this.buttonParams),this.venmoButtons.isEligible()){t.next=12;break}return this.available=!1,t.abrupt("return");case 12:return t.prev=12,t.next=15,this.venmoButtons.render(e);case 15:this.rendered=!0,t.next=23;break;case 18:if(t.prev=18,t.t0=t.catch(12),!st()(n=["Component closed","Detected container element removed from DOM"]).call(n,null===t.t0||void 0===t.t0?void 0:t.t0.message)){t.next=22;break}return t.abrupt("return");case 22:throw t.t0;case 23:case"end":return t.stop()}}),t,this,[[12,18]])})))}},{key:"handleEmptyTokenError",value:function(e){this.sentry.captureException(new Error("Got an undefined token"),{extra:{data:e}})}},{key:"destroy",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.rendered||!this.venmoButtons){e.next=4;break}return e.next=3,this.venmoButtons.close();case 3:this.rendered=!1;case 4:case"end":return e.stop()}}),e,this)})))}}]),e}(),Oa=function(){function e(t,n,r,i,a,o,s,u,c,l){(0,k.Z)(this,e),this.sessionService=t,this.livemode=n,this.showcase=r,this.config=i,this.sentry=a,this.locale=o,this.iframeWindow=s,this.paymentOptionsDataPoint=u,this.personalInfoDataPoint=c,this.updateSession=l,this.name=fe.GZ.VENMO,this.venmoButtonBuilder=new Na(this.config,this.sentry,this.locale,this.iframeWindow)}return(0,P.Z)(e,[{key:"checkAvailability",value:function(){return this.venmoButtonBuilder.available}},{key:"initiateFlow",value:function(e){var t=e.element,n=e.holdDone;return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.venmoButtonBuilder.init().setHandlers({onCreate:function(e){return(0,m.mG)(r,void 0,void 0,f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.updateSession();case 2:return t.abrupt("return",this.sessionService.createPaypalOrder(e));case 3:case"end":return t.stop()}}),t,this)})))},onApprove:function(e,t){return(0,m.mG)(r,void 0,void 0,f().mark((function r(){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.paymentOptionsDataPoint.setPaymentMethod(e),this.clientPaymentMethod=e,this.token=t,r.next=5,this.hold();case 5:n();case 6:case"end":return r.stop()}}),r,this)})))}}).mount(t);case 2:return e.abrupt("return",this.venmoButtonBuilder.available);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"startFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_t.H.success(void 0));case 1:case"end":return e.stop()}}),e)})))}},{key:"hold",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.token&&this.clientPaymentMethod){e.next=2;break}throw new ka;case 2:return t={token:this.token,clientPaymentMethod:this.clientPaymentMethod},e.next=5,this.sessionService.hold(t);case 5:return n=e.sent,this.setPersonalInfo(n),e.abrupt("return",_t.H.success(void 0));case 8:case"end":return e.stop()}}),e,this)})))}},{key:"pay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionService.pay();case 2:return t=e.sent,e.abrupt("return",_t.H.isSuccess(t)?t:_t.H.fail({shouldLeave:!1}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"setPersonalInfo",value:function(e){this.personalInfoDataPoint.firstName=e.firstName||"",this.personalInfoDataPoint.lastName=e.lastName||"",this.personalInfoDataPoint.email=e.email||""}},{key:"closeButton",value:function(){this.venmoButtonBuilder.destroy()}}]),e}(),_a=function(){function e(t,n,r){(0,k.Z)(this,e),this.sentry=t,this.intl=n,this.paymentMethodAvailabilityManagerRepository=r,this.paymentFlows={}}return(0,P.Z)(e,[{key:"destroy",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,n=hn()(this.paymentFlows);case 1:if(!(t<n.length)){e.next=9;break}if(!(r=n[t]).destroy){e.next=6;break}return e.next=6,r.destroy();case 6:t++,e.next=1;break;case 9:case"end":return e.stop()}}),e,this)})))}},{key:"resolveClickToPay",value:function(e){var t=this,n=e.env,r=e.currencyService,i=e.stripe,a=e.livemode,o=e.locale,s=e.clickToPayCheckoutId,u=e.sessionService,c=e.donationDataPoint;return this.getOrCreatePaymentFlow(y.GZ.CLICK_TO_PAY,(function(){if(!i)throw new Error("Click to pay dependencies are not provided");return new la(u,{env:n,livemode:a,clickToPayCheckoutId:s,deferred:!1,locale:o},r,i,c,t.sentry,t.intl)}))}},{key:"resolveCard",value:function(e){var t=this,n=e.sessionService,r=e.stripe,i=e.stripeElements,a=e.failureHandler;return this.getOrCreatePaymentFlow(y.GZ.CARD,(function(){if(!r||!i)throw new Error("Credit card dependencies are not provided");return new pa(n,r,i,t.sentry,t.intl,a)}))}},{key:"resolvePaypal",value:function(e){var t=this,n=e.sessionService,r=e.locale,i=e.iframeWindow,a=e.paypalClientId,o=e.paypalMerchantId,s=e.paypalCurrencies,u=e.subscriptionsEnabled,c=e.paymentOptionsDataPoint,l=e.personalInformationDataPoint,h=e.donationDataPoint,d=e.updateSession;return this.getOrCreatePaymentFlow(y.GZ.PAYPAL,(function(){return new Ea(n,{paypalClientId:a,paypalMerchantId:o,paypalCurrencies:s,subscriptionsEnabled:u},t.sentry,r,i,c,l,h,d)}))}},{key:"resolveGooglePay",value:function(e){var t=this,n=e.sessionService,r=e.livemode,i=e.env,a=e.googlePayInfo,o=e.stripeAccount,s=e.companyName,u=e.stripePublicKey,c=e.countryCode,l=e.stripe,h=e.currencyService,d=e.donationDataPoint,f=e.paymentOptionsDataPoint;return this.getOrCreatePaymentFlow(y.GZ.GOOGLE_PAY,(function(){if(!o)throw new Error("Stripe account is required for GPay");return new va(n,{googlePayInfo:a,stripeAccount:o,stripePublicKey:u,companyName:s,countryCode:c},r,i,l,h,d,f,t.sentry,t.intl)}))}},{key:"resolveUkBacs",value:function(e){var t=this,n=e.sessionService,r=e.stripe,i=e.personalInformationDataPoint,a=e.mailingAddressDataPoint,o=e.ukBacsDataPoint,s=e.mailingAddressFailureHandler,u=e.ukBacsFailureHandler,c=e.makeMailingAddressMetaSnapshot;return this.getOrCreatePaymentFlow(y.GZ.UK_BACS,(function(){return new Aa(n,r,i,a,o,t.sentry,t.intl,s,u,c)}))}},{key:"resolveApplePay",value:function(e){var t=this,n=e.sessionService,r=e.companyName,i=e.applePayStripeLoadingPromise,a=e.donationDataPoint,o=e.paymentOptionsDataPoint;return this.getOrCreatePaymentFlow(y.GZ.APPLE_PAY,(function(){var e={country:y.C9.UNITED_STATES,currency:a.currency.toLowerCase(),total:{label:r,amount:a.total||0}};return new ji(n,e,i,a,o,t.sentry,t.intl)}))}},{key:"resolveAuBECS",value:function(e){var t=this,n=e.sessionService,r=e.stripe,i=e.stripeElements,a=e.personalInformationDataPoint;return this.getOrCreatePaymentFlow(y.GZ.AU_BECS,(function(){if(!r||!i)throw new Error("Elements are not provided");return new ia(n,r,i,a,t.sentry)}))}},{key:"resolveSepa",value:function(e){var t=this,n=e.sessionService,r=e.stripe,i=e.stripeElements,a=e.mailingAddressDataPoint,o=e.personalInformationDataPoint,s=e.resolvedCheckoutData,u=e.mailingAddressFailureHandler,c=e.makeMailingAddressMetaSnapshot;return this.getOrCreatePaymentFlow(y.GZ.SEPA,(function(){if(!r||!i)throw new Error("Elements are not provided");var e=t.paymentMethodAvailabilityManagerRepository.getManager(y.GZ.SEPA,Bi.B.WIDGET);return new wa(n,r,i,o,a,t.sentry,e,s,u,c)}))}},{key:"resolveACH",value:function(e){var t=this,n=e.sessionService,r=e.stripe,i=e.achDataPoint;return this.getOrCreatePaymentFlow(y.GZ.ACH,(function(){if(!r)throw new Error("Stripe is not provided");return new Gi(r,t.sentry,n,i)}))}},{key:"resolveACSS",value:function(e){var t=this,n=e.sessionService,r=e.stripe,i=e.paymentOptionsDataPoint;return this.getOrCreatePaymentFlow(y.GZ.ACSS,(function(){return new Yi(n,r,i,t.intl,t.sentry)}))}},{key:"resolveVenmo",value:function(e){var t=this,n=e.sessionService,r=e.livemode,i=e.showcase,a=e.locale,o=e.iframeWindow,s=e.paypalClientId,u=e.paypalMerchantId,c=e.paymentOptionsDataPoint,l=e.personalInformationDataPoint,h=e.updateSession;return this.getOrCreatePaymentFlow(y.GZ.VENMO,(function(){return new Oa(n,r,i,{paypalClientId:s,paypalMerchantId:u},t.sentry,a,o,c,l,h)}))}},{key:"resolvePlaid",value:function(e){var t=this,n=e.sessionService,r=e.iframeWindow,i=e.language,a=e.showcase;return this.getOrCreatePaymentFlow(y.GZ.PLAID,(function(){return new ba(n,r,i,a,t.sentry,t.intl)}))}},{key:"getOrCreatePaymentFlow",value:function(e,t){return this.paymentFlows[e]||(this.paymentFlows[e]=t()),this.paymentFlows[e]}},{key:"getPaymentFlow",value:function(e){return this.paymentFlows[e]}}]),e}(),Ta=n(18873),Ra=n(26562),Ia=n.n(Ra),xa=function(){function e(){(0,k.Z)(this,e),this.stack=[]}return(0,P.Z)(e,[{key:"getCurrent",value:function(){return this.stack[this.stack.length-1]||null}},{key:"getPrevious",value:function(){return this.stack[this.stack.length-2]||null}},{key:"getHistoricalScreens",value:function(){return(0,Un.Z)(this.stack)}},{key:"goTo",value:function(e){var t,n,r=rt()(t=this.stack).call(t,e);return-1===r?(this.stack.push(e),this):(Ia()(n=this.stack).call(n,r+1),this)}},{key:"has",value:function(e){var t;return-1!==rt()(t=this.stack).call(t,e)}}]),e}();var Za=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e,t,n){var a;return(0,k.Z)(this,i),(a=r.call(this)).transitionsCompiler=e,a.settings=t,a.state=n,a.history=new xa,a.locked=!1,a.done=!1,a._isExiting=!1,a.screens=e.compile(t.screens,(0,hi.Z)(a)),a}return(0,P.Z)(i,[{key:"isLocked",get:function(){return this.locked}},{key:"isExiting",get:function(){return this._isExiting}},{key:"setExiting",value:function(e){this._isExiting=e}},{key:"start",value:function(){var e=this,t=this.getScreenByName(this.settings.defaultInitial()),n=this.getScreenByName(this.settings.initial());return this.firstScreen=this.getFirstScreen(n),t!==n&&this.history.goTo(t.name),this.history.goTo(this.firstScreen.name),this.currentScreen.instance.beforeEnter().then((function(){e.emitScreenChanged(),e.checkFlowCompleted()}))}},{key:"next",value:function(e){if(null==e?void 0:e.allowMandatory){var t=this.getFirstMandatoryScreen();if(t)return this.goTo(t.name,{direction:(null==e?void 0:e.direction)||Ui.l.BACKWARD})}var n=this.getNextScreen(this.currentScreen);return this.goTo(n.name,{direction:(null==e?void 0:e.direction)||Ui.l.FORWARD})}},{key:"previousScreenName",get:function(){return this.history.getPrevious()}},{key:"prev",value:function(){this.setExiting(!1);var e=this.history.getPrevious();return e?this.goTo(e,{direction:Ui.l.BACKWARD}):Nt().reject(new Error("Cannot go to the previous screen"))}},{key:"getHistoricalScreens",value:function(){return this.history.getHistoricalScreens()}},{key:"goTo",value:function(e,t){var n=this;return this.throwErrorIfCannotChangeScreen().then((function(){return n.currentScreen.instance.beforeLeave({direction:null==t?void 0:t.direction}).then((function(){return n.currentScreen.instance.dispose()}))})).then((function(){return n.history.goTo(e),n.currentScreen.instance=n.transitionsCompiler.createScreenInstance(e,n),n.currentScreen.instance.beforeEnter()})).then((function(){n.emitScreenChanged({direction:null==t?void 0:t.direction}),n.checkFlowCompleted()}))}},{key:"lock",value:function(){return this.locked=!0,this.emit(Ui.v.LOCKED),this}},{key:"unlock",value:function(){return this.locked=!1,this.emit(Ui.v.UNLOCKED),this}},{key:"getCurrentScreen",value:function(){return this.currentScreen.instance}},{key:"getScreen",value:function(e){var t=this.screens.get(e);if(!t)throw new Error("FormFlow Screen with name ".concat(e," not found."));return t.instance}},{key:"checkHasScreen",value:function(e){return this.screens.has(e)}},{key:"isCurrentScreenFirst",value:function(){var e;return this.currentScreen.name===(null===(e=this.firstScreen)||void 0===e?void 0:e.name)}},{key:"isCurrentScreenLast",value:function(){return void 0===this.currentScreen.next}},{key:"dispose",value:function(){this.removeAllListeners()}},{key:"canGoBack",get:function(){return!this.locked&&!this.done&&!!this.history.getPrevious()}},{key:"currentScreen",get:function(){var e=this.history.getCurrent();if(!e)throw new Error("Cannot identify current screen");var t=this.screens.get(e);if(!t)throw new Error("Cannot get current screen");return t}},{key:"throwErrorIfCannotChangeScreen",value:function(){return this.locked?Nt().reject(new Error("Cannot change screen while flow is locked")):this.done?Nt().reject(new Error("Cannot change screen because flow is completed")):Nt().resolve()}},{key:"checkFlowCompleted",value:function(){this.isCurrentScreenLast()&&!this.isExiting&&(this.done=!0,this.emit(Ui.v.DONE))}},{key:"emitScreenChanged",value:function(e){this.emit(Ui.v.SCREEN_CHANGED,{screen:this.currentScreen.name,instance:this.currentScreen.instance,direction:null==e?void 0:e.direction,createdAt:new Date})}},{key:"getScreenByName",value:function(e){var t=this.screens.get(e);if(!t)throw new Error('Cant get "'.concat(e,'" screen'));return t}},{key:"canEnterToScreen",value:function(e){return!e.guard||!e.guard(this.state)}},{key:"getFirstScreen",value:function(e){var t;if(!this.canEnterToScreen(e)){var n=null===(t=e.next)||void 0===t?void 0:t.call(e,this.state,this.history);if(!n)throw new Error('Unable to determine first screen, reached a screen without "next" function');var r=this.getScreenByName(n);return this.getFirstScreen(r)}return e}},{key:"getNextScreen",value:function(e){var t,n=null===(t=e.next)||void 0===t?void 0:t.call(e,this.state,this.history);if(!n)throw new Error("Cant go to the next screen");var r=this.getScreenByName(n);return this.canEnterToScreen(r)?r:this.getNextScreen(r)}},{key:"getFirstMandatoryScreen",value:function(){var e=this,t=this.getPredictedScreens();return at()(t).call(t,(function(t){var n;return null===(n=null==t?void 0:t.mandatory)||void 0===n?void 0:n.call(t,e.state)}))||null}},{key:"getPredictedScreens",value:function(){var e=[],t=this.getScreenByName(this.settings.initial()),n=this.getFirstScreen(t);for(e.push(n);void 0!==n.next;)n=this.getNextScreen(n),e.push(n);return e}}]),i}(Ta.v),La=function(){function e(t){(0,k.Z)(this,e),this.screenFactory=t}return(0,P.Z)(e,[{key:"createScreenInstance",value:function(e,t){return this.screenFactory.create(e,t)}},{key:"compile",value:function(e,t){var n=this,r=new($e()),i=bt()(e);return b()(i).call(i,(function(i){var a=e[i];r.set(i,{name:i,next:a.next,guard:a.guard,mandatory:a.mandatory,instance:n.screenFactory.create(i,t)})})),r}}]),e}();function Ma(e,t,n){var r=new La(e);return new Za(r,t,n)}var Fa=n(36065),Ua=n.n(Fa),Ba=n(43028),Ga=n.n(Ba);var Ha=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e,t){var n;return(0,k.Z)(this,i),(n=r.call(this)).payload={checkoutIsRecurring:"monthly"===j()(e)?1:0,checkoutCurrency:e.currency,checkoutAmount:e.amount,checkoutPresets:e.amountOptions[j()(e)],elementKey:t.elementKey,elementType:t.elementType,elementReminderKey:t.elementReminderKey},n}return(0,P.Z)(i)}(Ue);var Ka=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e,t,n){var a;return(0,k.Z)(this,i),(a=r.call(this,e,t)).merge({checkoutScreen:n}),a}return(0,P.Z)(i,[{key:"eventType",get:function(){return"checkoutClose"}}]),i}(Ha);var Va=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e,t,n,a){var o;return(0,k.Z)(this,i),(o=r.call(this,e,t)).merge({checkoutScreen:n,eventComment:a}),o}return(0,P.Z)(i,[{key:"eventType",get:function(){return"checkoutScreenView"}}]),i}(Ha);var Ya,qa=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e,t,n,a){var o;return(0,k.Z)(this,i),(o=r.call(this,e,t)).merge({duration:n,eventComment:a}),o}return(0,P.Z)(i,[{key:"eventType",get:function(){return"checkoutView"}}]),i}(Ha),Wa=n(35836),ja=(n(45214),n(79131)),Xa=n.n(ja);n(7815);var za,Qa=(Ya={},(0,v.Z)(Ya,y.GZ.CARD,"CreditCard"),(0,v.Z)(Ya,y.GZ.APPLE_PAY,"ApplePay"),(0,v.Z)(Ya,y.GZ.GOOGLE_PAY,"GooglePay"),(0,v.Z)(Ya,y.GZ.PAYPAL,"PayPal"),(0,v.Z)(Ya,y.GZ.PAYPAL_AGREEMENT,"PayPal"),(0,v.Z)(Ya,y.GZ.VENMO,"Venmo"),(0,v.Z)(Ya,y.GZ.ACH,"ACH"),(0,v.Z)(Ya,y.GZ.PLAID,"Plaid"),(0,v.Z)(Ya,y.GZ.CLICK_TO_PAY,"ClickToPay"),(0,v.Z)(Ya,y.GZ.AU_BECS,"BECS"),(0,v.Z)(Ya,y.GZ.UK_BACS,"Bacs"),(0,v.Z)(Ya,y.GZ.ACSS,"PAD"),(0,v.Z)(Ya,y.GZ.SEPA,"SEPA"),(0,v.Z)(Ya,y.GZ.IDEAL,"iDEAL"),(0,v.Z)(Ya,y.GZ.CRYPTO,"Crypto"),(0,v.Z)(Ya,y.GZ.STOCK,"Stock"),Ya),Ja=n(47080);function $a(e){if(!e)return"";switch(e){case Ja.yx.MEMORY:return"In Memory";case Ja.yx.HONOR:return"In Honor";default:return""}}function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.FUNDRAISER="fundraiser",e.CAUSE="cause"}(za||(za={}));var to=function(){function e(t,n,r,i,a,o,s,u,c,l,h,d,f,m,p,v,y,g){var P;(0,k.Z)(this,e),this.dataPointRegistry=t,this._resolvedCheckoutData=n,this.checkoutState=r,this.sessionService=i,this.tracker=a,this.currencyService=o,this.intl=s,this.iframeWindow=u,this.sentry=c,this.paymentMethods=l,this.stripeLoadingPromise=h,this.applePayStripeLoadingPromise=d,this.paymentFlowManager=f,this.paymentScreen=m,this.eventEmitter=p,this.checkoutAPIBridge=v,this.componentsPreloader=y,this.debug=g,this.shouldFindMandatoryScreen=!1,this.stripeElementsPromise=this.getStripeElements(),(null===(P=this.resolvedCheckoutData.fundraisingPage)||void 0===P?void 0:P.key)&&this.setAskPageActiveTab(za.FUNDRAISER)}return(0,P.Z)(e,[{key:"alwaysRenderedScreens",get:function(){return[]}},{key:"screensWithoutTributeBadge",get:function(){return[dn.nn.THANK_YOU]}},{key:"mobileScreensWithoutAskTitle",get:function(){return[dn.nn.THANK_YOU]}},{key:"mobileScreensWithAskText",get:function(){return[]}},{key:"mobileScreensWithoutFaqLinks",get:function(){return[dn.nn.THANK_YOU,dn.nn.REMIND_ME]}},{key:"mobileScreensWithoutAskPage",get:function(){return[dn.nn.REMIND_ME]}},{key:"screensWithoutAskOverlay",get:function(){return[]}},{key:"resolvedCheckoutData",get:function(){return this._resolvedCheckoutData}},{key:"campaignConfig",get:function(){return this.resolvedCheckoutData.campaign()}},{key:"company",get:function(){return this.resolvedCheckoutData.company()}},{key:"queryParams",get:function(){return this.resolvedCheckoutData.queryParams}},{key:"hasPaymentAttempt",get:function(){return this.getState().hasPaymentAttempt}},{key:"canGoBack",get:function(){return this.checkoutState.canGoBack}},{key:"livemode",get:function(){return this.resolvedCheckoutData.infrastructureParams.livemode}},{key:"isPaid",get:function(){var e;return!!(null===(e=this.getState().donationResultState)||void 0===e?void 0:e.donationId)}},{key:"initialize",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkoutState.initialize();case 2:this.updateSession(),this.preloadComponents();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getStripeElements",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stripeLoadingPromise;case 2:return t=e.sent,e.abrupt("return",t.elements(ra));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"dispose",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}},{key:"getDataPoint",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.dataPointRegistry.getDataPoint(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"collectDataPoint",value:function(e,t){var n,r=function(e,t){var n=void 0!==J()&&ee()(e)||e["@@iterator"];if(!n){if(ne()(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return eo(e,t);var r=i()(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?z()(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eo(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;this.checkoutState.setCollectedFor(a),a.collectTo(this.checkoutState)}}catch(e){r.e(e)}finally{r.f()}if(t)return this.onDataPointCollect();this.onDataPointCollect()}},{key:"resetDataPoint",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getDataPoint(e);case 2:(n=t.sent).reset(this.checkoutState),this.checkoutState.unsetCollectedFor(n);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"makeDataPointRequired",value:function(e){return this.checkoutState.setRequiredFor(e),this}},{key:"makeDataPointOptional",value:function(e){return this.checkoutState.unsetRequiredFor(e),this}},{key:"getState",value:function(){return this.checkoutState.get()}},{key:"validateAddress",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataPoint(dn.W_.MAILING_ADDRESS);case 2:return t=e.sent,n=t.toObject(),r=n.line1,i=n.line2,a=n.city,o=n.region,s=n.postal,u=n.countryCode,e.next=6,this.sessionService.validateAddress({line1:r,line2:i,city:a,region:o,postal:s,countryCode:u});case 6:return c=e.sent,l=c.validated,h=c.valid,e.abrupt("return",!l||h);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"tryCloseSession",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.canCloseSession){e.next=5;break}return e.next=3,this.updateSession();case 3:return e.next=5,this.sessionService.close();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"setCanGoBack",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.checkoutState.setCanGoBack(e),this}},{key:"onStateUpdate",value:function(e){return this.checkoutState.onStateUpdate(e)}},{key:"syncUpdateCheckoutState",value:function(){this.checkoutState.syncUpdate()}},{key:"setAskPageActiveTab",value:function(e){this.checkoutState.askPageActiveTab=e}},{key:"thankYouShown",value:function(){this.checkoutAPIBridge.emitThankYouShown()}},{key:"customerPrivacyValid",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}},{key:"setRemoveCloseGuard",value:function(e){this._removeCloseGuard=e}},{key:"getRemoveCloseGuard",value:function(){return this._removeCloseGuard}},{key:"setPaymentAttempt",value:function(){return this.checkoutState.setPaymentAttempt(),this}},{key:"getCommonPublicCheckoutDonationParams",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,i,a,o,s,u,c,l,h,d,m,p,v;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nt().all([this.getDataPoint(dn.W_.MAILING_LIST_SUBSCRIPTION),this.getDataPoint(dn.W_.PERSONAL_INFORMATION),this.getDataPoint(dn.W_.TRIBUTE),this.getDataPoint(cn.t.DTD),this.getDataPoint(dn.W_.ON_BEHALF_OF),this.getDataPoint(dn.W_.DONATE_ANONYMOUS),this.getDataPoint(dn.W_.DESIGNATION)]);case 2:return n=t.sent,r=(0,tt.Z)(n,7),i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],c=r[5],l=r[6],h=this.resolvedCheckoutData.campaign(),d=o.toObject(),m=a.toObject(),t.next=16,this.getDonationParams();case 16:return p=t.sent,v=d.isActive&&!!d.inHonorOf,t.abrupt("return",{supporter:e.payResult&&this.isPaid?{id:e.payResult.customerId,email:m.email,firstName:m.firstName,lastName:m.lastName,anonymous:h.showAnonymous&&c.anonymousChecked,mailingListSubscribed:h.showSubscription&&i.checked,employer:s.employer.name||null,onBehalfOf:u.isOnBehalfOf?u.companyName:null}:null,donation:e.payResult&&this.isPaid?{id:e.payResult.donationId,paymentMethod:(f=e.clientPaymentMethod,void 0,y=Qa[f],y||""),amount:this.currencyService.toFloat(p.total,p.currency),feesCovered:this.currencyService.toFloat(p.publicFee,p.currency),currency:p.currency,recurring:j()(p)!==fe.oe.ONCE}:null,designation:l.goalKey&&this.isPaid?{id:l.goalKey,name:l.goalName,code:l.goalCode}:null,tribute:v?{type:$a(d.type)}:null});case 19:case"end":return t.stop()}var f,y}),t,this)})))}},{key:"getCommonPublicCheckoutIntentParams",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.getDataPoint(dn.W_.TRIBUTE),this.getDataPoint(dn.W_.PERSONAL_INFORMATION),this.getDataPoint(dn.W_.DESIGNATION),this.getDataPoint(dn.W_.COMMENT),this.getDataPoint(dn.W_.REMIND_ME_LATER)]);case 2:return t=e.sent,n=(0,tt.Z)(t,5),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=r.toObject(),c=i.toObject(),e.next=13,this.getDonationParams();case 13:if(l=e.sent,h=u.isActive&&!!u.inHonorOf,!this.isPaid){e.next=17;break}return e.abrupt("return",null);case 17:return e.abrupt("return",{flowType:this.checkoutState.flowType,checkoutSettings:{modifyAmount:l.canModifyAmount,designation:a.goalKey,modifyDesignation:a.modifyDesignation},comment:o.comment,donation:{amount:l.amount,currency:l.currency,recurring:j()(l)!==fe.oe.ONCE},supporter:{email:c.email,firstName:i.firstName,lastName:i.lastName},tribute:h?{type:u.type,labelType:u.labelType,inHonorOf:u.inHonorOf}:null,isSavedEmailOnExit:Boolean(s.email)});case 18:case"end":return e.stop()}}),e,this)})))}},{key:"capturePayErrorToSentry",value:function(e){e&&(e instanceof Zt&&0===e.statusCode||this.sentry.captureException(e))}},{key:"emitAnalyticsChargeSuccess",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAnalyticsEventPayload();case 2:t=e.sent,this.checkoutAPIBridge.emitAnalyticsChargeSuccess(t);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"emitDonationComplete",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPublicCheckoutDonationParams();case 2:t=e.sent,this.checkoutAPIBridge.emitDonationComplete(t);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"handleDonationCompleted",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[this.emitDonationComplete(),this.emitAnalyticsChargeSuccess()],e.next=3,Nt().all(t);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"onDataPointCollect",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.updateSession());case 1:case"end":return e.stop()}}),e,this)})))}},{key:"canCloseSession",get:function(){return!this.sessionService.closed&&this.isPaid}},{key:"preloadComponents",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.getPreloadComponents()).length){e.next=3;break}return e.abrupt("return",Nt().resolve());case 3:return e.abrupt("return",this.componentsPreloader.loadComponents(t));case 4:case"end":return e.stop()}}),e,this)})))}}],[{key:"emptyAmountOptions",get:function(){return{once:[],monthly:[],daily:[],weekly:[],biweekly:[],bimonthly:[],quarterly:[],semiannual:[],annual:[]}}}]),e}();function no(e,t){switch(e){case cn.e.DONATE:return"donate-form";case cn.e.PAYMENT_OPTIONS:return"payment-method";case cn.e.PAYPAL_CONVERSION:return"paypal";case dn.nn.THANK_YOU:return t?"thank-you-tribute":dn.nn.THANK_YOU;default:return e}}var ro=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments))._isPaymentCompleted=!1,e.donationStatusInterval=null,e}return(0,P.Z)(i,[{key:"mobileScreensWithAskText",get:function(){var e;return H()(e=[]).call(e,(0,Un.Z)((0,et.Z)((0,ce.Z)(i.prototype),"mobileScreensWithAskText",this)),[fn.a.CRYPTO_CURRENCY])}},{key:"isPaymentCompleted",get:function(){return this._isPaymentCompleted}},{key:"paymentScreenName",get:function(){return this.paymentScreen.get()}},{key:"screensWithoutTributeBadge",get:function(){var e;return H()(e=[]).call(e,(0,Un.Z)((0,et.Z)((0,ce.Z)(i.prototype),"screensWithoutTributeBadge",this)),[fn.a.CRYPTO_CURRENCY,dn.nn.REMIND_ME])}},{key:"queryParams",get:function(){return this.resolvedCheckoutData.queryParams}},{key:"type",get:function(){return this.checkoutState.flowType}},{key:"screensWithoutAskOverlay",get:function(){var e;return H()(e=[]).call(e,(0,Un.Z)((0,et.Z)((0,ce.Z)(i.prototype),"screensWithoutAskOverlay",this)),[fn.a.CRYPTO_CURRENCY])}},{key:"showFAQLinks",get:function(){return!1}},{key:"trackCheckoutView",value:function(){var e,t;return(0,m.mG)(this,void 0,void 0,f().mark((function n(){var r,a,o,s,u,c;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getDataPoint(fn.p.DONATION);case 2:r=n.sent,a=r.toObject(),o=this.resolvedCheckoutData.elementData,s=this.resolvedCheckoutData.getExternalConfig(),u=Boolean((null===(e=s.launcher)||void 0===e?void 0:e.elementKey)&&(null===(t=s.checkoutData)||void 0===t?void 0:t.amount)),c=V()()-this.tracker.checkoutOpenTimestamp,this.debug.log("checkout opening time:eventCheckoutView","".concat(c," ms")),this.tracker.track(new qa({repeat:j()(a),currency:a.currency,amount:a.amount,amountOptions:i.emptyAmountOptions},o,c,Fe()({isAmountFromElement:u})));case 10:case"end":return n.stop()}}),n,this)})))}},{key:"trackCheckoutClose",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,a;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,Wa.xG)(e),t.next=3,this.getDataPoint(fn.p.DONATION);case 3:n=t.sent,r=n.toObject(),a=this.resolvedCheckoutData.elementData,this.tracker.track(new Ka({repeat:j()(r),currency:r.currency,amount:r.amount,amountOptions:i.emptyAmountOptions},a,e));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"trackCheckoutScreenView",value:function(e,t){return(0,m.mG)(this,void 0,void 0,f().mark((function n(){var r,a,o,s,u,c,l,h;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(0,Wa.xG)(e),n.next=3,Nt().all([this.getDataPoint(fn.p.DONATION),this.getDataPoint(dn.W_.TRIBUTE)]);case 3:r=n.sent,a=(0,tt.Z)(r,2),o=a[0],s=a[1],u=o.toObject(),c=s.toObject(),l=this.resolvedCheckoutData.elementData,h={},t&&(h.transitionDuration=(new Date).getTime()-t.getTime()),this.tracker.track(new Va({repeat:j()(u),currency:u.currency,amount:u.amount,amountOptions:i.emptyAmountOptions},l,no(e,c.isActive),Fe()(h)));case 13:case"end":return n.stop()}}),n,this)})))}},{key:"getState",value:function(){return this.checkoutState.get()}},{key:"initializeSession",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.updateSession();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"closeSession",value:function(){return this.sessionService.close()}},{key:"dispose",value:function(){var e=this,t=Ua()(null,{dispose:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"dispose",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.clearDonationStatusInterval(),e.abrupt("return",t.dispose.call(this));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"hold",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.resolvedCheckoutData.infrastructureParams.showcase){e.next=2;break}return e.abrupt("return",_t.H.fail({}));case 2:return e.prev=2,e.next=5,this.updateSession();case 5:return e.next=7,this.sessionService.hold({clientPaymentMethod:y.GZ.CRYPTO});case 7:return e.abrupt("return",_t.H.success(void 0));case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",_t.H.fail({shouldLeave:!1}));case 13:case"end":return e.stop()}}),e,this,[[2,10]])})))}},{key:"pay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.resolvedCheckoutData.infrastructureParams.showcase){e.next=2;break}return e.abrupt("return",_t.H.fail({}));case 2:return this.setPaymentAttempt(),e.next=5,this.updateSession();case 5:return e.prev=5,e.next=8,this.sessionService.pay();case 8:t=e.sent,e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(5),this.capturePayErrorToSentry(e.t0),e.abrupt("return",_t.H.fail({}));case 15:if(!_t.H.isFailure(t)){e.next=17;break}return e.abrupt("return",_t.H.fail({}));case 17:if(t.successResult.data.cryptoData){e.next=19;break}return e.abrupt("return",_t.H.fail({}));case 19:return this.checkoutState.setCryptoAddress(t.successResult.data.cryptoData.address),this.checkoutState.setDonationResultState({donationId:t.successResult.data.donationId,customerId:t.successResult.data.customerId}),this.watchForPaymentStatus(),e.abrupt("return",_t.H.success(void 0));case 23:case"end":return e.stop()}}),e,this,[[5,11]])})))}},{key:"initialize",value:function(){var e=this,t=Ua()(null,{initialize:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"initialize",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.initialize.call(this);case 2:if(!(n=this.resolvedCheckoutData.getExternalConfig().checkoutIntent)){e.next=6;break}return e.next=6,this.applyCheckoutIntent(n);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"applyCheckoutIntent",value:function(e){var t,n,r,i;return(0,m.mG)(this,void 0,void 0,f().mark((function a(){var o,s,u;return f().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.donation){a.next=6;break}return a.next=3,this.getDataPoint(fn.p.DONATION);case 3:o=a.sent,e.donation.currency&&(o.currency=e.donation.currency),e.donation.amount&&(o.amount=e.donation.amount);case 6:if(!e.supporter){a.next=13;break}return a.next=9,this.getDataPoint(dn.W_.PERSONAL_INFORMATION);case 9:s=a.sent,e.supporter.firstName&&(s.firstName=e.supporter.firstName),e.supporter.lastName&&(s.lastName=e.supporter.lastName),e.supporter.email&&(s.email=e.supporter.email);case 13:if(!e.comment){a.next=18;break}return a.next=16,this.getDataPoint(dn.W_.COMMENT);case 16:a.sent.comment=e.comment;case 18:if(!e.tribute){a.next=25;break}return a.next=21,this.getDataPoint(dn.W_.TRIBUTE);case 21:u=a.sent,e.tribute.type&&(u.tributeeName=null===(t=e.tribute)||void 0===t?void 0:t.type),e.tribute.inHonorOf&&(u.tributeeName=null===(n=e.tribute)||void 0===n?void 0:n.inHonorOf),u.isActive=!0;case 25:if(!(null===(r=e.checkoutSettings)||void 0===r?void 0:r.designation)){a.next=30;break}return a.next=28,this.getDataPoint(dn.W_.DESIGNATION);case 28:a.sent.goalKey=null===(i=e.checkoutSettings)||void 0===i?void 0:i.designation;case 30:this.checkoutState.filledFromIntent=!0;case 31:case"end":return a.stop()}}),a,this)})))}},{key:"getPreloadComponents",value:function(){return[]}},{key:"getDonationParams",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataPoint(fn.p.DONATION);case 2:return t=e.sent,n=t.toObject(),e.abrupt("return",{amount:n.amount,total:n.total,currency:n.currency,repeat:j()(n),canModifyAmount:t.canModifyAmount,publicFee:0});case 5:case"end":return e.stop()}}),e,this)})))}},{key:"updateSession",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h,d,m,p,v,g,k,P,S,E,D,b,w,A,C,N;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.resolvedCheckoutData.infrastructureParams.showcase){e.next=2;break}return e.abrupt("return",_t.H.success({}));case 2:return e.next=4,Nt().all([this.getDataPoint(fn.p.DONATION),this.getDataPoint(dn.W_.PERSONAL_INFORMATION),this.getDataPoint(dn.W_.CUSTOMER_TITLE),this.getDataPoint(dn.W_.PHONE_NUMBER),this.getDataPoint(dn.W_.TRIBUTE),this.getDataPoint(dn.W_.COMMENT),this.getDataPoint(dn.W_.DESIGNATION),this.getDataPoint(dn.W_.QUESTIONS),this.getDataPoint(dn.W_.TERMS_AND_CONDITIONS),this.getDataPoint(dn.W_.ON_BEHALF_OF),this.getDataPoint(dn.W_.DONATE_ANONYMOUS),this.getDataPoint(dn.W_.MAILING_LIST_SUBSCRIPTION),this.getDataPoint(dn.W_.REMIND_ME_LATER)]);case 4:return t=e.sent,n=(0,tt.Z)(t,13),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],d=n[9],m=n[10],p=n[11],v=n[12],g=r.toObject(),k=i.toObject(),P=a.toObject(),S=o.toObject(),E=s.toObject(),D=l.toObject(),b=h.toObject(),w=d.toObject(),A=m.toObject(),C=p.toObject(),N=v.toObject(),e.abrupt("return",this.sessionService.update({donationType:fe.Cl.CRYPTO,comment:u.comment,tribute:E.inHonorOf&&s.isActive?{labelType:E.labelType,type:E.type,inHonorOf:E.inHonorOf}:null,questions:D.questions,customer:{firstName:k.firstName,lastName:k.lastName,title:P.title,email:k.email,phone:S.phone,onBehalfOf:w.companyName,subscriptionChecked:C.checked,anonymousChecked:A.anonymousChecked,termsChecked:b.isAccepted},donation:{repeat:y.oe.ONCE,amount:g.amount,currency:g.currency,total:g.total,goalKey:c.goalKey,goalName:c.goalName},emailOnExit:{email:N.email}}));case 31:case"end":return e.stop()}}),e,this)})))}},{key:"watchForPaymentStatus",value:function(){var e=this;this.donationStatusInterval=Ga()((function(){return(0,m.mG)(e,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionService.status();case 2:e.sent&&(this.clearDonationStatusInterval(),this.handleDonationCompleted(),this._isPaymentCompleted=!0);case 4:case"end":return e.stop()}}),e,this)})))}),5e3)}},{key:"setCloseButtonVisibility",value:function(e,t){var n=[fn.a.CRYPTO_CURRENCY,dn.nn.THANK_YOU],r=[dn.nn.COMMENT];this.checkoutState.showCloseButton=!st()(t).call(t,fn.a.CRYPTO_CURRENCY)&&st()(r).call(r,e)||st()(n).call(n,e),this.checkoutState.syncUpdate()}},{key:"saveRemindMeLaterEmail",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateSession();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"getPublicCheckoutDonationParams",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getCommonPublicCheckoutDonationParams({clientPaymentMethod:y.GZ.CRYPTO,payResult:this.checkoutState.get().donationResultState}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"saveCheckoutClosePublicParams",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.getPublicCheckoutDonationParams(),this.getCommonPublicCheckoutIntentParams()]);case 2:t=e.sent,n=(0,tt.Z)(t,2),r=n[0],i=n[1],this.checkoutAPIBridge.setDonationParams(r),this.checkoutAPIBridge.setIntentParams(i);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"clearDonationStatusInterval",value:function(){this.donationStatusInterval&&clearInterval(this.donationStatusInterval)}},{key:"getAnalyticsEventPayload",value:function(){var e;return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,a,o,s,u,c,l;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nt().all([this.getDataPoint(fn.p.DONATION),this.getDataPoint(dn.W_.PERSONAL_INFORMATION),this.getDataPoint(dn.W_.DESIGNATION)]);case 2:return n=t.sent,r=(0,tt.Z)(n,3),a=r[0],o=r[1],s=r[2],u=a.toObject(),c=o.toObject(),l=s.toObject(),t.abrupt("return",{method:y.GZ.CRYPTO,amount:a.amountInDefaultFiat,total:a.amountInDefaultFiat,currency:a.defaultFiatCurrency,repeat:j()(u),includeFees:!1,_goal:l.goalKey||"",email:c.email,donationId:null===(e=this.checkoutState.get().donationResultState)||void 0===e?void 0:e.donationId,sessionId:this.tracker.checkoutViewId,amountOptions:{once:i.emptyAmountOptions[y.oe.ONCE],monthly:i.emptyAmountOptions[y.oe.MONTHLY]},defaultAmount:{once:a.defaultAmountInFiat,monthly:0}});case 11:case"end":return t.stop()}}),t,this)})))}}]),i}(to),io=function(){function e(t,n){(0,k.Z)(this,e),this.campaignConfig=t,this.debug=n,this.hasMailingAddressError=!1,this.showCloseButton=!0,this.filledFromIntent=!1,this.collectedDataPoints=new(cr()),this.hasPaymentAttempt=!1,this.tributeDonorPortalLink=null,this._canGoBack=!1,this.donationResultState=null,this.preloadedDataPoints=[],this.updateListeners=new(cr()),this.askPageActiveTab=za.CAUSE}return(0,P.Z)(e,[{key:"isCollected",get:function(){var e=this,t=this.getDataPointsToCollect();return this.debug.log("isCollected:dataPointsToCollect",t),da()(t).call(t,(function(t){return e.collectedDataPoints.has(t)}))}},{key:"initialize",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.preloadDataPointInstances();case 2:this.preloadedDataPoints=e.sent,this.debug.log("CheckoutState initialized");case 4:case"end":return e.stop()}}),e,this)})))}},{key:"setCollectedFor",value:function(e){return this.collectedDataPoints.add(e),this}},{key:"unsetCollectedFor",value:function(e){return this.collectedDataPoints.delete(e),this}},{key:"setRequiredFor",value:function(e){return this.getDataPointInstance(e).isRequired=!0,this}},{key:"unsetRequiredFor",value:function(e){return this.getDataPointInstance(e).isRequired=!1,this}},{key:"setPaymentAttempt",value:function(){return this.hasPaymentAttempt=!0,this}},{key:"setCanGoBack",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._canGoBack=e}},{key:"canGoBack",get:function(){return this._canGoBack}},{key:"getDataPointsToCollect",value:function(){var e;return he()(e=this.preloadedDataPoints).call(e,(function(e){return e.isRequired&&e.isEnabled}))}},{key:"setTributeDonorPortalLink",value:function(e){this.tributeDonorPortalLink=e}},{key:"setDonationResultState",value:function(e){this.donationResultState=e}},{key:"onStateUpdate",value:function(e){var t=this;return this.updateListeners.add(e),function(){return t.updateListeners.delete(e)}}},{key:"syncUpdate",value:function(){this.triggerUpdate()}},{key:"triggerUpdate",value:function(){var e;b()(e=this.updateListeners).call(e,(function(e){return e()}))}}]),e}();var ao=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e,t,n){var a;return(0,k.Z)(this,i),(a=r.call(this,e,t)).campaignConfig=e,a.debug=t,a.dataPointRegistry=n,a._tributeDataPoint=null,a._personalInformationDataPoint=null,a._mailingAddressDataPoint=null,a._commentDataPoint=null,a._questionsDataPoint=null,a._donationDataPoint=null,a.cryptoAddress=null,a.flowType=fe.Cl.CRYPTO,a}return(0,P.Z)(i,[{key:"donationDataPoint",get:function(){if(!this._donationDataPoint)throw new Error("donationDataPoint not initialized");return this._donationDataPoint}},{key:"tributeDataPoint",get:function(){if(!this._tributeDataPoint)throw new Error("DataPoint Not Initialized");return this._tributeDataPoint}},{key:"personalInformationDataPoint",get:function(){if(!this._personalInformationDataPoint)throw new Error("DataPoint Not Initialized");return this._personalInformationDataPoint}},{key:"mailingAddressDataPoint",get:function(){if(!this._mailingAddressDataPoint)throw new Error("DataPoint Not Initialized");return this._mailingAddressDataPoint}},{key:"commentDataPoint",get:function(){if(!this._commentDataPoint)throw new Error("DataPoint Not Initialized");return this._commentDataPoint}},{key:"questionsDataPoint",get:function(){if(!this._questionsDataPoint)throw new Error("QuestionsDataPoint Not Initialized");return this._questionsDataPoint}},{key:"donationState",get:function(){return{isEnabled:this.donationDataPoint.isEnabled,isRequired:this.donationDataPoint.isRequired,amount:this.donationDataPoint.amount||0,currency:this.donationDataPoint.currency,repeat:j()(this.donationDataPoint),defaultAmount:this.donationDataPoint.defaultAmount||0,amountOptions:[]}}},{key:"personalInformationState",get:function(){return{isEnabled:this.donationDataPoint.isEnabled,isRequired:this.donationDataPoint.isRequired,isCollected:this.collectedDataPoints.has(this.personalInformationDataPoint)}}},{key:"tributeState",get:function(){return{isEnabled:this.tributeDataPoint.isEnabled,isRequired:this.tributeDataPoint.isRequired,name:this.tributeDataPoint.tributeeName,labelType:this.tributeDataPoint.labelType,isActive:this.tributeDataPoint.isActive}}},{key:"mailingAddressState",get:function(){return{isEnabled:this.mailingAddressDataPoint.isEnabled,isRequired:this.mailingAddressDataPoint.isRequired,isCollected:this.collectedDataPoints.has(this.mailingAddressDataPoint)}}},{key:"commentState",get:function(){return{isEnabled:this.commentDataPoint.isEnabled,isRequired:this.commentDataPoint.isRequired}}},{key:"questionsState",get:function(){return{isEnabled:this.questionsDataPoint.isEnabled}}},{key:"get",value:function(){var e;return{donation:this.donationState,personalInformation:this.personalInformationState,tribute:this.tributeState,comment:this.commentState,cryptoAddress:this.cryptoAddress,hasPaymentAttempt:this.hasPaymentAttempt,hasMailingAddressError:this.hasMailingAddressError,tributeDonorPortalLink:this.tributeDonorPortalLink,donationResultState:this.donationResultState,isPaid:Boolean(null===(e=this.donationResultState)||void 0===e?void 0:e.donationId),showCloseButton:this.showCloseButton,askPageActiveTab:this.askPageActiveTab,mailingAddress:this.mailingAddressState,questions:this.questionsState}}},{key:"onCryptoCurrencyDataPointCollect",value:function(){return this}},{key:"setCryptoAddress",value:function(e){return this.cryptoAddress=e,this}},{key:"preloadDataPointInstances",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a,o,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.dataPointRegistry.getDataPoint(fn.p.DONATION),this.dataPointRegistry.getDataPoint(dn.W_.PERSONAL_INFORMATION),this.dataPointRegistry.getDataPoint(dn.W_.TRIBUTE),this.dataPointRegistry.getDataPoint(dn.W_.MAILING_ADDRESS),this.dataPointRegistry.getDataPoint(dn.W_.COMMENT),this.dataPointRegistry.getDataPoint(dn.W_.QUESTIONS)]);case 2:return t=e.sent,n=(0,tt.Z)(t,6),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],this._donationDataPoint=r,this._personalInformationDataPoint=i,this._tributeDataPoint=a,this._mailingAddressDataPoint=o,this._commentDataPoint=s,this._questionsDataPoint=u,e.abrupt("return",[this._donationDataPoint,this._personalInformationDataPoint,this._tributeDataPoint,this._mailingAddressDataPoint,this._commentDataPoint,this._questionsDataPoint]);case 17:case"end":return e.stop()}}),e,this)})))}},{key:"getDataPointInstance",value:function(e){switch(e){case fn.p.DONATION:return this.donationDataPoint;case dn.W_.PERSONAL_INFORMATION:return this.personalInformationDataPoint;case dn.W_.TRIBUTE:return this.tributeDataPoint;case dn.W_.COMMENT:return this.commentDataPoint;default:throw new Error("Unknown DataPoint: ".concat(e))}}},{key:"onTributeDataPointCollected",value:function(){}},{key:"onBehalfOfDataPointCollected",value:function(){}},{key:"onDesignationDataPointCollected",value:function(){}}]),i}(io),oo=n(77157),so=n(97727);var uo=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i)}(so.K);var co=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).canSubmit=!0,e}return(0,P.Z)(i,[{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a,o,s=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.checkoutService.getDataPoint(fn.p.DONATION),this.checkoutService.getDataPoint(dn.W_.TRIBUTE),this.checkoutService.getDataPoint(dn.W_.DESIGNATION),this.checkoutService.getDataPoint(dn.W_.COMMENT)]);case 2:t=e.sent,n=(0,tt.Z)(t,4),r=n[0],i=n[1],a=n[2],o=n[3],this._donationDataPoint=r,this._tributeDataPoint=i,this._designationDataPoint=a,this._commentDataPoint=o,this.designationDataPoint.goalKey||this.designationDataPoint.changeGoalKeyByRepeat(y.oe.ONCE),this.produceViewState((function(e){var t;e.currencyCode=s.donationDataPoint.currency,e.currencyName=s.currencyService.getName(s.donationDataPoint.currency),e.currencies=B()(t=s.donationDataPoint.currencyList).call(t,(function(e){return{code:e,name:s.donationDataPoint.getCurrencyName(e),type:e}})),e.defaultFiatCurrency=s.donationDataPoint.defaultFiatCurrency,e.repeat=y.oe.ONCE,e.amount=s.donationDataPoint.amount||null,e.amountInUsd=s.donationDataPoint.amountInUSD||0,e.amountInDefaultFiat=s.donationDataPoint.amountInDefaultFiat,e.minAmount=s.donationDataPoint.minAmount,e.tribute.show=s.tributeDataPoint.isEnabled,e.tribute.isActive=s.tributeDataPoint.isActive,e.tribute.labelType=s.tributeDataPoint.labelType,e.tribute.sharingEnabled=s.tributeDataPoint.isSharingEnabled,e.tribute.name=s.tributeDataPoint.tributeeName,e.designation.show=s.designationDataPoint.isEnabled,e.designation.goalKey=s.designationDataPoint.goalKey,e.designation.goals=s.designationDataPoint.goals,e.designation.isEditable=s.designationDataPoint.canChangeDesignation(s.getAllowedGoals(e.designation.goals,j()(e)).length),e.comment.isEnabled=s.commentDataPoint.isEnabled,e.comment.content=s.commentDataPoint.comment,e.comment.prevContent=s.commentDataPoint.prevComment,e.livemode=s.checkoutService.livemode,e.isCryptoAccountConnected=!!s.checkoutService.company.cryptoProvider}));case 14:case"end":return e.stop()}}),e,this)})))}},{key:"changeAmount",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.donationDataPoint.amount=e||0,this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((function(t){t.amount=e,t.amountInUsd=n.donationDataPoint.amountInUSD||0,t.amountInDefaultFiat=n.donationDataPoint.amountInDefaultFiat,t.errors.amount.min=!1,t.isDefaultAmount=!1}));case 3:case"end":return t.stop()}}),t,this)})))}},{key:"validateAmount",value:function(){var e=this.donationDataPoint.validate();this.produceViewState((function(t){t.isAmountValid=e.fields.amount.isValid,t.errors.amount.min=e.fields.amount.errors.min}))}},{key:"savePrevComment",value:function(){this.checkoutService.resolvedCheckoutData.infrastructureParams.showcase||this.commentDataPoint.savePrevComment()}},{key:"changeCryptoCurrency",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.donationDataPoint.currency=e,this.viewState.isDefaultAmount&&(this.donationDataPoint.setAmountByDefault(e),this.produceViewState((function(e){e.amount=n.donationDataPoint.total}))),this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((function(t){t.currencyCode=e,t.currencyName=n.currencyService.getName(e),t.amountInUsd=n.donationDataPoint.amountInUSD||0,t.amountInDefaultFiat=n.donationDataPoint.amountInDefaultFiat}));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"toggleTribute",value:function(){var e=this;this.tributeDataPoint.isActive=!this.tributeDataPoint.isActive,this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((function(t){t.tribute.isActive=e.tributeDataPoint.isActive}))}},{key:"changeTributeName",value:function(e){var t=this;this.tributeDataPoint.tributeeName=e,this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((function(e){e.tribute.name=t.tributeDataPoint.tributeeName}))}},{key:"changeGoal",value:function(e){var t=this;this.designationDataPoint.goalKey=e,this.produceViewState((function(e){e.designation.goalKey=t.designationDataPoint.goalKey}))}},{key:"leave",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pending){e.next=2;break}return e.abrupt("return");case 2:if(this.pending=!0,this.produceViewState((function(e){e.processingState=oo.Z.PENDING})),this.validateAmount(),this.viewState.isAmountValid){e.next=9;break}return this.produceViewState((function(e){e.processingState=oo.Z.IDLE})),this.pending=!1,e.abrupt("return");case 9:return this.checkoutService.collectDataPoint([this.donationDataPoint,this.tributeDataPoint,this.designationDataPoint,this.commentDataPoint]),e.abrupt("return",this.hold());case 11:case"end":return e.stop()}}),e,this)})))}},{key:"hold",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkoutService.hold();case 2:if(n=e.sent,this.pending=!1,!_t.H.isFailure(n)){e.next=7;break}return this.handleHoldError(n),e.abrupt("return");case 7:return e.abrupt("return",t.leave.call(this));case 8:case"end":return e.stop()}}),e,this)})))}},{key:"handleHoldError",value:function(e){var t=this;_t.H.isSuccess(e)||(this.produceViewState((function(e){e.errors.payment.status=!0,e.errors.payment.title=t.intl.translate("common.errorOccurredText"),e.errors.payment.message="",e.processingState=oo.Z.ERROR})),this.cleanProcessingStateWithTimeout())}},{key:"cleanProcessingStateWithTimeout",value:function(){var e=this;window.clearTimeout(this.buttonErrorStateTimeout),this.buttonErrorStateTimeout=q()((function(){e.produceViewState((function(e){e.errors.payment.status=!1,e.errors.payment.title="",e.processingState=oo.Z.IDLE}))}),5e3)}},{key:"getInitialViewState",value:function(){return{processingState:oo.Z.IDLE,locked:!1,amount:null,amountInUsd:0,amountInDefaultFiat:0,minAmount:100,isAmountValid:!0,currencyCode:"BTC",currencyName:this.currencyService.getName("BTC"),defaultFiatCurrency:"USD",repeat:y.oe.ONCE,errors:{amount:{min:!1},payment:{status:!1}},tribute:{name:"",isActive:!1,show:!1,labelType:y.h2.IN_HONOR_MEMORY,sharingEnabled:!1},designation:{show:!1,goalKey:null,goals:[],isEditable:!0},currencies:[],enabledFlows:{money:this.checkoutService.campaignConfig.donationTypes.money.enabled,stock:this.checkoutService.campaignConfig.donationTypes.stock.enabled},comment:{isEnabled:this.checkoutService.campaignConfig.showComment,content:"",prevContent:""},flowType:this.checkoutService.type,livemode:!0,isCryptoAccountConnected:!0,isDefaultAmount:!0}}},{key:"donationDataPoint",get:function(){if(!this._donationDataPoint)throw new Error("donationDataPoint is not defined");return this._donationDataPoint}},{key:"tributeDataPoint",get:function(){if(!this._tributeDataPoint)throw new Error("TributeDonationDataPoint is not defined");return this._tributeDataPoint}},{key:"designationDataPoint",get:function(){if(!this._designationDataPoint)throw new Error("DesignationDataPoint is not defined");return this._designationDataPoint}},{key:"commentDataPoint",get:function(){if(!this._commentDataPoint)throw new Error("CommentDataPoint is not defined");return this._commentDataPoint}},{key:"getAllowedGoals",value:function(e,t){var n=this;return he()(e).call(e,(function(e){return n.designationDataPoint.isGoalAllowedToShow(e,t)}))}},{key:"getGoalByKey",value:function(e){var t;return at()(t=this.viewState.designation.goals).call(t,(function(t){return t.key===e}))||null}},{key:"shouldShowDesignation",value:function(){return this.viewState.designation.show&&!!this.getAllowedGoals(this.viewState.designation.goals,j()(this.viewState)).length}},{key:"addComment",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkoutService.makeDataPointRequired(dn.W_.COMMENT),e.abrupt("return",t.leave.call(this));case 2:case"end":return e.stop()}}),e,this)})))}}]),i}(uo);var lo=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).canSubmit=!0,e}return(0,P.Z)(i,[{key:"donationDataPoint",get:function(){if(!this._donationDataPoint)throw new Error("CryptoDonationDataPoint is not defined");return this._donationDataPoint}},{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkoutService.getDataPoint(fn.p.DONATION);case 2:if(this._donationDataPoint=e.sent,t=this.checkoutService.getState(),n=t.cryptoAddress){e.next=6;break}throw new Error("cryptoAddress was not set");case 6:this.produceViewState((function(e){var t;e.formattedAmount=r.intl.formatCurrency(null!==(t=r.donationDataPoint.total)&&void 0!==t?t:0,{display:"trimzeroes",currency:r.donationDataPoint.currency,withoutPrefix:!0,withoutSuffix:!0}),e.currencyCode=r.donationDataPoint.currency,e.walletAddress=n,e.networkName=r.donationDataPoint.currencyNetworkData.networkName,e.protocol=r.donationDataPoint.currencyNetworkData.protocol})),this.leaveOnSuccessfulPayment();case 8:case"end":return e.stop()}}),e,this)})))}},{key:"leaveOnSuccessfulPayment",value:function(){var e=this,t=Ga()((function(){e.checkoutService.isPaymentCompleted&&(clearInterval(t),e.leave())}),5e3)}},{key:"getInitialViewState",value:function(){return{locked:!1,formattedAmount:"0",walletAddress:"",currencyCode:"",networkName:"",protocol:""}}}]),i}(uo);var ho,fo=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkoutService.getDataPoint(dn.W_.COMMENT);case 2:this._commentDataPoint=e.sent,this.produceViewState((function(e){e.comment=t.commentDataPoint.comment}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"beforeLeave",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.checkoutService.makeDataPointOptional(dn.W_.COMMENT);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"setComment",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.commentDataPoint.comment=e,this.produceViewState((function(e){e.comment=n.commentDataPoint.comment})),this.syncUpdate();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"leave",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkoutService.collectDataPoint([this.commentDataPoint]),e.abrupt("return",t.leave.call(this,Ui.l.BACKWARD));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"commentDataPoint",get:function(){if(!this._commentDataPoint)throw new Error("CommentDataPoint is not defined");return this._commentDataPoint}},{key:"getInitialViewState",value:function(){return{locked:!1,comment:""}}}]),i}(so.K),mo="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",po=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mo,n="",r=0;r<e;r+=1)n+=t[Math.floor(Math.random()*t.length)];return n},vo=n(98022),yo=n.n(vo),go=(ho={},(0,v.Z)(ho,fe.Cl.MONEY,cn.t.DONATION),(0,v.Z)(ho,fe.Cl.CRYPTO,fn.p.DONATION),(0,v.Z)(ho,fe.Cl.STOCK,Pn.v.DONATION),ho),ko=n(6039);var Po=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).addressSessionToken=po(),e}return(0,P.Z)(i,[{key:"mailingAddressDataPoint",get:function(){if(!this._mailingAddressDataPoint)throw new Error("MailingAddressDataPoint is not defined");return this._mailingAddressDataPoint}},{key:"donationDataPoint",get:function(){if(!this._donationDataPoint)throw new Error("DonationDataPoint is not defined");return this._donationDataPoint}},{key:"isPaymentScreen",get:function(){return this.name===this.checkoutService.paymentScreenName}},{key:"isZipFirstLayout",value:function(e){return e===y.C9.UNITED_KINGDOM}},{key:"getStates",value:function(e){var t;return this.checkoutService.resolvedCheckoutData.infrastructureParams.showcase&&!this._mailingAddressDataPoint?null:null!==(t=this.mailingAddressDataPoint.countriesWithPredefinedStates[e])&&void 0!==t?t:null}},{key:"hasMailingAddressError",get:function(){return this.checkoutService.getState().hasMailingAddressError}},{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkoutService.getDataPoint(go[this.checkoutService.type]);case 2:return this._donationDataPoint=e.sent,e.next=5,this.checkoutService.getDataPoint(dn.W_.MAILING_ADDRESS);case 5:this._mailingAddressDataPoint=e.sent,this.produceViewState((function(e){var n;e.isPaymentScreen=t.isPaymentScreen,e.isRequired=t.mailingAddressDataPoint.isRequired,e.line1=t.mailingAddressDataPoint.line1,e.line2=t.mailingAddressDataPoint.line2,e.postal=t.mailingAddressDataPoint.postal,e.city=t.mailingAddressDataPoint.city,e.region=t.mailingAddressDataPoint.region,e.countryCode=t.mailingAddressDataPoint.countryCode,e.formattedAmount=t.intl.formatCurrency(null!==(n=t.donationDataPoint.total)&&void 0!==n?n:0,{currency:t.donationDataPoint.currency,display:"floatcents"}),e.repeat=t.donationDataPoint.repeatOrigin||j()(t.donationDataPoint),t.hasMailingAddressError&&(e.processingState=oo.Z.ERROR,e.payErrorMessage=t.checkoutService.payErrorMessage,e.additionalPayErrorMessage=t.checkoutService.additionalPayErrorMessage)})),this.hasMailingAddressError&&this.setProcessingIdleWithTimeout();case 8:case"end":return e.stop()}}),e,this)})))}},{key:"getInitialViewState",value:function(){return{locked:!1,isRequired:!1,isPaymentScreen:!0,donateLabel:"",processingState:oo.Z.IDLE,hasServerValidationError:!1,line1:"",line2:"",city:"",region:"",postal:"",countryCode:y.C9.UNITED_STATES,isZipFirstLayout:!1,places:[],isLoadingPlaces:!1,shakeKey:0,errors:{},formattedAmount:"",repeat:y.oe.MONTHLY}}},{key:"setProcessingIdleWithTimeout",value:function(){var e=this;window.clearTimeout(this.buttonErrorStateTimeout),this.buttonErrorStateTimeout=q()((function(){e.produceViewState((function(e){e.processingState=oo.Z.IDLE}))}),5e3)}},{key:"setProcessingState",value:function(e){this.produceViewState((function(t){t.processingState=e}))}},{key:"leave",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var n,r,i,a=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pending){e.next=2;break}return e.abrupt("return");case 2:if(this.pending=!0,n=this.mailingAddressDataPoint.validate(),r=n.isValid,i=n.errors,r){e.next=8;break}return this.produceViewState((function(e){var t;b()(t=a.mailingAddressDataPoint.getValidationErrorsMap(i)).call(t,(function(t,n){e.errors[n]=!t.isValid})),e.shakeKey+=1})),this.pending=!1,e.abrupt("return");case 8:if(!this.mailingAddressDataPoint.checkShouldValidateOnServer()){e.next=24;break}return this.pending=!0,this.setProcessingState(oo.Z.PENDING),e.next=13,this.checkoutService.validateAddress();case 13:if(e.sent){e.next=23;break}return this.produceViewState((function(e){e.shakeKey+=1,e.hasServerValidationError=!0})),this.setProcessingState(oo.Z.ERROR),e.next=19,(0,ko.D)(un.kw);case 19:return this.setProcessingState(oo.Z.IDLE),this.produceViewState((function(e){e.hasServerValidationError=!1})),this.pending=!1,e.abrupt("return");case 23:this.pending=!1;case 24:if(this.checkoutService.collectDataPoint([this.mailingAddressDataPoint]),this.isPaymentScreen){e.next=28;break}return this.pending=!1,e.abrupt("return",t.leave.call(this));case 28:return e.abrupt("return",this.pay());case 29:case"end":return e.stop()}}),e,this)})))}},{key:"pay",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var n,r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pending=!0,this.setProcessingState(oo.Z.PENDING),e.next=4,this.checkoutService.pay({screen:dn.nn.MAILING_ADDRESS});case 4:if(n=e.sent,!_t.H.isSuccess(n)){e.next=11;break}return this.setProcessingState(oo.Z.SUCCESS),e.next=9,(0,ko.D)(un.YE);case 9:return this.pending=!1,e.abrupt("return",t.leave.call(this));case 11:if(!n.failureResult.shouldLeave){e.next=14;break}return this.pending=!1,e.abrupt("return",t.leave.call(this));case 14:return this.produceViewState((function(e){e.payErrorMessage=r.checkoutService.payErrorMessage,e.additionalPayErrorMessage=r.checkoutService.additionalPayErrorMessage})),this.setProcessingState(oo.Z.ERROR),e.next=18,(0,ko.D)(un.kw);case 18:this.setProcessingState(oo.Z.IDLE),this.pending=!1;case 20:case"end":return e.stop()}}),e,this)})))}},{key:"skip",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pending=!0,this.checkoutService.collectDataPoint([this.mailingAddressDataPoint]),this.isPaymentScreen){e.next=5;break}return this.pending=!1,e.abrupt("return",t.leave.call(this));case 5:return e.abrupt("return",this.pay());case 6:case"end":return e.stop()}}),e,this)})))}},{key:"search",value:function(e,t){return(0,m.mG)(this,void 0,void 0,f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.produceViewState((function(e){e.isLoadingPlaces=!0})),n.next=3,this.getPlaces(e,t);case 3:r=n.sent,this.produceViewState((function(e){e.places=B()(r).call(r,(function(e){return Z()(Z()({},e),{innerId:yo()()})})),e.isLoadingPlaces=!1}));case 5:case"end":return n.stop()}}),n,this)})))}},{key:"getPlaces",value:function(e,t){return(0,m.mG)(this,void 0,void 0,f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r={input:e,restrictCountries:[this.viewState.countryCode],sessionToken:this.addressSessionToken},!t){n.next=3;break}return n.abrupt("return",this.addressService.getSubplaces(Z()({place:t},r)));case 3:return n.abrupt("return",this.addressService.getPlaces(Z()({},r)));case 4:case"end":return n.stop()}}),n,this)})))}},{key:"getPlaceById",value:function(e){var t,n=at()(t=this.viewState.places).call(t,(function(t){return t.innerId===e}));if(!n)throw new Error('No place with selected innerId "'.concat(e,'"'));return n}},{key:"shouldFindSubplaces",value:function(e){return this.addressService.shouldFindSubplaces({place:e,restrictCountries:[this.viewState.countryCode]})}},{key:"retrieveSubplaces",value:function(e,t){return(0,m.mG)(this,void 0,void 0,f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="line1"===t?this.viewState.line1:this.viewState.postal,n.abrupt("return",this.search(r,e));case 2:case"end":return n.stop()}}),n,this)})))}},{key:"retrieveDetails",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.addressService.getDetails({place:e,restrictCountries:[this.viewState.countryCode],sessionToken:this.addressSessionToken});case 3:n=t.sent;case 4:return t.prev=4,this.addressSessionToken=po(),t.finish(4);case 7:this.mailingAddressDataPoint.line1=n.line1,this.mailingAddressDataPoint.city=n.city,this.mailingAddressDataPoint.postal=n.postal,n.line2&&(this.mailingAddressDataPoint.line2=n.line2),n.region&&(this.mailingAddressDataPoint.region=n.region),this.produceViewState((function(e){e.line1=r.mailingAddressDataPoint.line1,e.line2=r.mailingAddressDataPoint.line2,e.city=r.mailingAddressDataPoint.city,e.region=r.mailingAddressDataPoint.region,e.postal=r.mailingAddressDataPoint.postal}));case 13:case"end":return t.stop()}}),t,this,[[0,,4,7]])})))}},{key:"changeLine1",value:function(e){var t=this;this.mailingAddressDataPoint.line1=e,this.produceViewState((function(e){e.errors.line1=!1,e.line1=t.mailingAddressDataPoint.line1}))}},{key:"changeLine2",value:function(e){var t=this;this.mailingAddressDataPoint.line2=e,this.produceViewState((function(e){e.errors.line2=!1,e.line2=t.mailingAddressDataPoint.line2}))}},{key:"changeCity",value:function(e){var t=this;this.mailingAddressDataPoint.city=e,this.produceViewState((function(e){e.errors.city=!1,e.city=t.mailingAddressDataPoint.city}))}},{key:"changeRegion",value:function(e){var t=this;this.mailingAddressDataPoint.region=e,this.produceViewState((function(e){e.errors.region=!1,e.region=t.mailingAddressDataPoint.region}))}},{key:"changePostalCode",value:function(e){var t=this;this.mailingAddressDataPoint.postal=e,this.produceViewState((function(e){e.errors.postal=!1,e.postal=t.mailingAddressDataPoint.postal}))}},{key:"changeCountryCode",value:function(e){var t=this,n=this.isZipFirstLayout(this.mailingAddressDataPoint.countryCode);this.mailingAddressDataPoint.countryCode=e,n!==this.isZipFirstLayout(this.mailingAddressDataPoint.countryCode)&&(this.mailingAddressDataPoint.region=""),this.produceViewState((function(e){var n;e.countryCode=t.mailingAddressDataPoint.countryCode,e.region=t.mailingAddressDataPoint.region,Ia()(n=e.places).call(n,0,e.places.length)}))}},{key:"getAriaErrorMessage",value:function(e){return this.intl.translate("addressForm.ariaErrorMessage",{field:e})}}]),i}(so.K),So=n(73449);var Eo=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"isPaymentScreen",get:function(){return this.name===this.checkoutService.paymentScreenName}},{key:"isStockFlow",get:function(){return this.checkoutService.type===fe.Cl.STOCK}},{key:"isCryptoFlow",get:function(){return this.checkoutService.type===fe.Cl.CRYPTO}},{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h,d,m=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.checkoutService.getDataPoint(dn.W_.PERSONAL_INFORMATION),this.checkoutService.getDataPoint(dn.W_.PHONE_NUMBER),this.checkoutService.getDataPoint(dn.W_.DONATE_ANONYMOUS),this.checkoutService.getDataPoint(dn.W_.MAILING_LIST_SUBSCRIPTION),this.checkoutService.getDataPoint(dn.W_.TERMS_AND_CONDITIONS),this.checkoutService.getDataPoint(dn.W_.ON_BEHALF_OF),this.checkoutService.getDataPoint(dn.W_.CUSTOMER_TITLE),this.checkoutService.getDataPoint(go[this.checkoutService.type]),this.isStockFlow?this.checkoutService.getDataPoint(Pn.v.BROKERAGE_ACCOUNT_NUMBER):Nt().resolve(null),this.checkoutService.getDataPoint(dn.W_.DESIGNATION)]);case 2:t=e.sent,n=(0,tt.Z)(t,10),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],d=n[9],this._personalInformationDataPoint=r,this._phoneNumberDataPoint=i,this._donateAnonymousDataPoint=a,this._mailingListSubscriptionDataPoint=o,this._termsAndConditionsDataPoint=s,this._onBehalfOfDataPoint=u,this._customerTitleDataPoint=c,this._donationDataPoint=l,this._designationDataPoint=d,h&&(this._brokerageAccountNumberDataPoint=h),this.designationDataPoint.goalKey||this.designationDataPoint.changeGoalKeyByRepeat(j()(this.donationDataPoint)),this.produceViewState((function(e){var t;e.isPaymentScreen=m.isPaymentScreen,e.isStockFlow=m.isStockFlow,e.firstName=m.personalInformationDataPoint.firstName,e.lastName=m.personalInformationDataPoint.lastName,e.email=m.personalInformationDataPoint.email,e.showPhone=m.phoneNumberDataPoint.isEnabled,e.phoneRequired=m.phoneNumberDataPoint.isRequired,e.phone=m.phoneNumberDataPoint.phone,e.phoneLegalText=m.phoneNumberDataPoint.legalText,e.showPhoneLegalText=m.phoneNumberDataPoint.isLegalTextEnabled,e.userCountryCode=m.phoneNumberDataPoint.countryCode,e.showAnonymous=m.donateAnonymousDataPoint.isEnabled,e.anonymousChecked=m.donateAnonymousDataPoint.anonymousChecked,e.mailingListSubscription.show=m.mailingListSubscriptionDataPoint.isEnabled,e.mailingListSubscription.checked=m.mailingListSubscriptionDataPoint.checked,e.mailingListSubscription.text=m.mailingListSubscriptionDataPoint.text,e.processingState=oo.Z.IDLE,e.onBehalfOf.companyName=m.onBehalfOfDataPoint.companyName,e.onBehalfOf.isEnabled=m.onBehalfOfDataPoint.isEnabled,e.onBehalfOf.isActive=m.onBehalfOfDataPoint.isActive,e.termsAndConditions.text=m.termsAndConditionsDataPoint.text,e.termsAndConditions.isEnabled=m.termsAndConditionsDataPoint.isEnabled,e.termsAndConditions.isAccepted=m.termsAndConditionsDataPoint.isAccepted;var n=e.showPhone,r=m.customerTitleDataPoint.isEnabled?!((n||e.onBehalfOf.isEnabled)&&(e.showAnonymous||e.mailingListSubscription.show||e.termsAndConditions.isEnabled)):!(n&&e.onBehalfOf.isEnabled&&(e.showAnonymous||e.mailingListSubscription.show||e.termsAndConditions.isEnabled)),i=!!m.customerTitleDataPoint.isEnabled&&n&&e.onBehalfOf.isEnabled&&e.showAnonymous&&e.mailingListSubscription.show&&e.termsAndConditions.isEnabled;e.textIsVisible=r,e.allOptionsEnabled=i,e.customerTitle.title=m.customerTitleDataPoint.title,e.customerTitle.list=m.customerTitleDataPoint.titleList,e.customerTitle.isEnabled=m.customerTitleDataPoint.isEnabled,e.customerTitle.isRequired=m.customerTitleDataPoint.isRequired,e.donation.formattedAmount=m.intl.formatCurrency(null!==(t=m.donationDataPoint.total)&&void 0!==t?t:0,{currency:m.donationDataPoint.currency,display:"trimzeroes"}),e.donation.repeat=m.donationDataPoint.repeatOrigin||j()(m.donationDataPoint),m.isStockFlow&&(e.brokerageAccountNumber.accountNumber=m.brokerageAccountNumberDataPoint.accountNumber,e.brokerageAccountNumber.isEnabled=m.brokerageAccountNumberDataPoint.isEnabled,e.brokerageAccountNumber.isRequired=m.brokerageAccountNumberDataPoint.isRequired),e.autoFocus=m.getAutoFocusConfig(e.brokerageAccountNumber.isEnabled,e.customerTitle.isEnabled)}));case 26:case"end":return e.stop()}}),e,this)})))}},{key:"getInitialViewState",value:function(){return{shakeKey:0,errors:{},serverErrors:{},showPhone:!1,phoneRequired:!1,showPhoneLegalText:!1,phoneLegalText:"",showAnonymous:!1,anonymousChecked:!1,mailingListSubscription:{checked:!1,show:!1,text:""},textIsVisible:!1,allOptionsEnabled:!1,firstName:"",lastName:"",email:"",phone:null,isPaymentScreen:!1,payErrorMessage:"",additionalPayErrorMessage:"",userCountryCode:y.C9.UNITED_STATES,processingState:oo.Z.IDLE,termsAndConditions:{isAccepted:!1,isEnabled:!1,text:""},onBehalfOf:{isEnabled:!1,isActive:!1,companyName:""},customerTitle:{title:So.Ch.NONE,list:[],isEnabled:!1,isRequired:!1},locked:!1,donation:{formattedAmount:"",repeat:y.oe.MONTHLY},brokerageAccountNumber:{isEnabled:!1,isRequired:!1,accountNumber:""},isStockFlow:!1,autoFocus:this.createDefaultAutoFocusConfig()}}},{key:"validate",value:function(){this.personalInformationDataPoint.validate(),this.phoneNumberDataPoint.validate(),this.termsAndConditionsDataPoint.validate(),this.onBehalfOfDataPoint.validate(),this.customerTitleDataPoint.validate()}},{key:"leave",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var n,r,i,a,o=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pending){e.next=2;break}return e.abrupt("return");case 2:if(this.pending=!0,n=!1,this.validate(),this.produceViewState((function(e){e.errors.firstName=o.personalInformationDataPoint.validationResult.fields.firstName,e.errors.lastName=o.personalInformationDataPoint.validationResult.fields.lastName,e.errors.email=o.personalInformationDataPoint.validationResult.fields.email,e.errors.phone=o.phoneNumberDataPoint.validationResult.fields.phone,e.errors.isAccepted=o.termsAndConditionsDataPoint.validationResult.fields.isAccepted,e.errors.onBehalfOf=o.onBehalfOfDataPoint.validationResult.fields.onBehalfOf,e.errors.customerTitle=o.customerTitleDataPoint.validationResult.fields.title,o.isStockFlow&&(o.brokerageAccountNumberDataPoint.validate(),e.errors.brokerageAccountNumber=o.brokerageAccountNumberDataPoint.validationResult.fields.accountNumber),(n=o.checkHasError(e))&&(e.shakeKey+=1)})),!n){e.next=9;break}return this.pending=!1,e.abrupt("return");case 9:return this.setProcessingState(oo.Z.PENDING),r=[this.personalInformationDataPoint,this.donateAnonymousDataPoint,this.mailingListSubscriptionDataPoint,this.phoneNumberDataPoint,this.onBehalfOfDataPoint],this.isStockFlow&&r.push(this.brokerageAccountNumberDataPoint),e.next=14,this.checkoutService.collectDataPoint(r,!0);case 14:if(i=e.sent,!_t.H.isFailure(i)||!i.failureResult.customerEmailError){e.next=17;break}return e.abrupt("return",this.startServerErrorFlow());case 17:if(this.checkoutService.customerPrivacyValid(),this.isPaymentScreen){e.next=22;break}return this.setProcessingState(oo.Z.IDLE),this.pending=!1,e.abrupt("return",t.leave.call(this));case 22:return e.next=24,this.checkoutService.pay({screen:dn.nn.PRIVACY});case 24:if(a=e.sent,!_t.H.isSuccess(a)){e.next=32;break}if(this.isCryptoFlow){e.next=30;break}return this.setProcessingState(oo.Z.SUCCESS),e.next=30,(0,ko.D)(un.YE);case 30:return this.pending=!1,e.abrupt("return",t.leave.call(this));case 32:if(!a.failureResult.shouldLeave){e.next=35;break}return this.pending=!1,e.abrupt("return",t.leave.call(this));case 35:return this.produceViewState((function(e){e.payErrorMessage=o.checkoutService.payErrorMessage||o.intl.translate("common.errorOccurredText"),e.additionalPayErrorMessage=o.checkoutService.additionalPayErrorMessage||""})),this.setProcessingState(oo.Z.ERROR),e.next=39,(0,ko.D)(un.kw);case 39:this.setProcessingState(oo.Z.IDLE),this.pending=!1;case 41:case"end":return e.stop()}}),e,this)})))}},{key:"startServerErrorFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.produceViewState((function(e){e.serverErrors.email=!0,e.shakeKey+=1,e.processingState=oo.Z.ERROR})),e.next=3,(0,ko.D)(un.kw);case 3:this.setProcessingState(oo.Z.IDLE),this.pending=!1;case 5:case"end":return e.stop()}}),e,this)})))}},{key:"checkHasError",value:function(e){var t;return E()(t=bt()(e.errors)).call(t,(function(t){var n=e.errors[t];return!!n&&!n.isValid}))}},{key:"changeFirstName",value:function(e){var t=this;this.personalInformationDataPoint.firstName=e,this.personalInformationDataPoint.resetError("firstName"),this.produceViewState((function(e){e.errors.firstName=t.personalInformationDataPoint.validationResult.fields.firstName,e.firstName=t.personalInformationDataPoint.firstName}))}},{key:"changeLastName",value:function(e){var t=this;this.personalInformationDataPoint.lastName=e,this.personalInformationDataPoint.resetError("lastName"),this.produceViewState((function(e){e.errors.lastName=t.personalInformationDataPoint.validationResult.fields.lastName,e.lastName=t.personalInformationDataPoint.lastName}))}},{key:"changeEmail",value:function(e){var t=this;this.personalInformationDataPoint.email=e,this.personalInformationDataPoint.resetError("email"),this.produceViewState((function(e){e.errors.email=t.personalInformationDataPoint.validationResult.fields.email,e.email=t.personalInformationDataPoint.email,e.serverErrors.email=!1}))}},{key:"changePhone",value:function(e){var t=this;this.phoneNumberDataPoint.phone=e,this.phoneNumberDataPoint.resetError("phone"),this.produceViewState((function(e){e.errors.phone=t.phoneNumberDataPoint.validationResult.fields.phone,e.phone=t.phoneNumberDataPoint.phone}))}},{key:"changeBrokerageAccountNumber",value:function(e){var t=this;this.isStockFlow&&(this.brokerageAccountNumberDataPoint.accountNumber=e,this.brokerageAccountNumberDataPoint.resetError("accountNumber"),this.produceViewState((function(e){e.errors.brokerageAccountNumber=t.brokerageAccountNumberDataPoint.validationResult.fields.accountNumber,e.brokerageAccountNumber.accountNumber=t.brokerageAccountNumberDataPoint.accountNumber})))}},{key:"toggleTermsAndConditionsAccepted",value:function(){var e=this;this.termsAndConditionsDataPoint.isAccepted=!this.termsAndConditionsDataPoint.isAccepted,this.termsAndConditionsDataPoint.resetError("isAccepted"),this.produceViewState((function(t){t.errors.isAccepted=e.termsAndConditionsDataPoint.validationResult.fields.isAccepted,t.termsAndConditions.isAccepted=e.termsAndConditionsDataPoint.isAccepted}))}},{key:"toggleAnonymousChecked",value:function(){var e=this.donateAnonymousDataPoint.anonymousChecked;this.donateAnonymousDataPoint.anonymousChecked=!e,this.produceViewState((function(t){t.anonymousChecked=!e}))}},{key:"toggleSubscriptionChecked",value:function(){var e=this.mailingListSubscriptionDataPoint.checked;this.mailingListSubscriptionDataPoint.checked=!e,this.produceViewState((function(t){t.mailingListSubscription.checked=!e}))}},{key:"setProcessingState",value:function(e){return this.produceViewState((function(t){t.processingState=e})),this}},{key:"personalInformationDataPoint",get:function(){if(!this._personalInformationDataPoint)throw new Error("PersonalInformationDataPoint is not defined");return this._personalInformationDataPoint}},{key:"termsAndConditionsDataPoint",get:function(){if(!this._termsAndConditionsDataPoint)throw new Error("TermsAndConditionsDataPoint is not defined");return this._termsAndConditionsDataPoint}},{key:"phoneNumberDataPoint",get:function(){if(!this._phoneNumberDataPoint)throw new Error("PhoneNumberDataPoint is not defined");return this._phoneNumberDataPoint}},{key:"donateAnonymousDataPoint",get:function(){if(!this._donateAnonymousDataPoint)throw new Error("DonateAnonymousDataPoint is not defined");return this._donateAnonymousDataPoint}},{key:"mailingListSubscriptionDataPoint",get:function(){if(!this._mailingListSubscriptionDataPoint)throw new Error("MailingListSubscriptionDataPoint is not defined");return this._mailingListSubscriptionDataPoint}},{key:"onBehalfOfDataPoint",get:function(){if(!this._onBehalfOfDataPoint)throw new Error("OnBehalfOfDataPoint is not defined");return this._onBehalfOfDataPoint}},{key:"customerTitleDataPoint",get:function(){if(!this._customerTitleDataPoint)throw new Error("CustomerTitleDataPoint is not defined");return this._customerTitleDataPoint}},{key:"donationDataPoint",get:function(){if(!this._donationDataPoint)throw new Error("DonationDataPoint is not defined");return this._donationDataPoint}},{key:"designationDataPoint",get:function(){if(!this._designationDataPoint)throw new Error("DesignationDataPoint is not defined");return this._designationDataPoint}},{key:"brokerageAccountNumberDataPoint",get:function(){if(!this._brokerageAccountNumberDataPoint)throw new Error("BrokerageAccountNumberDataPoint is not defined");return this._brokerageAccountNumberDataPoint}},{key:"changeCompanyName",value:function(e){var t=this;this.onBehalfOfDataPoint.companyName=e,this.onBehalfOfDataPoint.resetError("onBehalfOf"),this.produceViewState((function(e){e.errors.onBehalfOf=t.onBehalfOfDataPoint.validationResult.fields.onBehalfOf,e.onBehalfOf.companyName=t.onBehalfOfDataPoint.companyName}))}},{key:"toggleOnBehalfOf",value:function(){var e=this;this.onBehalfOfDataPoint.isActive=!this.onBehalfOfDataPoint.isActive,this.produceViewState((function(t){t.onBehalfOf.isActive=e.onBehalfOfDataPoint.isActive,t.isPaymentScreen=e.isPaymentScreen}))}},{key:"changeCustomerTitle",value:function(e){var t=this;this.customerTitleDataPoint.title=e,this.customerTitleDataPoint.resetError("title"),this.produceViewState((function(e){e.errors.customerTitle=t.customerTitleDataPoint.validationResult.fields.title,e.customerTitle.title=t.customerTitleDataPoint.title}))}},{key:"getAutoFocusConfig",value:function(e,t){var n=this.createDefaultAutoFocusConfig();return e?(n.firstName=!1,n.brokerageAccountNumber=!0):t&&(n.firstName=!1,n.customerTitle=!0),n}},{key:"createDefaultAutoFocusConfig",value:function(){return{brokerageAccountNumber:!1,customerTitle:!1,firstName:!0}}}]),i}(so.K),Do=n(42614),bo=n.n(Do);function wo(e,t){var n=void 0!==J()&&ee()(e)||e["@@iterator"];if(!n){if(ne()(e)||(n=function(e,t){var n;if(e){if("string"==typeof e)return Ao(e,t);var r=i()(n=Object.prototype.toString.call(e)).call(n,8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?z()(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ao(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function Ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Co=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"getInitialViewState",value:function(){return{locked:!1,page:1,questions:[],hasBackButton:!0,isMeasuring:!1,questionErrors:{},shakeKey:0,isShowcase:this.checkoutService.resolvedCheckoutData.infrastructureParams.showcase,processingState:oo.Z.IDLE}}},{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.checkoutService.getDataPoint(dn.W_.QUESTIONS)]);case 2:t=e.sent,n=(0,tt.Z)(t,1),r=n[0],this._questionsDataPoint=r,this.produceViewState((function(e){var t,n;e.questions=B()(t=(0,Un.Z)(bo()(n=r.questions).call(n))).call(t,(function(e){var t=(0,tt.Z)(e,2),n=t[0],r=t[1];return{key:n,type:r.type,required:r.required,code:r.code,question:r.question,answer:r.answer,page:null,options:(0,Un.Z)(r.options)}})),e.isMeasuring=!0}));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"leave",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var n,r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.viewState.page,a=he()(n=this.viewState.questions).call(n,(function(e){return e.page===i})),(o=this.questionsDataPoint.validateQuestionsByKeys(B()(a).call(a,(function(e){return e.key})))).isValid){e.next=6;break}return this.produceViewState((function(e){for(var t=0,n=si()(o.fields);t<n.length;t++){var r=(0,tt.Z)(n[t],2),i=r[0],a=r[1].isValid;e.questionErrors[i]=!a}e.shakeKey+=1})),e.abrupt("return");case 6:if(!E()(r=this.viewState.questions).call(r,(function(e){var t=e.page;return null===t||t>i}))){e.next=12;break}return this.produceViewState((function(e){e.page+=1})),e.next=11,this.checkoutService.updateSession();case 11:return e.abrupt("return");case 12:if(this.checkoutService.collectDataPoint([this.questionsDataPoint]),this.isPaymentScreen){e.next=16;break}return this.pending=!1,e.abrupt("return",t.leave.call(this));case 16:return e.abrupt("return",this.pay());case 17:case"end":return e.stop()}}),e,this)})))}},{key:"pay",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var n,r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pending=!0,this.setProcessingState(oo.Z.PENDING),e.next=4,this.checkoutService.pay({screen:dn.nn.QUESTIONS});case 4:if(n=e.sent,!_t.H.isSuccess(n)){e.next=11;break}return this.setProcessingState(oo.Z.SUCCESS),e.next=9,(0,ko.D)(un.YE);case 9:return this.pending=!1,e.abrupt("return",t.leave.call(this));case 11:if(!n.failureResult.shouldLeave){e.next=14;break}return this.pending=!1,e.abrupt("return",t.leave.call(this));case 14:return this.produceViewState((function(e){e.payErrorMessage=r.checkoutService.payErrorMessage,e.additionalPayErrorMessage=r.checkoutService.additionalPayErrorMessage})),this.setProcessingState(oo.Z.ERROR),e.next=18,(0,ko.D)(un.kw);case 18:this.setProcessingState(oo.Z.IDLE),this.pending=!1;case 20:case"end":return e.stop()}}),e,this)})))}},{key:"setProcessingState",value:function(e){this.produceViewState((function(t){t.processingState=e}))}},{key:"back",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==(t=this.viewState.page)||!this.flow.canGoBack||!this.checkoutService.canGoBack){e.next=3;break}return e.abrupt("return",this.flow.prev());case 3:this.produceViewState((function(e){var n,r=wo(e.questions);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.page===t&&(e.questionErrors[i.key]=!1)}}catch(e){r.e(e)}finally{r.f()}e.page-=1}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"answerQuestion",value:function(e,t){var n=this;this.questionsDataPoint.setAnswer(e,t),this.produceViewState((function(t){var r,i=at()(r=t.questions).call(r,(function(t){return t.key===e}));if(!i)throw new Error('No question with such key: "'.concat(e,'"'));t.questionErrors[e]=!1;var a,o,s=n.questionsDataPoint.getAnswer(e);ne()(s)?ne()(i.answer)?Ia()(a=i.answer).apply(a,H()(o=[0,i.answer.length]).call(o,(0,Un.Z)(s))):i.answer=(0,Un.Z)(s):i.answer=s}))}},{key:"navigateInShowcaseToPage",value:function(e){if(!this.viewState.isShowcase)throw new Error("Can be used only in showcase");this.produceViewState((function(t){t.page=e}))}},{key:"completeMeasurement",value:function(e){this.produceViewState((function(t){var n,r=wo(e);try{for(r.s();!(n=r.n()).done;){var i=(0,tt.Z)(n.value,2),a=i[0],o=i[1];t.questions[a].page=o}}catch(e){r.e(e)}finally{r.f()}t.isMeasuring=!1}))}},{key:"questionsDataPoint",get:function(){if(!this._questionsDataPoint)throw new Error("QuestionsDataPoint is not defined");return this._questionsDataPoint}},{key:"isPaymentScreen",get:function(){return this.name===this.checkoutService.paymentScreenName}},{key:"showBackButton",get:function(){var e=1!==this.viewState.page||this.checkoutService.canGoBack,t=this.checkoutService.resolvedCheckoutData.infrastructureParams.isMobile;return{header:!t&&e,footer:t&&e}}}]),i}(so.K);var No=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.checkoutService.getDataPoint(dn.W_.REMIND_ME_LATER)]);case 2:t=e.sent,n=(0,tt.Z)(t,1),this._remindMeLaterDataPoint=n[0],this.produceViewState((function(e){e.email=r.remindMeLaterDataPoint.email}));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"getInitialViewState",value:function(){return{locked:!1,email:"",saved:!1,isEmailValid:!0,loadingState:!1}}},{key:"updateEmail",value:function(e){var t=this;this.remindMeLaterDataPoint.email=e,this.produceViewState((function(e){e.email=t.remindMeLaterDataPoint.email,e.isEmailValid=!0}))}},{key:"save",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.remindMeLaterDataPoint.validate(),this.produceViewState((function(e){e.isEmailValid=t.isValid})),t.isValid){e.next=4;break}return e.abrupt("return",!1);case 4:return e.next=6,this.checkoutService.saveRemindMeLaterEmail();case 6:return this.produceViewState((function(e){e.saved=!0})),e.next=9,this.setLoadingState(!0);case 9:return e.next=11,(0,ko.D)(3e3);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this)})))}},{key:"setLoadingState",value:function(e){this.produceViewState((function(t){t.loadingState=e}))}},{key:"saveOnClose",value:function(){if(!this.remindMeLaterDataPoint.validate().isValid)return this.updateEmail("");this.checkoutService.saveRemindMeLaterEmail()}},{key:"remindMeLaterDataPoint",get:function(){if(!this._remindMeLaterDataPoint)throw new Error("RemindMeLaterDataPoint is not defined");return this._remindMeLaterDataPoint}}]),i}(so.K),Oo=n(23972),_o=n.n(Oo),To=n(34126),Ro="facebook",Io="twitter",xo="linkedin",Zo="email";function Lo(e,t,n,r){var i="";switch(e){case xo:return i=To.stringify({mini:"true",url:t,summary:n}),"https://www.linkedin.com/shareArticle?".concat(i);case Io:return i=To.stringify({url:t,text:n}),"https://twitter.com/intent/tweet?".concat(i);case Ro:return i=To.stringify({u:t,quote:n}),"https://www.facebook.com/sharer.php?".concat(i);case Zo:return i=To.stringify({body:(0,wt.o)([n,t],"\n"),subject:r||""}),"mailto:?".concat(i);default:return""}}var Mo=n(72210),Fo=n(81094);var Uo,Bo=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"donationDataPoint",get:function(){if(!this._donationDataPoint)throw new Error("donationDataPoint is not defined");return this._donationDataPoint}},{key:"tributeDataPoint",get:function(){if(!this._tributeDataPoint)throw new Error("tributeDataPoint is not defined");return this._tributeDataPoint}},{key:"personalInformationDataPoint",get:function(){if(!this._personalInformationDataPoint)throw new Error("PersonalInformationDataPoint is not defined");return this._personalInformationDataPoint}},{key:"postDonationUpsellDataPoint",get:function(){if(!this._postDonationUpsellDataPoint)throw new Error("PostDonationUpsellDataPoint is not defined");return this._postDonationUpsellDataPoint}},{key:"designationDataPoint",get:function(){if(!this._designationDataPoint)throw new Error("DesignationDataPoint is not defined");return this._designationDataPoint}},{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a,o,s=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.checkoutService.getDataPoint(go[this.viewState.flowType]),this.checkoutService.getDataPoint(dn.W_.TRIBUTE),this.checkoutService.getDataPoint(dn.W_.PERSONAL_INFORMATION),this.checkoutService.getDataPoint(cn.t.POST_DONATION_UPSELL),this.checkoutService.getDataPoint(dn.W_.DESIGNATION)]);case 2:if(t=e.sent,n=(0,tt.Z)(t,5),this._donationDataPoint=n[0],this._tributeDataPoint=n[1],this._personalInformationDataPoint=n[2],this._postDonationUpsellDataPoint=n[3],this._designationDataPoint=n[4],!(r=this.getRedirectUrl())||this.checkoutService.resolvedCheckoutData.infrastructureParams.showcase){e.next=17;break}return e.next=13,this.checkoutService.tryCloseSession();case 13:return(i=this.checkoutService.getRemoveCloseGuard())&&i(),window.parent.location.replace(r),e.abrupt("return",new(Nt())((function(){return""})));case 17:this.checkoutService.tryCloseSession(),a=this.donationDataPoint.total||0,o=this.donationDataPoint.currency,this.produceViewState((function(e){var t;e.currency=o,e.total=a,e.formattedTotal=s.intl.formatCurrency(e.total,{currency:e.currency,display:"trimzeroes"}),e.tributeDonorPortalLink=null!==(t=s.checkoutService.getState().tributeDonorPortalLink)&&void 0!==t?t:"",e.tribute.inHonorOf=s.tributeDataPoint.tributeeName,e.variant=s.variant;var n=s.sharingChannels,r=n.showEmail,i=n.showTwitter,u=n.showLinkedin,c=n.showFacebook;e.sharing.showEmail=r,e.sharing.showTwitter=i,e.sharing.showLinkedin=u,e.sharing.showFacebook=c}));case 21:case"end":return e.stop()}}),e,this)})))}},{key:"getInitialViewState",value:function(){return{locked:!1,variant:dn.bm.SHARING,currency:"USD",total:0,formattedTotal:"",sharing:{showFacebook:!0,showTwitter:!0,showLinkedin:!0,showEmail:!0},tribute:{inHonorOf:""},tributeDonorPortalLink:"",flowType:this.checkoutService.type}}},{key:"descriptionSharing",get:function(){switch(this.viewState.flowType){case fe.Cl.MONEY:return this.descriptionSharingFiat;case fe.Cl.CRYPTO:return this.intl.translate("thankYouScreen.description.crypto",{amount:this.viewState.formattedTotal});case fe.Cl.STOCK:return this.intl.translate("thankYouScreen.description.stock",{amount:this.viewState.formattedTotal});default:var e=this.viewState.flowType;throw new Error('Unknown flow type "'.concat(e,'"'))}}},{key:"descriptionSharingFiat",get:function(){if(!this.checkoutService.resolvedCheckoutData.infrastructureParams.showcase&&this.donationDataPoint instanceof Mo.FiatDonationDataPoint){var e=this.donationDataPoint.monthlyRepeat;if(this.donationDataPoint.isRecurring&&e!==y.oe.ONCE)return this.intl.translate("thankYouScreen.description.fiat.recurring",{amount:this.viewState.formattedTotal,recurringType:this.recurringTypes[e]})}return this.intl.translate("thankYouScreen.description.fiat.once",{amount:this.viewState.formattedTotal})}},{key:"descriptionTribute",get:function(){if(!this.checkoutService.resolvedCheckoutData.infrastructureParams.showcase&&this.viewState.flowType===fe.Cl.MONEY&&this.donationDataPoint instanceof Mo.FiatDonationDataPoint){var e=this.donationDataPoint.isRecurring,t=this.donationDataPoint.monthlyRepeat;if(e&&t!==y.oe.ONCE)return this.intl.translate("thankYouTributeScreen.description.recurring",{amount:this.viewState.formattedTotal,recurringType:this.recurringTypes[t],dedicatedTo:this.viewState.tribute.inHonorOf})}return this.intl.translate("thankYouTributeScreen.description.once",{amount:this.viewState.formattedTotal,dedicatedTo:this.viewState.tribute.inHonorOf})}},{key:"recurringTypes",get:function(){var e;return e={},(0,v.Z)(e,y.oe.DAILY,this.intl.translate("widgetSubscriptionPeriodLabel.daily.adjective")),(0,v.Z)(e,y.oe.WEEKLY,this.intl.translate("widgetSubscriptionPeriodLabel.weekly.adjective")),(0,v.Z)(e,y.oe.BIWEEKLY,this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.adjective")),(0,v.Z)(e,y.oe.MONTHLY,this.intl.translate("widgetSubscriptionPeriodLabel.monthly.adjective")),(0,v.Z)(e,y.oe.BIMONTHLY,this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.adjective")),(0,v.Z)(e,y.oe.QUARTERLY,this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.adjective")),(0,v.Z)(e,y.oe.SEMIANNUAL,this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.adjective")),(0,v.Z)(e,y.oe.ANNUAL,this.intl.translate("widgetSubscriptionPeriodLabel.annual.adjective")),e}},{key:"sharingChannels",get:function(){var e=this.checkoutService.campaignConfig.thankYouScreen.sharing.channels;return{showEmail:e.email,showTwitter:e.twitter,showLinkedin:e.linkedin,showFacebook:e.facebook}}},{key:"isSharingEnabled",get:function(){var e=this.sharingChannels,t=e.showEmail,n=e.showTwitter,r=e.showLinkedin,i=e.showFacebook;return t||n||r||i}},{key:"variant",get:function(){return this.tributeDataPoint.isActive&&this.tributeDataPoint.tributeeName&&this.tributeDataPoint.isSharingEnabled?dn.bm.TRIBUTE:this.isSharingEnabled?dn.bm.SHARING:dn.bm.DEFAULT}},{key:"getRedirectUrl",value:function(){var e,t,n=this,r=this.checkoutService.campaignConfig.thankYouScreen,i=r.type===y.Tl.REDIRECT,a=this.checkoutService.queryParams.successUrl||(i?r.redirect.url:null);if(!a)return null;var o={amount:this.currencyService.toFloat(this.donationDataPoint.total,this.donationDataPoint.currency),monthly:this.postDonationUpsellDataPoint.isAccepted||j()(this.donationDataPoint)===y.oe.MONTHLY,donationId:null!==(t=null===(e=this.checkoutService.getState().donationResultState)||void 0===e?void 0:e.donationId)&&void 0!==t?t:"",currency:this.donationDataPoint.currency};if(i&&!r.redirect.includeSupporterData||(o.supporterFirstName=this.personalInformationDataPoint.firstName,o.supporterLastName=this.personalInformationDataPoint.lastName,o.supporterEmail=this.personalInformationDataPoint.email),this.designationDataPoint.goalKey){var s,u=at()(s=this.designationDataPoint.goals).call(s,(function(e){return e.key===n.designationDataPoint.goalKey}));o.designationId=null==u?void 0:u.key,o.designationName=null==u?void 0:u.name}"/"===a[0]&&(a=window.parent.location.origin+a);var c=new(_o())(a);for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var h=o[l];c.searchParams.append(l,String(h))}return c.toString()}},{key:"getSharingLink",value:function(e){var t=this.shareLink,n=this.checkoutService.campaignConfig.thankYouScreen.sharing.text||"";switch(e){case Fo.Z.TWITTER:return Lo(Io,t,n);case Fo.Z.LINKEDIN:return Lo(xo,t,n);case Fo.Z.FACEBOOK:return Lo(Ro,t,n);case Fo.Z.EMAIL:return Lo(Zo,t,n,this.intl.translate("thankYouScreen.share.emailSubject"));default:throw new Error("Unknown sharing type ".concat(e))}}},{key:"shareLink",get:function(){var e=this.checkoutService.campaignConfig.thankYouScreen.sharing.link;return e?/^https?:\/\//m.test(e)?e:"https://"+e:window.location.href}},{key:"share",value:function(e){if(!this.checkoutService.resolvedCheckoutData.infrastructureParams.showcase){var t=this.getSharingLink(e);window.open(t,"_blank","location=yes,height=400,width=550,scrollbars=yes,status=yes")}}},{key:"makeAnotherDonation",value:function(){}},{key:"shown",value:function(){this.checkoutService.thankYouShown()}}]),i}(so.K);function Go(e){var t=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,ce.Z)(e);if(t){var i=(0,ce.Z)(this).constructor;n=oe()(r,arguments,i)}else n=r.apply(this,arguments);return(0,ue.Z)(this,n)}}var Ho,Ko=function(e){(0,se.Z)(n,e);var t=Go(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,P.Z)(n)}(fo),Vo=function(e){(0,se.Z)(n,e);var t=Go(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,P.Z)(n)}(Eo),Yo=function(e){(0,se.Z)(n,e);var t=Go(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,P.Z)(n)}(Bo),qo=function(e){(0,se.Z)(n,e);var t=Go(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,P.Z)(n)}(No),Wo=function(e){(0,se.Z)(n,e);var t=Go(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,P.Z)(n)}(Po),jo=function(e){(0,se.Z)(n,e);var t=Go(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,P.Z)(n)}(Co),Xo=(Uo={},(0,v.Z)(Uo,fn.a.CRYPTO_CURRENCY,co),(0,v.Z)(Uo,fn.a.CRYPTO_WALLET,lo),(0,v.Z)(Uo,dn.nn.COMMENT,Ko),(0,v.Z)(Uo,dn.nn.PRIVACY,Vo),(0,v.Z)(Uo,dn.nn.THANK_YOU,Yo),(0,v.Z)(Uo,dn.nn.REMIND_ME,qo),(0,v.Z)(Uo,dn.nn.MAILING_ADDRESS,Wo),(0,v.Z)(Uo,dn.nn.QUESTIONS,jo),Uo),zo=function(){function e(t,n,r,i,a,o){(0,k.Z)(this,e),this.checkoutService=t,this.intl=n,this.debug=r,this.currencyService=i,this.subscriptionPeriodLabelsService=a,this.addressService=o}return(0,P.Z)(e,[{key:"create",value:function(e,t){return new Xo[e]({name:e,flow:t,checkoutService:this.checkoutService,debug:this.debug,intl:this.intl,subscriptionPeriodLabelsService:this.subscriptionPeriodLabelsService,addressService:this.addressService,currencyService:this.currencyService})}}]),e}(),Qo=function(){function e(t,n){(0,k.Z)(this,e),this.resolvedCheckoutData=t,this.checkoutState=n}return(0,P.Z)(e,[{key:"get",value:function(){return this.shouldPayOnMailingAddressScreen()?dn.nn.MAILING_ADDRESS:dn.nn.PRIVACY}},{key:"shouldPayOnMailingAddressScreen",value:function(){return this.checkoutState.get().mailingAddress.isEnabled}}]),e}(),Jo=fn.a.CRYPTO_CURRENCY;!function(e){e.PHONE_INPUT="PrivacyPhoneInput"}(Ho||(Ho={}));var $o=(0,v.Z)({},Ho.PHONE_INPUT,(function(){return Promise.all([n.e(7039),n.e(6641),n.e(9770),n.e(5242)]).then(n.bind(n,35242))})),es=function(){function e(t){(0,k.Z)(this,e),this.campaignConfig=t,this.preloadStack=[]}return(0,P.Z)(e,[{key:"loadComponents",value:function(e){return st()(e).call(e,Ho.PHONE_INPUT)&&this.campaignConfig.showPhone&&this.addToLoad(Ho.PHONE_INPUT),this.load()}},{key:"load",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all(B()(t=this.preloadStack).call(t,(function(e){return e()})));case 2:this.preloadStack=[];case 3:case"end":return e.stop()}}),e,this)})))}},{key:"addToLoad",value:function(e){this.preloadStack.push($o[e])}}]),e}();var ts=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).defaultCurrency="USD",e}return(0,P.Z)(i,[{key:"getAmount",value:function(){var e=this.suggestionsService.beautify(.2*this.checkoutAmount,this.checkoutCurrency),t=this.currencyService.convert(this.checkoutAmount,this.checkoutCurrency,this.defaultCurrency);return t>=5e4&&t<=1e5?e=this.suggestionsService.beautify(.15*this.checkoutAmount,this.checkoutCurrency):t>1e5&&(e=this.suggestionsService.beautify(.1*this.checkoutAmount,this.checkoutCurrency)),e<this.recurringMinAmount&&(e=this.recurringMinAmount),e}},{key:"getPeriod",value:function(){return fe.oe.MONTHLY}},{key:"getStartDate",value:function(){return e=this.timestamp,1,n=(t=new Date(e)).getDate(),t.setMonth(t.getMonth()+1),t.getDate()!==n&&t.setDate(0),t.toISOString();var e,t,n}}]),i}((0,P.Z)((function e(t){(0,k.Z)(this,e),this.timestamp=t.timestamp,this.checkoutAmount=t.amount,this.recurringMinAmount=t.minAmount,this.checkoutCurrency=t.currency,this.currencyService=t.currencyService,this.suggestionsService=t.suggestionsService}))),ns=function(){function e(){(0,k.Z)(this,e)}return(0,P.Z)(e,null,[{key:"getConstructor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t?e.createForShowcase:e.create}},{key:"create",value:function(t){var n=e.variants;return new(0,n[Math.floor(Math.random()*n.length)])(t)}},{key:"createForShowcase",value:function(e){return new ts(e)}}]),e}();ns.variants=[ts];var rs=function(){function e(t,n){(0,k.Z)(this,e),this.currencyService=t,this.suggestionsService=n}return(0,P.Z)(e,[{key:"canShowUpsellScreen",value:function(e){var t,n=e.payParams,r=e.widgetParams,i=e.country,a=e.minMonthly;if(n.tribute&&n.tribute.type&&n.tribute.inHonorOf)return!1;var o=r.currencyEnabledRecurrings||n.currency===r.defaultCurrency,s=this.getMaxUpsellAmount(n.currency,i),u=st()(t=["defaultMonthly","defaultOnetime"]).call(t,r.defaultRepeat),c="once"===j()(n),l=(n.amount||0)<=s,h=(n.amount||0)>=a;return r.showUpsell&&u&&c&&o&&l&&h}},{key:"getUpsellAmounts",value:function(t){var n=t.currency,r=t.amount,i=t.minMonthly,a=t.countryCode,o=void 0===a?y.C9.UNITED_STATES:a,s=this.currencyService.convert(r||0,n,"USD",!1,o),u=e.getUpsellUSDAmounts(s),c=u[0]&&this.currencyService.convert(u[0],"USD",n,!1,o);null!==c&&i>(c=this.suggestionsService.beautify(c,n))&&(c=null);var l=this.currencyService.convert(u[1],"USD",n,!1,o);return i>(l=this.suggestionsService.beautify(l,n))&&(l=this.suggestionsService.beautify(i,n,i)),c===l?[null,l]:[c,l]}},{key:"getMaxUpsellAmount",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.C9.UNITED_STATES;return this.currencyService.convert(e.MAX_AMOUNT_FOR_UPSELL_SCREEN,"USD",t,!1,n)}}],[{key:"getUpsellUSDAmounts",value:function(e){switch(!0){case e<=1e3:return[null,e];case e<=2500:return[500,1e3];case e<=3500:return[1e3,1500];case e<=5500:return[1500,2e3];case e<=1e4:return[2e3,2500];case e<=15e3:return[2500,3e3];case e<=2e4:return[3e3,4e3];default:return[null,e]}}}]),e}();rs.MAX_AMOUNT_FOR_UPSELL_SCREEN=2e4;var is,as=function(){function e(t){(0,k.Z)(this,e),this.sessionService=t}return(0,P.Z)(e,[{key:"getList",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,this.sessionService.get("brokers",{query:e},{delay:200,retries:5,cancelSimilar:!0});case 4:return n=t.sent,t.abrupt("return",B()(n).call(n,(function(e){return{id:e.brokerId,name:e.name,logo:e.logo,plaidAllowed:e.plaidAllowed}})));case 6:case"end":return t.stop()}}),t,this)})))}}]),e}(),os=n(67193),ss=n(86924);function us(e){switch(e.flowType){case fe.Cl.MONEY:return new Mo.default(e.resolvedCheckoutData,e.currencyService,e.suggestionsService,e.userSession,e.transactionCosts);case fe.Cl.CRYPTO:return new os.default(e.resolvedCheckoutData,e.currencyService,e.suggestionsService);case fe.Cl.STOCK:return new ss.default(e.resolvedCheckoutData,e.currencyService);default:var t=e.flowType;throw new Error('Unknown FlowType option "'.concat(t,'"'))}}var cs=(is={},(0,v.Z)(is,dn.W_.PERSONAL_INFORMATION,n.e(3328).then(n.bind(n,3328))),(0,v.Z)(is,dn.W_.MAILING_ADDRESS,n.e(7565).then(n.bind(n,17565))),(0,v.Z)(is,dn.W_.MAILING_LIST_SUBSCRIPTION,n.e(8817).then(n.bind(n,68817))),(0,v.Z)(is,dn.W_.TRIBUTE,n.e(8898).then(n.bind(n,38898))),(0,v.Z)(is,cn.t.DONATION,Promise.resolve().then(n.bind(n,72210))),(0,v.Z)(is,cn.t.GIFT_AID,n.e(6695).then(n.bind(n,46695))),(0,v.Z)(is,dn.W_.QUESTIONS,n.e(8979).then(n.bind(n,18979))),(0,v.Z)(is,dn.W_.COMMENT,n.e(442).then(n.bind(n,70442))),(0,v.Z)(is,dn.W_.DESIGNATION,n.e(2678).then(n.bind(n,42678))),(0,v.Z)(is,cn.t.PAYMENT_OPTIONS,n.e(7618).then(n.bind(n,17618))),(0,v.Z)(is,cn.t.PRE_DONATION_UPSELL,n.e(8054).then(n.bind(n,18054))),(0,v.Z)(is,dn.W_.PHONE_NUMBER,n.e(2169).then(n.bind(n,72169))),(0,v.Z)(is,cn.t.PAYPAL_CONVERSION,n.e(4513).then(n.bind(n,74513))),(0,v.Z)(is,dn.W_.TERMS_AND_CONDITIONS,n.e(5285).then(n.bind(n,65285))),(0,v.Z)(is,dn.W_.REMIND_ME_LATER,n.e(8652).then(n.bind(n,18652))),(0,v.Z)(is,dn.W_.ON_BEHALF_OF,n.e(6850).then(n.bind(n,26850))),(0,v.Z)(is,dn.W_.DONATE_ANONYMOUS,n.e(7916).then(n.bind(n,67916))),(0,v.Z)(is,cn.t.UK_BACS,n.e(9755).then(n.bind(n,29755))),(0,v.Z)(is,cn.t.POST_DONATION_UPSELL,n.e(6708).then(n.bind(n,46708))),(0,v.Z)(is,cn.t.ACH,Promise.resolve().then(n.bind(n,55521))),(0,v.Z)(is,cn.t.DTD,n.e(7843).then(n.bind(n,57843))),(0,v.Z)(is,dn.W_.CUSTOMER_TITLE,n.e(2547).then(n.bind(n,62547))),(0,v.Z)(is,fn.p.DONATION,Promise.resolve().then(n.bind(n,67193))),(0,v.Z)(is,Pn.v.DONATION,Promise.resolve().then(n.bind(n,86924))),(0,v.Z)(is,Pn.v.BROKERAGE_ACCOUNT_NUMBER,n.e(6639).then(n.bind(n,1479))),(0,v.Z)(is,Pn.v.SECURITIES,n.e(3861).then(n.bind(n,3861))),(0,v.Z)(is,Pn.v.BROKER,Promise.resolve().then(n.bind(n,31678))),(0,v.Z)(is,Pn.v.CO_OWNER,Promise.resolve().then(n.bind(n,29128))),(0,v.Z)(is,Pn.v.SIGNATURE,Promise.resolve().then(n.bind(n,31802))),is),ls=function(){function e(t){(0,k.Z)(this,e),this.sessionService=t}return(0,P.Z)(e,[{key:"getCompanies",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.sessionService.getDtdCompanies(e);case 2:return n=t.sent,t.abrupt("return",B()(n).call(n,(function(e){return{id:e.payload.id,company_name:e.payload.company_name,ratio:e.payload.ratio,minimumMatchedAmount:e.payload.minimumMatchedAmount}})));case 4:case"end":return t.stop()}}),t,this)})))}}]),e}(),hs=function(){function e(t,n){(0,k.Z)(this,e),this.sessionService=t,this.livemode=n}return(0,P.Z)(e,[{key:"getList",value:function(e,t){return(0,m.mG)(this,void 0,void 0,f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",[]);case 2:return n.abrupt("return",this.getListWithRetry(e,t));case 3:case"end":return n.stop()}}),n,this)})))}},{key:"update",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=B()(e).call(e,(function(e){return{ticker:e.ticker,count:e.quantity,name:e.name,price:e.price,currency:e.currency}})),t.next=3,this.sessionService.post("securities",n);case 3:if(r=t.sent,!_t.H.isFailure(r)){t.next=6;break}return t.abrupt("return",_t.H.fail({message:"Selected securities were not saved"}));case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"getListWithRetry",value:function(e,t){return(0,m.mG)(this,void 0,void 0,f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.sessionService.get("securities",{query:e,plaidAccessToken:null==t?void 0:t.plaidAccessToken,livemode:this.livemode},{delay:200,retries:5,cancelSimilar:!0});case 2:return r=n.sent,n.abrupt("return",r.securities);case 4:case"end":return n.stop()}}),n,this)})))}}]),e}(),ds=n(96e3),fs=n.n(ds),ms=function(e){function t(e,n){(0,k.Z)(this,t),this.whole=e,this.currency=n,this.fractional=this.whole/Math.pow(10,this.currency.digits)}return(0,P.Z)(t,[{key:"plus",value:function(e){var n;if(e.currency.equalTo(this.currency))return new t(this.whole+e.whole,this.currency);throw new Error(H()(n="Currency mismatch: added ".concat(e.currency," is not equal to ")).call(n,this.currency))}},{key:e,value:function(e){return"string"===e?this.whole.toString():this.whole}},{key:"toString",value:function(){return this.whole.toString()}},{key:"valueOf",value:function(){return this.whole}}]),t}(fs());var ps=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i)}(ms),vs=function(){function e(t,n,r){(0,k.Z)(this,e),this.percentFee=t,this.fixedFee=n,this.converter=r}return(0,P.Z)(e,[{key:"getFeeValue",value:function(e){var t=this.converter.convertFeeCurrency(Number(this.fixedFee),this.fixedFee.currency.code,e.currency.code),n=new ps(t,e.currency);return Number(e)*Number(this.percentFee)+Number(n)}}]),e}(),ys=function(e){function t(e,n){(0,k.Z)(this,t),this.digits=n,this.code=e.toUpperCase()}return(0,P.Z)(t,[{key:"equalTo",value:function(e){return String(this)===String(e).toUpperCase()}},{key:e,value:function(){return this.code}},{key:"toString",value:function(){return this.code}}]),t}(fs());var gs=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e){return(0,k.Z)(this,i),r.call(this,Math.min(e.whole*i.ACH_FEE_PERCENT,i.ACH_MAX_FEE_VALUE),new ys("USD",2))}return(0,P.Z)(i)}(ps);gs.ACH_MAX_FEE_VALUE=500,gs.ACH_FEE_PERCENT=.008;var ks=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e){return(0,k.Z)(this,i),r.call(this,Math.min(e.whole*i.ACSS_FEE_PERCENT,i.ACSS_MAX_FEE_VALUE),new ys("CAD",2))}return(0,P.Z)(i)}(ps);ks.ACSS_MAX_FEE_VALUE=500,ks.ACSS_FEE_PERCENT=.008;var Ps=function(e){function t(e){(0,k.Z)(this,t),this.whole=e,this.percent=e/100,this.fractional=e/1e4}return(0,P.Z)(t,[{key:"plus",value:function(e){if(this.percent+e.percent>100)throw new Error("PercentFee value can not be grater than 100");return new t(this.whole+e.whole)}},{key:e,value:function(e){return"string"===e?this.fractional.toString():this.fractional}},{key:"toString",value:function(){return this.fractional.toString()}},{key:"valueOf",value:function(){return this.fractional}}]),t}(fs());var Ss=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e){(0,k.Z)(this,i);var t=i.PERCENT;return e&&(t=i.PERCENT*i.COEFF+e.whole*(1-i.COEFF)),r.call(this,t)}return(0,P.Z)(i)}(Ps);Ss.PERCENT=350,Ss.COEFF=.1;var Es=function(){function e(t,n,r,i,a,o){(0,k.Z)(this,e),this.stripeFee=t,this.applicationFee=n,this.fixedFee=r,this.paymentMethod=i,this.cardBrand=a,this.converter=o}return(0,P.Z)(e,[{key:"isNonProfitFee",get:function(){return this.stripeFee.whole===fe.El.NON_PROFIT}},{key:"getPaymentMethodFee",value:function(e){switch(this.paymentMethod){case y.GZ.ACH:return new gs(e);case y.GZ.ACSS:return new ks(e)}}},{key:"isAmex",get:function(){return this.cardBrand===fe.rL.AMERICAN_EXPRESS}},{key:"getFeeValue",value:function(e){var t=this.getPaymentMethodFee(e);if(t)return Number(e)*Number(this.applicationFee)+Number(t);if(this.isNonProfitFee&&this.isAmex){var n=this.applicationFee.plus(new Ss);return Number(n)*Number(e)}var r=this.converter.convertFeeCurrency(Number(this.fixedFee),this.fixedFee.currency.code,e.currency.code),i=new ps(r,e.currency),a=this.applicationFee.plus(this.stripeFee);return Number(e)*Number(a)+Number(i)}}]),e}(),Ds=function(){function e(t,n,r,i,a){(0,k.Z)(this,e),this.stripeFee=t,this.applicationFee=n,this.fixedFee=r,this.companyParams=i,this.converter=a}return(0,P.Z)(e,[{key:"isUsCountry",get:function(){return"US"===this.companyParams.country}},{key:"isCompanyCurrency",value:function(e){return e.currency.equalTo(this.companyParams.defaultCurrency)}},{key:"isFixedFeeInDonationCurrency",value:function(e){return e.currency.equalTo(this.fixedFee.currency)}},{key:"getFeeValue",value:function(t){var n=1;this.isCompanyCurrency(t)||(this.stripeFee=this.stripeFee.plus(new Ps(100))),this.isFixedFeeInDonationCurrency(t)||(n=e.FEE_CURRENCY_RATE_MULTIPLIER);var r=this.isUsCountry?new Ss(this.stripeFee):this.stripeFee,i=this.applicationFee.plus(r),a=this.converter.convertFeeCurrency(Number(this.fixedFee),this.fixedFee.currency.code,t.currency.code,n),o=new ps(a,t.currency),s=Number(t),u=(s+Number(o))/(1-Number(i))/s-1;return Math.round(s*Math.round(1e4*u)/1e4)}}]),e}();Ds.FEE_CURRENCY_RATE_MULTIPLIER=1.03;var bs=function(){function e(t,n,r){(0,k.Z)(this,e),this.feeCalculator=r,t.validate(n),this.valueObjectsFactory=this.feeCalculator.valueObjectsFactory,this.converter=this.feeCalculator.converter,this.companyParams=n.companyParams,this.customFixedFee=this.valueObjectsFactory.makeFixedFee(n.customFixedFee,n.companyParams.defaultCurrency),this.customFeePercent=this.valueObjectsFactory.makePercentFee(n.customFeePercent),this.applicationFeePercent=this.valueObjectsFactory.makePercentFee(n.applicationFeePercent),this.stripeFeePercent=this.valueObjectsFactory.makePercentFee(n.stripeFee.percent),this.fixedFee=this.valueObjectsFactory.makeFixedFee(n.stripeFee.fixed,n.stripeFee.currency)}return(0,P.Z)(e,[{key:"getFeeForDashboard",value:function(e,t){var n;return n=this.companyParams.useCustomFee?new vs(this.customFeePercent,this.customFixedFee,this.converter):t.fromVirtualTerminal?new Es(this.stripeFeePercent,this.applicationFeePercent,this.fixedFee,t.paymentMethod,t.cardBrand,this.converter):new Ds(this.stripeFeePercent,this.applicationFeePercent,this.fixedFee,this.companyParams,this.converter),this.feeCalculator.calculate(e,n)}},{key:"getFeeForWidget",value:function(e){var t;return t=this.companyParams.useCustomFee?new vs(this.customFeePercent,this.customFixedFee,this.converter):new Ds(this.stripeFeePercent,this.applicationFeePercent,this.fixedFee,this.companyParams,this.converter),this.feeCalculator.calculate(e,t)}},{key:"getFeeForVirtualTerminal",value:function(e,t){var n;return n=this.companyParams.useCustomFee?new vs(this.customFeePercent,this.customFixedFee,this.converter):new Es(this.stripeFeePercent,this.applicationFeePercent,this.fixedFee,t.paymentMethod,t.cardBrand,this.converter),this.feeCalculator.calculate(e,n)}}]),e}(),ws=function(){function e(t){(0,k.Z)(this,e),this.converter=t}return(0,P.Z)(e,[{key:"makeFixedFee",value:function(e,t){return new ps(e,this.makeCurrency(t))}},{key:"makeAmount",value:function(e,t){return new ms(e,this.makeCurrency(t))}},{key:"makePercentFee",value:function(e){return new Ps(e)}},{key:"makeCurrency",value:function(e){return new ys(e,this.converter.getDigits(e))}}]),e}(),As=function(){function e(t){(0,k.Z)(this,e),this.converter=t,this.valueObjectsFactory=new ws(t)}return(0,P.Z)(e,[{key:"calculate",value:function(e,t){var n=this.valueObjectsFactory.makeAmount(e.amount,e.currency);return this.roundFee(t.getFeeValue(n))}},{key:"roundFee",value:function(e){return e<500&&(e=10*Math.ceil(e/10)),e>500&&(e=100*Math.ceil(e/100)),e}}]),e}(),Cs=function(){function e(){(0,k.Z)(this,e),this.schema=new Ri({applicationFeePercent:{type:Number,required:!0},customFeePercent:{type:Number,required:!0},customFixedFee:{type:Number,required:!0},stripeFee:{percent:{type:Number,required:!0},fixed:{type:Number,required:!0},currency:{type:String,required:!0}},companyParams:{defaultCurrency:{type:String,required:!0},country:{type:String,required:!0},useCustomFee:{type:Boolean,required:!0}}})}return(0,P.Z)(e,[{key:"validate",value:function(e){var t=this.schema.validate(e,{typecast:!1});if(t.length){var n=B()(t).call(t,(function(e){var t;return H()(t="".concat(e.path," ")).call(t,e.message)})).join("\n");throw new Error(n)}}}]),e}(),Ns=function(){function e(t,n){(0,k.Z)(this,e),this.resolvedCheckoutData=t,this.feeCalculator=n,this.isCovered=this.isFeeCoveredByDefault}return(0,P.Z)(e,[{key:"getFee",value:function(e,t){return this.feeCalculator.getFeeForWidget({amount:e,currency:t})}},{key:"includeFees",get:function(){return this.resolvedCheckoutData.campaign().includeFees}},{key:"isFeeCoveredByDefault",get:function(){var e;return st()(e=[y.__.DEFAULT_YES,y.__.ONLY_YES]).call(e,this.includeFees)}},{key:"getTotal",value:function(e,t){return this.isCovered?e+this.getFee(e,t):e}},{key:"getProcessingFee",value:function(e,t){return this.isCovered?this.getFee(e,t):0}}]),e}(),Os=Ns;var _s,Ts=(0,P.Z)((function e(){(0,k.Z)(this,e),this.MIN_LENGTH=2,this.MAX_LENGTH=So.pK.MAX})),Rs=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).MIN_LENGTH=So.pK.MIN,e}return(0,P.Z)(i)}(Ts);Rs.LOCALES=[Qn.c0.ZH_TW,Qn.c0.ZH_CN,Qn.c0.JA,Qn.c0.KO],function(e){e[e.PERSONAL_INFORMATION=1]="PERSONAL_INFORMATION"}(_s||(_s={}));var Is=function(){function e(t){(0,k.Z)(this,e),this.personalInformation=e.resolveSetting(_s.PERSONAL_INFORMATION,t)}return(0,P.Z)(e,null,[{key:"resolveSetting",value:function(e,t){if(e===_s.PERSONAL_INFORMATION)return function(e){var t;return st()(t=Rs.LOCALES).call(t,e.localeCode)?new Rs:new Ts}(t);throw new Error("Unknown setting ".concat(e))}}]),e}(),xs=function(){function e(t,n,r,i,a,o,s,u){(0,k.Z)(this,e),this.resolvedCheckoutData=t,this.currencyService=n,this.suggestionsService=r,this.intl=i,this.subscriptionPeriodLabelsService=a,this.userSession=o,this.sessionService=s,this.flowType=u}return(0,P.Z)(e,[{key:"transactionCosts",get:function(){return this._transactionCosts||(this._transactionCosts=this.createTransactionCosts()),this._transactionCosts}},{key:"preDonationUpsellService",get:function(){return this.createPreDonationUpsellService()}},{key:"doubleTheDonationAPI",get:function(){return this.createDoubleTheDonationAPI()}},{key:"paymentMethodAvailabilityManagerRepository",get:function(){return this.createPaymentMethodAvailabilityManagerRepository()}},{key:"postDonationUpsellServiceConstructor",get:function(){return this.createPostDonationUpsellServiceConstructor()}},{key:"create",value:function(t){return(0,m.mG)(this,void 0,void 0,f().mark((function n(){var r,i;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getDataPoint(t);case 2:if(r=n.sent,i=new Is({localeCode:this.intl.locale}),!(e.isFiatDonationDataPoint(r,t)||e.isCryptoDonationDataPoint(r,t)||e.isStockDonationDataPoint(r,t))){n.next=6;break}return n.abrupt("return",us({resolvedCheckoutData:this.resolvedCheckoutData,currencyService:this.currencyService,suggestionsService:this.suggestionsService,subscriptionPeriodLabelsService:this.subscriptionPeriodLabelsService,sessionService:this.sessionService,userSession:this.userSession,intl:this.intl,flowType:this.flowType,transactionCosts:this.transactionCosts}));case 6:if(!e.isPreDonationUpsellDataPoint(r,t)){n.next=8;break}return n.abrupt("return",new r(this.resolvedCheckoutData,this.preDonationUpsellService));case 8:if(!e.isPostDonationUpsellDataPoint(r,t)){n.next=10;break}return n.abrupt("return",new r(this.resolvedCheckoutData,this.postDonationUpsellServiceConstructor));case 10:if(!e.isPaymentOptionsDataPoint(r,t)){n.next=12;break}return n.abrupt("return",new r(this.resolvedCheckoutData,this.paymentMethodAvailabilityManagerRepository));case 12:if(!e.isDTDDataPoint(r,t)){n.next=14;break}return n.abrupt("return",new r(this.resolvedCheckoutData,this.currencyService,this.doubleTheDonationAPI,this.transactionCosts));case 14:if(!e.isPaypalConversionDataPoint(r,t)){n.next=16;break}return n.abrupt("return",new r(this.resolvedCheckoutData,this.currencyService));case 16:if(!e.isBrokerDataPoint(r,t)){n.next=18;break}return n.abrupt("return",new r(this.resolvedCheckoutData,new as(this.sessionService)));case 18:if(!e.isSecuritiesDataPoint(r,t)){n.next=20;break}return n.abrupt("return",new r(this.resolvedCheckoutData,new hs(this.sessionService,this.resolvedCheckoutData.infrastructureParams.livemode)));case 20:if(!e.isPersonalInformationDataPoint(r,t)&&!e.isCoOwnerDataPoint(r,t)){n.next=22;break}return n.abrupt("return",new r(this.resolvedCheckoutData,i.personalInformation));case 22:return n.abrupt("return",new r(this.resolvedCheckoutData));case 23:case"end":return n.stop()}}),n,this)})))}},{key:"getDataPoint",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,cs[e];case 2:return n=t.sent,r=n.default,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))}},{key:"createTransactionCosts",value:function(){return e={resolvedCheckoutData:this.resolvedCheckoutData,currencyService:this.currencyService},r=e.resolvedCheckoutData,i=e.currencyService,t=r.company(),n=i,a=new bs(new Cs,{customFixedFee:t.coverFees.amount,customFeePercent:t.coverFees.percent,applicationFeePercent:t.applicationFees.money,stripeFee:t.stripeFee,companyParams:{country:t.country||"US",defaultCurrency:t.defaultCurrency,useCustomFee:t.coverFees.custom}},new As(n)),new Os(r,a);var e,t,n,r,i,a}},{key:"createDoubleTheDonationAPI",value:function(){return new ls(this.sessionService)}},{key:"createPreDonationUpsellService",value:function(){return new rs(this.currencyService,this.suggestionsService)}},{key:"createPaymentMethodAvailabilityManagerRepository",value:function(){return Fi({intlService:this.intl,subscriptionPeriodLabelsService:this.subscriptionPeriodLabelsService})}},{key:"createPostDonationUpsellServiceConstructor",value:function(){var e=this,t=ns.getConstructor(this.resolvedCheckoutData.infrastructureParams.showcase);return function(n){return t({amount:n.amount,minAmount:n.minAmount,currency:n.currency,timestamp:n.timestamp,suggestionsService:e.suggestionsService,currencyService:e.currencyService})}}}],[{key:"isPersonalInformationDataPoint",value:function(e,t){return t===dn.W_.PERSONAL_INFORMATION}},{key:"isFiatDonationDataPoint",value:function(e,t){return t===cn.t.DONATION}},{key:"isCryptoDonationDataPoint",value:function(e,t){return t===fn.p.DONATION}},{key:"isStockDonationDataPoint",value:function(e,t){return t===Pn.v.DONATION}},{key:"isCoOwnerDataPoint",value:function(e,t){return t===Pn.v.CO_OWNER}},{key:"isPreDonationUpsellDataPoint",value:function(e,t){return t===cn.t.PRE_DONATION_UPSELL}},{key:"isPostDonationUpsellDataPoint",value:function(e,t){return t===cn.t.POST_DONATION_UPSELL}},{key:"isPaymentOptionsDataPoint",value:function(e,t){return t===cn.t.PAYMENT_OPTIONS}},{key:"isDTDDataPoint",value:function(e,t){return t===cn.t.DTD}},{key:"isPaypalConversionDataPoint",value:function(e,t){return t===cn.t.PAYPAL_CONVERSION}},{key:"isBrokerDataPoint",value:function(e,t){return t===Pn.v.BROKER}},{key:"isSecuritiesDataPoint",value:function(e,t){return t===Pn.v.SECURITIES}}]),e}();var Zs=function(){function e(t){(0,k.Z)(this,e),this.dataPointFactory=t,this.dataPoints=new($e())}return(0,P.Z)(e,[{key:"getDataPoint",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==(n=this.dataPoints.get(e))){t.next=5;break}return t.next=4,this.registerDataPoint(e);case 4:n=t.sent;case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"registerDataPoint",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.dataPoints.has(e)){t.next=2;break}throw new Ls(e);case 2:return t.next=4,this.dataPointFactory.create(e);case 4:return n=t.sent,this.dataPoints.set(e,n),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)})))}}]),e}(),Ls=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e){return(0,k.Z)(this,i),r.call(this,'DataPoint "'.concat(e,'" is already exists'))}return(0,P.Z)(i)}((0,me.Z)(Error));function Ms(e,t){var n,r,a;return Se()(n=B()(r=De()(a=i()(e).call(e)).call(a)).call(r,(function(e){return(t-Number(e))/Math.abs(t-Number(e))||0}))).call(n,(function(e,t){return e+t}),e.length)}var Fs=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e){var t;return(0,k.Z)(this,i),(t=r.call(this)).merge({customEventType:e.customEventType,customEventData:Fe()(e.customEventData)}),t}return(0,P.Z)(i,[{key:"eventType",get:function(){return"customEvent"}}]),i}(Ue);var Us=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e,t,n,a,o){var s;return(0,k.Z)(this,i),(s=r.call(this,e,t)).merge({checkoutScreen:n,chargeKey:a.chargeKey,chargeInUSDAmount:a.chargeInUSDAmount,chargeInDefaultCurrencyAmount:a.chargeInDefaultCurrencyAmount,chargeAmount:a.chargeAmount,chargeCurrency:a.chargeCurrency,chargeFeeCovered:a.chargeFeeCovered?1:0,chargePaymentMethod:a.chargePaymentMethod,chargeIsRecurring:a.chargeIsRecurring?1:0,chargeHasComment:a.chargeHasComment?1:0,chargeHasTribute:a.chargeHasTribute?1:0,chargeGoal:a.chargeGoal,chargeCampaignKey:a.chargeCampaignKey,duration:o}),s}return(0,P.Z)(i,[{key:"eventType",get:function(){return"checkoutCharge"}}]),i}(Ha);var Bs=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e,t,n,a,o,s){var u;return(0,k.Z)(this,i),(u=r.call(this,e,t)).merge({checkoutScreen:n,checkoutError:a,chargePaymentMethod:o,duration:s}),u}return(0,P.Z)(i,[{key:"eventType",get:function(){return"checkoutError"}}]),i}(Ha),Gs=n(66429);function Hs(e){return e.isSkipped?{name:null}:e.employer.name?{name:e.employer.name}:void 0}function Ks(e){var t;return e.isSkipped?{}:(null===(t=e.employerDTD)||void 0===t?void 0:t.companyName)?{id:e.employerDTD.id,company_name:e.employer.name,minimumMatchedAmount:e.employerDTD.minimumMatchedAmount,ratio:e.employerDTD.ratio}:void 0}function Vs(e){return{currency:e.upsell.currency,fromAmount:e.upsell.fromAmount,matchingFromAmount:e.upsell.matchingFromAmount,matchingPromisedAmount:e.upsell.matchingPromisedAmount,matchingRatio:e.upsell.matchingRatio,minimumMatchedAmount:e.upsell.minimumMatchedAmount,proposedAmount:e.upsell.proposedAmount,proposedAmountBeforeFeeCovered:e.upsell.proposedAmountBeforeFeeCovered,showed:e.upsell.showed,visible:e.upsell.visible,used:e.upsell.isAccepted}}var Ys=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).shouldFindMandatoryScreen=!1,e}return(0,P.Z)(i,[{key:"alwaysRenderedScreens",get:function(){return[cn.e.CREDIT_CARD,cn.e.AU_BECS,cn.e.SEPA]}},{key:"screensWithoutTributeBadge",get:function(){var e;return H()(e=[]).call(e,(0,Un.Z)((0,et.Z)((0,ce.Z)(i.prototype),"screensWithoutTributeBadge",this)),[cn.e.DONATE,dn.nn.REMIND_ME])}},{key:"mobileScreensWithAskText",get:function(){var e;return H()(e=[]).call(e,(0,Un.Z)((0,et.Z)((0,ce.Z)(i.prototype),"mobileScreensWithAskText",this)),[cn.e.DONATE])}},{key:"screensWithoutAskOverlay",get:function(){var e;return H()(e=[]).call(e,(0,Un.Z)((0,et.Z)((0,ce.Z)(i.prototype),"screensWithoutAskOverlay",this)),[cn.e.DONATE])}},{key:"hasPaymentError",value:function(e){return this.getState().paymentErrors[e]}},{key:"isReadyToRetryPay",get:function(){return this.getState().isReadyToRetryPay}},{key:"getState",value:function(){return this.checkoutState.get()}},{key:"dispose",value:function(){return this.paymentFlowManager.destroy()}},{key:"hold",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.resolvedCheckoutData.infrastructureParams.showcase){e.next=2;break}return e.abrupt("return",_t.H.fail({}));case 2:return e.next=4,this.getDataPoint(cn.t.PAYMENT_OPTIONS);case 4:return t=e.sent,n=t.clientPaymentMethod,e.next=8,this.resolvePaymentFlow(n);case 8:return r=e.sent,e.prev=9,e.next=12,this.updateSession();case 12:return e.next=14,r.hold();case 14:i=e.sent,e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(9),e.abrupt("return",_t.H.fail({shouldLeave:!1}));case 20:if(!_t.H.isFailure(i)){e.next=23;break}return this.payErrorMessage=i.failureResult.message,e.abrupt("return",_t.H.fail({shouldLeave:!1}));case 23:return e.abrupt("return",_t.H.success(void 0));case 24:case"end":return e.stop()}}),e,this,[[9,17]])})))}},{key:"pay",value:function(e){var t=e.screen;return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var n,r,i,a,o,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.resolvedCheckoutData.infrastructureParams.showcase){e.next=2;break}return e.abrupt("return",_t.H.fail({}));case 2:return this.setPaymentError(fe.GZ.CARD,!1),this.setPaymentError(fe.GZ.UK_BACS,!1),this.setMailingAddressError(!1),this.payErrorMessage=void 0,this.additionalPayErrorMessage=void 0,this.setPaymentAttempt(),e.next=10,this.getDataPoint(cn.t.PAYMENT_OPTIONS);case 10:return n=e.sent,r=n.clientPaymentMethod,e.next=14,this.resolvePaymentFlow(r);case 14:return i=e.sent,a=V()(),e.next=18,this.updateSession();case 18:return e.prev=18,e.next=21,i.pay();case 21:o=e.sent,e.next=33;break;case 24:return e.prev=24,e.t0=e.catch(18),this.shouldFindMandatoryScreen=!0,this.payErrorMessage=this.intl.translate("common.errorOccurredText"),this.capturePayErrorToSentry(e.t0),s=this.payErrorMessage||(r===fe.GZ.CARD?this.intl.translate("payButton.cardErrorTitle"):""),e.next=32,this.trackError(s,a-V()(),t);case 32:return e.abrupt("return",_t.H.fail({shouldLeave:this.hasPaymentError(fe.GZ.CARD)}));case 33:if(!_t.H.isFailure(o)){e.next=41;break}return this.shouldFindMandatoryScreen=!0,this.payErrorMessage=o.failureResult.message,this.additionalPayErrorMessage=o.failureResult.additionalMessage,u=this.payErrorMessage||(r===fe.GZ.CARD?this.intl.translate("payButton.cardErrorTitle"):""),e.next=40,this.trackError(u,a-V()(),t);case 40:return e.abrupt("return",_t.H.fail({shouldLeave:o.failureResult.shouldLeave}));case 41:return o.successResult.data.tributeDonorPortalLink&&this.checkoutState.setTributeDonorPortalLink(o.successResult.data.tributeDonorPortalLink),e.next=44,this.trackEventCharge(o.successResult.data.donationId,r||fe.GZ.CARD,a-V()(),t);case 44:return this.checkoutState.setDonationResultState({donationId:o.successResult.data.donationId,customerId:o.successResult.data.customerId}),this.handleDonationCompleted(),e.abrupt("return",_t.H.success(void 0));case 47:case"end":return e.stop()}}),e,this,[[18,24]])})))}},{key:"getPublicCheckoutDonationParams",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataPoint(cn.t.PAYMENT_OPTIONS);case 2:return t=e.sent,e.abrupt("return",this.getCommonPublicCheckoutDonationParams({clientPaymentMethod:t.clientPaymentMethod,payResult:this.checkoutState.get().donationResultState}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"saveCheckoutClosePublicParams",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a,o,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.getDataPoint(dn.W_.DESIGNATION),this.getDataPoint(dn.W_.REMIND_ME_LATER)]);case 2:return t=e.sent,n=(0,tt.Z)(t,2),r=n[0],i=n[1],a=r.toObject(),o=i.toObject(),e.next=10,this.getPublicCheckoutDonationParams();case 10:return s=e.sent,e.next=13,this.getCommonPublicCheckoutIntentParams();case 13:(u=e.sent)&&(u.checkoutSettings.modifyDesignation=r.modifyDesignation,u.checkoutSettings.designation=a.goalKey,u.isSavedEmailOnExit=!!o.email),this.checkoutAPIBridge.setDonationParams(s),this.checkoutAPIBridge.setIntentParams(u);case 17:case"end":return e.stop()}}),e,this)})))}},{key:"getAnalyticsEventPayload",value:function(){var e;return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,i,a,o,s,u,c,l,h;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nt().all([this.getDataPoint(cn.t.DONATION),this.getDataPoint(dn.W_.PERSONAL_INFORMATION),this.getDataPoint(cn.t.PAYMENT_OPTIONS),this.getDataPoint(dn.W_.DESIGNATION)]);case 2:return n=t.sent,r=(0,tt.Z)(n,4),i=r[0],a=r[1],o=r[2],s=r[3],u=i.toObject(),c=a.toObject(),l=o.toObject(),h=s.toObject(),t.abrupt("return",{amount:u.amount,total:u.total,currency:u.currency,_goal:h.goalKey||"",repeat:j()(u),includeFees:u.isFeeIncluded,method:l.clientPaymentMethod,email:c.email,donationId:null===(e=this.checkoutState.get().donationResultState)||void 0===e?void 0:e.donationId,sessionId:this.tracker.checkoutViewId,amountOptions:{once:i.getAmountOptions(fe.oe.ONCE),monthly:i.getAmountOptions(fe.oe.MONTHLY)},defaultAmount:{once:i.getDefaultAmountsInCurrency(fe.oe.ONCE),monthly:i.getDefaultAmountsInCurrency(fe.oe.MONTHLY)}});case 13:case"end":return t.stop()}}),t,this)})))}},{key:"customerPrivacyValid",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.checkoutAPIBridge.emitCustomerPrivacyValid();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"trackError",value:function(e,t,n){return(0,m.mG)(this,void 0,void 0,f().mark((function r(){var i,a,o,s;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getDataPoint(cn.t.PAYMENT_OPTIONS);case 2:return i=r.sent,r.next=5,this.getDataPoint(cn.t.DONATION);case 5:a=r.sent,o=this.resolvedCheckoutData.elementData,s=this.campaignConfig.amountOptions,this.tracker.track(new Bs({repeat:j()(a),currency:a.currency,amount:a.amount||0,amountOptions:s},o,n,e,i.clientPaymentMethod||fe.GZ.CARD,t));case 9:case"end":return r.stop()}}),r,this)})))}},{key:"trackCurrencyChange",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.tracker.track(new Fs({customEventType:"selectCurrency",customEventData:{currency:e}}));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"trackEventCharge",value:function(e,t,n,r){return(0,m.mG)(this,void 0,void 0,f().mark((function i(){var a,o,s,u,c,l,h,d,m;return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Nt().all([this.getDataPoint(cn.t.DONATION),this.getDataPoint(dn.W_.TRIBUTE),this.getDataPoint(dn.W_.COMMENT),this.getDataPoint(dn.W_.DESIGNATION)]);case 2:a=i.sent,o=(0,tt.Z)(a,4),s=o[0],u=o[1],c=o[2],l=o[3],h=this.resolvedCheckoutData.campaignSettings(),d=this.resolvedCheckoutData.elementData,m=this.campaignConfig.amountOptions,this.tracker.track(new Us({repeat:j()(s),currency:s.currency,amount:s.amount||0,amountOptions:m},d,r,{chargeKey:e,chargeInUSDAmount:s.totalInUSD||0,chargeInDefaultCurrencyAmount:s.totalInDefaultCurrency,chargeAmount:s.total,chargeCurrency:s.currency,chargeFeeCovered:s.isFeeCovered,chargePaymentMethod:t,chargeIsRecurring:j()(s)!==fe.oe.ONCE,chargeHasComment:Boolean(c.comment),chargeHasTribute:Boolean(u.isEnabled&&u.type&&u.tributeeName),chargeGoal:l.goalKey||void 0,chargeCampaignKey:h.key},n));case 12:case"end":return i.stop()}}),i,this)})))}},{key:"paymentScreenName",get:function(){return this.paymentScreen.get()}},{key:"trackCheckoutView",value:function(){var e,t;return(0,m.mG)(this,void 0,void 0,f().mark((function n(){var r,i,a,o,s,u,c;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getDataPoint(cn.t.DONATION);case 2:r=n.sent,i=r.toObject(),a=this.resolvedCheckoutData.elementData,o=(0,v.Z)({},j()(i),i.amountOptions),s=this.resolvedCheckoutData.getExternalConfig(),u=Boolean((null===(e=s.launcher)||void 0===e?void 0:e.elementKey)&&(null===(t=s.checkoutData)||void 0===t?void 0:t.amount)),c=V()()-this.tracker.checkoutOpenTimestamp,this.debug.log("checkout opening time:eventCheckoutView","".concat(c," ms")),this.tracker.track(new qa({repeat:j()(i),currency:i.currency,amount:i.amount,amountOptions:o},a,c,Fe()({isAmountFromElement:u})));case 11:case"end":return n.stop()}}),n,this)})))}},{key:"trackCheckoutClose",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,i,a;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,Gs.ej)(e),t.next=3,this.getDataPoint(cn.t.DONATION);case 3:n=t.sent,r=n.toObject(),i=this.resolvedCheckoutData.elementData,a=this.campaignConfig.amountOptions,this.tracker.track(new Ka({repeat:j()(r),currency:r.currency,amount:r.amount,amountOptions:a},i,e));case 8:case"end":return t.stop()}}),t,this)})))}},{key:"trackCheckoutScreenView",value:function(e,t){return(0,m.mG)(this,void 0,void 0,f().mark((function n(){var r,i,a,o,s,u,c,l,h,d;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(0,Gs.ej)(e),n.next=3,this.getDataPoint(cn.t.DONATION);case 3:return r=n.sent,i=r.toObject(),n.next=7,this.getDataPoint(dn.W_.TRIBUTE);case 7:return a=n.sent,o=a.toObject(),n.next=11,this.getDataPoint(cn.t.PAYMENT_OPTIONS);case 11:s=n.sent,u=bt()(s.allowedPaymentMethods),c=he()(u).call(u,(function(e){var t;return!st()(t=[fe.GZ.STOCK,fe.GZ.CRYPTO]).call(t,e)&&s.allowedPaymentMethods[e].available&&s.allowedPaymentMethods[e].show})),l=this.resolvedCheckoutData.elementData,h=this.campaignConfig.amountOptions,d={paymentMethods:c},t&&(d.transitionDuration=(new Date).getTime()-t.getTime()),this.tracker.track(new Va({repeat:j()(i),currency:i.currency,amount:i.amount,amountOptions:h},l,no(e,o.isActive),Fe()(d)));case 19:case"end":return n.stop()}}),n,this)})))}},{key:"updateSession",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h,d,m,p,v,y,g,k,P,S,E,D,b,w,A,C,N,O,_,T,R,I,x,Z,L,M,F,U,B;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.resolvedCheckoutData.infrastructureParams.showcase){e.next=2;break}return e.abrupt("return",_t.H.success({}));case 2:return e.next=4,Nt().all([this.getDataPoint(cn.t.DONATION),this.getDataPoint(dn.W_.COMMENT),this.getDataPoint(dn.W_.TRIBUTE),this.getDataPoint(dn.W_.QUESTIONS),this.getDataPoint(dn.W_.PERSONAL_INFORMATION),this.getDataPoint(cn.t.GIFT_AID),this.getDataPoint(cn.t.PRE_DONATION_UPSELL),this.getDataPoint(dn.W_.DONATE_ANONYMOUS),this.getDataPoint(dn.W_.PHONE_NUMBER),this.getDataPoint(dn.W_.MAILING_LIST_SUBSCRIPTION),this.getDataPoint(cn.t.POST_DONATION_UPSELL),this.getDataPoint(dn.W_.TERMS_AND_CONDITIONS),this.getDataPoint(dn.W_.ON_BEHALF_OF),this.getDataPoint(cn.t.DTD),this.getDataPoint(dn.W_.REMIND_ME_LATER),this.getDataPoint(dn.W_.CUSTOMER_TITLE),this.getDataPoint(cn.t.PAYPAL_CONVERSION),this.getDataPoint(dn.W_.DESIGNATION)]);case 4:return t=e.sent,n=(0,tt.Z)(t,18),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],d=n[9],m=n[10],p=n[11],v=n[12],y=n[13],g=n[14],k=n[15],P=n[16],S=n[17],E=r.toObject(),D=i.toObject(),b=a.toObject(),w=o.toObject(),A=s.toObject(),C=u.toObject(),N=c.toObject(),O=l.toObject(),_=h.toObject(),T=d.toObject(),R=m.toObject(),I=p.toObject(),x=v.toObject(),Z=y.toObject(),L=g.toObject(),M=k.toObject(),F=P.toObject(),U=S.toObject(),B=this.campaignConfig.amountOptions,e.abrupt("return",this.sessionService.update({donationType:fe.Cl.MONEY,comment:D.comment,tribute:b.inHonorOf&&a.isActive?{labelType:b.labelType,type:b.type,inHonorOf:b.inHonorOf}:null,questions:w.questions,customer:{firstName:A.firstName,lastName:A.lastName,title:M.title,email:A.email,phone:_.phone,onBehalfOf:x.companyName,subscriptionChecked:T.checked,anonymousChecked:O.anonymousChecked,termsChecked:I.isAccepted},donation:{amount:E.amount,total:E.total,publicFee:E.publicFee,currency:E.currency,repeat:j()(E),repeatLegacy:E.repeatLegacy,includeFees:E.isFeeIncluded,goalKey:U.goalKey,goalName:U.goalName,widgetDefaults:{amount:this.campaignConfig.defaultAmount,amountOptions:B,repeat:j()(E),currency:E.currency,includeFees:E.isFeeIncluded,relations:{amount:Ms([this.campaignConfig.defaultAmount[E.repeatLegacy||j()(E)]||0],E.amount||0),amountOptions:Ms(B[E.repeatLegacy||j()(E)],E.amount||0)}},paypalCurrencyChanged:F.isCurrencyConversionApplied,giftAid:{shown:C.isShown,claimed:C.isAccepted},upsell:{currency:N.currency,fromAmount:N.fromAmount,showed:N.showed,used:N.used},employerUpsell:Vs(Z)},employer:Hs(Z),employerDTD:Ks(Z),postDonationUpsell:{period:R.period,firstChargeAt:R.firstChargeAt,fromAmount:R.fromAmount,showed:R.showed,currency:R.currency,recurringAmount:R.recurring.amount,recurringTip:R.recurring.tip,recurringTotal:R.recurring.total,used:R.isAccepted},emailOnExit:{email:L.email}}));case 44:case"end":return e.stop()}}),e,this)})))}},{key:"resolvePaymentFlow",value:function(e){var t,n,r,i;return(0,m.mG)(this,void 0,void 0,f().mark((function a(){var o,s,u,c,l,h,d,m,p,v,y=this;return f().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e){a.next=2;break}throw new Error("Client payment method is not specified");case 2:return o=this.resolvedCheckoutData.company(),s=this.resolvedCheckoutData.user(),a.next=6,Nt().all([this.getDataPoint(cn.t.PAYMENT_OPTIONS),this.getDataPoint(dn.W_.PERSONAL_INFORMATION),this.getDataPoint(cn.t.DONATION),this.getDataPoint(dn.W_.MAILING_ADDRESS),this.getDataPoint(cn.t.UK_BACS),this.getDataPoint(cn.t.ACH)]);case 6:u=a.sent,c=(0,tt.Z)(u,6),l=c[0],h=c[1],d=c[2],m=c[3],p=c[4],v=c[5],a.t0=e,a.next=a.t0===fe.GZ.CARD?17:a.t0===fe.GZ.CLICK_TO_PAY?28:a.t0===fe.GZ.PAYPAL||a.t0===fe.GZ.PAYPAL_AGREEMENT?41:a.t0===fe.GZ.GOOGLE_PAY?42:a.t0===fe.GZ.UK_BACS?59:a.t0===fe.GZ.APPLE_PAY?72:a.t0===fe.GZ.ACSS?73:a.t0===fe.GZ.AU_BECS?81:a.t0===fe.GZ.SEPA?92:a.t0===fe.GZ.ACH?107:a.t0===fe.GZ.VENMO?115:a.t0===fe.GZ.PLAID?116:117;break;case 17:return a.t1=this.paymentFlowManager,a.t2=this.sessionService,a.next=21,this.stripeLoadingPromise;case 21:return a.t3=a.sent,a.next=24,this.stripeElementsPromise;case 24:return a.t4=a.sent,a.t5=function(){y.setPaymentError(fe.GZ.CARD,!0)},a.t6={sessionService:a.t2,stripe:a.t3,stripeElements:a.t4,failureHandler:a.t5},a.abrupt("return",a.t1.resolveCard.call(a.t1,a.t6));case 28:return a.t7=this.paymentFlowManager,a.t8=this.resolvedCheckoutData.infrastructureParams.env,a.t9=this.currencyService,a.next=33,this.stripeLoadingPromise;case 33:return a.t10=a.sent,a.t11=this.livemode,a.t12=null===(t=this.intl)||void 0===t?void 0:t.locale,a.t13=o.clickToPayCheckoutId,a.t14=this.sessionService,a.t15=d,a.t16={env:a.t8,currencyService:a.t9,stripe:a.t10,livemode:a.t11,locale:a.t12,clickToPayCheckoutId:a.t13,sessionService:a.t14,donationDataPoint:a.t15},a.abrupt("return",a.t7.resolveClickToPay.call(a.t7,a.t16));case 41:return a.abrupt("return",this.paymentFlowManager.resolvePaypal({sessionService:this.sessionService,locale:null===(n=this.intl)||void 0===n?void 0:n.locale,iframeWindow:this.iframeWindow,paypalClientId:this.paymentMethods.paypalClientId,paypalMerchantId:o.paypal.merchantId,paypalCurrencies:(0,Un.Z)(o.paypalCurrencies),subscriptionsEnabled:o.paypal.subscriptionsEnabled,paymentOptionsDataPoint:l,personalInformationDataPoint:h,donationDataPoint:d,updateSession:function(){return y.updateSession()}}));case 42:return a.t17=this.paymentFlowManager,a.t18=this.sessionService,a.t19=this.livemode,a.t20=this.paymentMethods.stripePublicKey,a.t21=s.address.countryCode,a.t22=this.paymentMethods.googlePayInfo,a.t23=o.stripeAccount,a.t24=o.name,a.t25=this.resolvedCheckoutData.infrastructureParams.env,a.next=53,this.stripeLoadingPromise;case 53:return a.t26=a.sent,a.t27=this.currencyService,a.t28=d,a.t29=l,a.t30={sessionService:a.t18,livemode:a.t19,stripePublicKey:a.t20,countryCode:a.t21,googlePayInfo:a.t22,stripeAccount:a.t23,companyName:a.t24,env:a.t25,stripe:a.t26,currencyService:a.t27,donationDataPoint:a.t28,paymentOptionsDataPoint:a.t29},a.abrupt("return",a.t17.resolveGooglePay.call(a.t17,a.t30));case 59:return a.t31=this.paymentFlowManager,a.t32=this.sessionService,a.next=63,this.stripeLoadingPromise;case 63:return a.t33=a.sent,a.t34=h,a.t35=m,a.t36=p,a.t37=function(){y.setMailingAddressError(!0)},a.t38=function(){y.setPaymentError(fe.GZ.UK_BACS,!0)},a.t39=function(e){y.checkoutState.makeMailingAddressMetaSnapshot(e)},a.t40={sessionService:a.t32,stripe:a.t33,personalInformationDataPoint:a.t34,mailingAddressDataPoint:a.t35,ukBacsDataPoint:a.t36,mailingAddressFailureHandler:a.t37,ukBacsFailureHandler:a.t38,makeMailingAddressMetaSnapshot:a.t39},a.abrupt("return",a.t31.resolveUkBacs.call(a.t31,a.t40));case 72:return a.abrupt("return",this.paymentFlowManager.resolveApplePay({sessionService:this.sessionService,companyName:o.name,applePayStripeLoadingPromise:this.applePayStripeLoadingPromise,donationDataPoint:d,paymentOptionsDataPoint:l}));case 73:return a.t41=this.paymentFlowManager,a.t42=this.sessionService,a.next=77,this.stripeLoadingPromise;case 77:return a.t43=a.sent,a.t44=l,a.t45={sessionService:a.t42,stripe:a.t43,paymentOptionsDataPoint:a.t44},a.abrupt("return",a.t41.resolveACSS.call(a.t41,a.t45));case 81:return a.t46=this.paymentFlowManager,a.t47=this.sessionService,a.next=85,this.stripeLoadingPromise;case 85:return a.t48=a.sent,a.next=88,this.stripeElementsPromise;case 88:return a.t49=a.sent,a.t50=h,a.t51={sessionService:a.t47,stripe:a.t48,stripeElements:a.t49,personalInformationDataPoint:a.t50},a.abrupt("return",a.t46.resolveAuBECS.call(a.t46,a.t51));case 92:return a.t52=this.paymentFlowManager,a.t53=this.sessionService,a.next=96,this.stripeLoadingPromise;case 96:return a.t54=a.sent,a.next=99,this.stripeElementsPromise;case 99:return a.t55=a.sent,a.t56=h,a.t57=m,a.t58=this.resolvedCheckoutData,a.t59=function(){y.setMailingAddressError(!0)},a.t60=function(e){y.checkoutState.makeMailingAddressMetaSnapshot(e)},a.t61={sessionService:a.t53,stripe:a.t54,stripeElements:a.t55,personalInformationDataPoint:a.t56,mailingAddressDataPoint:a.t57,resolvedCheckoutData:a.t58,mailingAddressFailureHandler:a.t59,makeMailingAddressMetaSnapshot:a.t60},a.abrupt("return",a.t52.resolveSepa.call(a.t52,a.t61));case 107:return a.t62=this.paymentFlowManager,a.t63=this.sessionService,a.next=111,this.stripeLoadingPromise;case 111:return a.t64=a.sent,a.t65=v,a.t66={sessionService:a.t63,stripe:a.t64,achDataPoint:a.t65},a.abrupt("return",a.t62.resolveACH.call(a.t62,a.t66));case 115:return a.abrupt("return",this.paymentFlowManager.resolveVenmo({sessionService:this.sessionService,livemode:this.livemode,showcase:this.resolvedCheckoutData.infrastructureParams.showcase,locale:null===(r=this.intl)||void 0===r?void 0:r.locale,iframeWindow:this.iframeWindow,paypalClientId:this.paymentMethods.paypalClientId,paypalMerchantId:o.paypal.merchantId,paymentOptionsDataPoint:l,personalInformationDataPoint:h,updateSession:function(){return y.updateSession()}}));case 116:return a.abrupt("return",this.paymentFlowManager.resolvePlaid({sessionService:this.sessionService,iframeWindow:this.iframeWindow,language:null===(i=this.intl)||void 0===i?void 0:i.language,showcase:this.resolvedCheckoutData.infrastructureParams.showcase}));case 117:throw new Error("Payment flow for ".concat(e," is not implemented"));case 118:case"end":return a.stop()}}),a,this)})))}},{key:"initiatePaypal",value:function(e,t){return(0,m.mG)(this,void 0,void 0,f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.resolvePaymentFlow(fe.GZ.PAYPAL);case 2:return r=n.sent,n.next=5,this.updateSession();case 5:return n.abrupt("return",r.initiateFlow({element:e,holdDone:t}));case 6:case"end":return n.stop()}}),n,this)})))}},{key:"initiateClickToPay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resolvePaymentFlow(fe.GZ.CLICK_TO_PAY);case 2:return t=e.sent,e.abrupt("return",t.initiateFlow());case 4:case"end":return e.stop()}}),e,this)})))}},{key:"startClickToPay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resolvePaymentFlow(fe.GZ.CLICK_TO_PAY);case 2:return t=e.sent,e.next=5,t.startFlow();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"destroyClickToPay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resolvePaymentFlow(fe.GZ.CLICK_TO_PAY);case 2:return t=e.sent,e.next=5,t.destroy();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"initiateGooglePay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resolvePaymentFlow(fe.GZ.GOOGLE_PAY);case 2:return t=e.sent,e.next=5,t.initiateFlow();case 5:return e.next=7,this.checkGooglePay();case 7:case"end":return e.stop()}}),e,this)})))}},{key:"checkGooglePay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resolvePaymentFlow(fe.GZ.GOOGLE_PAY);case 2:return t=e.sent,e.next=5,t.checkAvailability();case 5:if(!e.sent){e.next=11;break}return e.next=9,this.getDataPoint(cn.t.PAYMENT_OPTIONS);case 9:e.sent.canGooglePay=!0;case 11:case"end":return e.stop()}}),e,this)})))}},{key:"initiateApplePay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkApplePay();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"checkApplePay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resolvePaymentFlow(fe.GZ.APPLE_PAY);case 2:return t=e.sent,e.next=5,t.checkAvailability();case 5:if(!e.sent){e.next=11;break}return e.next=9,this.getDataPoint(cn.t.PAYMENT_OPTIONS);case 9:e.sent.canApplePay=!0;case 11:case"end":return e.stop()}}),e,this)})))}},{key:"startGooglePay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resolvePaymentFlow(fe.GZ.GOOGLE_PAY);case 2:return t=e.sent,e.abrupt("return",t.startFlow());case 4:case"end":return e.stop()}}),e,this)})))}},{key:"startApplePay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resolvePaymentFlow(fe.GZ.APPLE_PAY);case 2:return t=e.sent,e.abrupt("return",t.startFlow());case 4:case"end":return e.stop()}}),e,this)})))}},{key:"startAuBECSFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resolvePaymentFlow(fe.GZ.AU_BECS);case 2:return t=e.sent,e.next=5,t.startFlow();case 5:return n=e.sent,e.abrupt("return",_t.H.isSuccess(n));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"initiateSepa",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.resolvePaymentFlow(fe.GZ.SEPA);case 2:return n=t.sent,t.next=5,n.initiateFlow(e);case 5:return t.next=7,this.stripeElementsPromise;case 7:return t.t0=t.sent,t.abrupt("return",{stripeElements:t.t0});case 9:case"end":return t.stop()}}),t,this)})))}},{key:"initiateAuBECS",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.resolvePaymentFlow(fe.GZ.AU_BECS);case 2:return n=t.sent,t.next=5,n.initiateFlow(e);case 5:return t.next=7,this.stripeElementsPromise;case 7:return t.t0=t.sent,t.abrupt("return",{stripeElements:t.t0});case 9:case"end":return t.stop()}}),t,this)})))}},{key:"initiateCreditCard",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.resolvePaymentFlow(fe.GZ.CARD);case 2:return n=t.sent,t.next=5,n.initiateFlow(e);case 5:return t.next=7,this.stripeElementsPromise;case 7:return t.t0=t.sent,t.abrupt("return",{stripeElements:t.t0});case 9:case"end":return t.stop()}}),t,this)})))}},{key:"startSepaFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resolvePaymentFlow(fe.GZ.SEPA);case 2:return t=e.sent,e.next=5,t.startFlow();case 5:return n=e.sent,e.abrupt("return",_t.H.isSuccess(n));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"startCreditCardFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resolvePaymentFlow(fe.GZ.CARD);case 2:return t=e.sent,e.next=5,t.startFlow();case 5:return n=e.sent,e.abrupt("return",_t.H.isSuccess(n));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"setPaymentError",value:function(e,t){return this.checkoutState.setPaymentError(e,t)}},{key:"setMailingAddressError",value:function(e){this.checkoutState.hasMailingAddressError=e}},{key:"startACSS",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateSession();case 2:return e.next=4,this.resolvePaymentFlow(fe.GZ.ACSS);case 4:return t=e.sent,e.abrupt("return",t.startFlow());case 6:case"end":return e.stop()}}),e,this)})))}},{key:"startPlaid",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resolvePaymentFlow(fe.GZ.PLAID);case 2:return t=e.sent,e.abrupt("return",t.startFlow());case 4:case"end":return e.stop()}}),e,this)})))}},{key:"initiateVenmo",value:function(e,t){return(0,m.mG)(this,void 0,void 0,f().mark((function n(){var r;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.resolvePaymentFlow(fe.GZ.VENMO);case 2:return r=n.sent,n.next=5,r.initiateFlow({element:e,holdDone:t});case 5:return n.next=7,this.checkVenmo();case 7:case"end":return n.stop()}}),n,this)})))}},{key:"checkVenmo",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resolvePaymentFlow(fe.GZ.VENMO);case 2:if(!e.sent.checkAvailability()){e.next=9;break}return e.next=7,this.getDataPoint(cn.t.PAYMENT_OPTIONS);case 7:e.sent.canVenmo=!0;case 9:case"end":return e.stop()}}),e,this)})))}},{key:"closePaypalButton",value:function(){if(!this.resolvedCheckoutData.infrastructureParams.showcase){var e=this.paymentFlowManager.getPaymentFlow(fe.GZ.PAYPAL);if(!e)throw new Error("Paypal payment flow is not initialized");return e.closePaypal()}}},{key:"togglePaypalActions",value:function(e){var t=this.paymentFlowManager.getPaymentFlow(fe.GZ.PAYPAL);if(t)return t.togglePaypalActions(e)}},{key:"closeVenmoButton",value:function(){var e=this.paymentFlowManager.getPaymentFlow(fe.GZ.VENMO);if(!e)throw new Error("Venmo payment flow is not initialized");return e.closeButton()}},{key:"acceptPostDonationUpsell",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataPoint(cn.t.POST_DONATION_UPSELL);case 2:return t=e.sent,n=t.toObject(),e.abrupt("return",this.sessionService.postDonationUpsell({donation:{total:n.recurring.total,tip:n.recurring.tip,amount:n.recurring.amount,currency:n.currency},goalKey:n.goalKey,firstChargeAt:n.firstChargeAt,period:n.period}));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"saveRemindMeLaterEmail",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateSession();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"restoreMailingAddressFromSnapshot",value:function(e){this.checkoutState.restoreMailingAddressFromSnapshot(e)}},{key:"restorePreDonationUpsellFromSnapshot",value:function(){this.checkoutState.restorePreDonationUpsellFromSnapshot()}},{key:"restoreDTDUpsellFromSnapshot",value:function(){this.checkoutState.restoreDTDUpsellFromSnapshot()}},{key:"setCloseButtonVisibility",value:function(e,t){var n=[cn.e.DONATE,dn.nn.THANK_YOU],r=[cn.e.UPSELL,cn.e.PAYMENT_OPTIONS,dn.nn.COMMENT];this.checkoutState.showCloseButton=!st()(t).call(t,cn.e.DONATE)&&st()(r).call(r,e)||st()(n).call(n,e),this.checkoutState.syncUpdate()}},{key:"initialize",value:function(){var e=this,t=Ua()(null,{initialize:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"initialize",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.initialize.call(this);case 2:if(!(n=this.resolvedCheckoutData.getExternalConfig().checkoutIntent)){e.next=6;break}return e.next=6,this.applyCheckoutIntent(n);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"applyCheckoutIntent",value:function(e){var t,n,r,i;return(0,m.mG)(this,void 0,void 0,f().mark((function a(){var o,s,u;return f().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.donation){a.next=7;break}return a.next=3,this.getDataPoint(cn.t.DONATION);case 3:o=a.sent,e.donation.currency&&(o.currency=e.donation.currency),"boolean"==typeof e.donation.recurring&&(o.repeat=e.donation.recurring?o.defaultSubscriptionPeriod:fe.oe.ONCE),e.donation.amount&&(o.amount=e.donation.amount);case 7:if(!e.supporter){a.next=14;break}return a.next=10,this.getDataPoint(dn.W_.PERSONAL_INFORMATION);case 10:s=a.sent,e.supporter.firstName&&(s.firstName=e.supporter.firstName),e.supporter.lastName&&(s.lastName=e.supporter.lastName),e.supporter.email&&(s.email=e.supporter.email);case 14:if(!e.comment){a.next=19;break}return a.next=17,this.getDataPoint(dn.W_.COMMENT);case 17:a.sent.comment=e.comment;case 19:if(!e.tribute){a.next=26;break}return a.next=22,this.getDataPoint(dn.W_.TRIBUTE);case 22:u=a.sent,e.tribute.type&&(u.tributeeName=null===(t=e.tribute)||void 0===t?void 0:t.type),e.tribute.inHonorOf&&(u.tributeeName=null===(n=e.tribute)||void 0===n?void 0:n.inHonorOf),u.isActive=!0;case 26:if(!(null===(r=e.checkoutSettings)||void 0===r?void 0:r.designation)){a.next=31;break}return a.next=29,this.getDataPoint(dn.W_.DESIGNATION);case 29:a.sent.goalKey=null===(i=e.checkoutSettings)||void 0===i?void 0:i.designation;case 31:this.checkoutState.filledFromIntent=!0;case 32:case"end":return a.stop()}}),a,this)})))}},{key:"getPreloadComponents",value:function(){return[Ho.PHONE_INPUT]}},{key:"type",get:function(){return this.checkoutState.flowType}},{key:"showFAQLinks",get:function(){return!0}},{key:"getDonationParams",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataPoint(cn.t.DONATION);case 2:return t=e.sent,n=t.toObject(),e.abrupt("return",{amount:n.amount,total:n.total,currency:n.currency,repeat:j()(n),publicFee:n.publicFee,canModifyAmount:t.canModifyAmount});case 5:case"end":return e.stop()}}),e,this)})))}}]),i}(to),qs=(0,P.Z)((function e(){(0,k.Z)(this,e)}));var Ws=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"isEnabled",value:function(e,t){return t.showMailing&&t.showMailingFrom?e>=t.showMailingFromAmount:t.showMailing}},{key:"isRequired",value:function(e,t){return t.showMailing&&t.mailingRequired&&t.mailingRequiredFrom?e>=t.mailingRequiredFromAmount:!!t.showMailing&&t.mailingRequired}}]),i}(qs);var js=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"isEnabled",value:function(){return!0}},{key:"isRequired",value:function(){return!0}}]),i}(qs),Xs=[y.C9.CANADA,y.C9.GERMANY],zs=(0,P.Z)((function e(t){(0,k.Z)(this,e),this.widget=t.widget}));var Qs=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"currency",get:function(){return this.widget.defaultCurrency}}]),i}(zs);var Js=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"currency",get:function(){return"EUR"}}]),i}(zs),$s={showMailing:!0,showMailingFrom:!0,showMailingFromAmount:3e4,mailingRequired:!0,mailingRequiredFrom:!1,mailingRequiredFromAmount:0},eu={showMailing:!0,showMailingFrom:!1,showMailingFromAmount:0,mailingRequired:!0,mailingRequiredFrom:!1,mailingRequiredFromAmount:0},tu={showMailing:!1,showMailingFrom:!1,showMailingFromAmount:0,mailingRequired:!1,mailingRequiredFrom:!1,mailingRequiredFromAmount:0},nu=(0,P.Z)((function e(){(0,k.Z)(this,e)}));var ru=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"getDefaults",value:function(){return tu}}]),i}(nu);var iu=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"getDefaults",value:function(){return eu}}]),i}(nu);var au,ou=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"getDefaults",value:function(){return $s}}]),i}(nu);!function(e){e[e.SHOW_AMOUNT_MORE_THEN_REQUIRED_AMOUNT=0]="SHOW_AMOUNT_MORE_THEN_REQUIRED_AMOUNT",e[e.SHOW_AMOUNT_MORE_300_EUROS=1]="SHOW_AMOUNT_MORE_300_EUROS",e[e.REQUIRED_AMOUNT_MORE_300_EUROS=2]="REQUIRED_AMOUNT_MORE_300_EUROS"}(au||(au={}));var su=function(){function e(){(0,k.Z)(this,e)}return(0,P.Z)(e,[{key:"validateConfig",value:function(e){var t=!0,n=new(cr());return e.showMailing&&e.mailingRequired&&e.showMailingFrom&&e.mailingRequiredFrom&&((t=e.showMailingFromAmount<=e.mailingRequiredFromAmount)||n.add(au.SHOW_AMOUNT_MORE_THEN_REQUIRED_AMOUNT)),{isValid:t,reasons:n}}}]),e}();var uu=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).shouldHideEditor=!1,e.showMailingShouldAlwaysEnabled=!1,e.mailingRequiredShouldAlwaysEnabled=!1,e}return(0,P.Z)(i)}(su);var cu=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).shouldHideEditor=!0,e.showMailingShouldAlwaysEnabled=!1,e.mailingRequiredShouldAlwaysEnabled=!1,e}return(0,P.Z)(i)}(su);var lu=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).shouldHideEditor=!1,e.showMailingShouldAlwaysEnabled=!0,e.mailingRequiredShouldAlwaysEnabled=!0,e}return(0,P.Z)(i,[{key:"validateConfig",value:function(e){var t=(0,et.Z)((0,ce.Z)(i.prototype),"validateConfig",this).call(this,e);if(!t.isValid)return t;var n=!0,r=new(cr());return e.showMailing&&e.showMailingFrom&&((n=e.showMailingFromAmount<=3e4)||r.add(au.SHOW_AMOUNT_MORE_300_EUROS)),e.mailingRequired&&e.mailingRequiredFrom&&((n=e.mailingRequiredFromAmount<=3e4)||r.add(au.REQUIRED_AMOUNT_MORE_300_EUROS)),{isValid:n,reasons:r}}}]),i}(su),hu=function(){function e(t){var n;(0,k.Z)(this,e),this.company=e.resolveCompanyConfig(t),this.isDevMode=null!==(n=t.isDevMode)&&void 0!==n&&n}return(0,P.Z)(e,[{key:"isExceptionLogic",get:function(){return this.company.nonProfit&&st()(Xs).call(Xs,this.company.country)}},{key:"getWidgetDefaultsLogic",value:function(){return function(e){if(e.isException)switch(e.country){case y.C9.GERMANY:return new ou;case y.C9.CANADA:return new iu;default:return new ru}return new ru}({country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode})}},{key:"getCurrencyLogic",value:function(e){return function(e){return e.isException&&e.country===y.C9.GERMANY?new Js(e):new Qs(e)}({country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode,widget:e.widget})}},{key:"getWidgetEditorLogic",value:function(){return function(e){if(e.isException){if("boolean"==typeof e.isDevMode&&!e.isDevMode)return new cu;switch(e.country){case y.C9.GERMANY:return new lu;case y.C9.CANADA:return new cu;default:return new uu}}return new uu}({country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode})}},{key:"getCheckoutScreenLogic",value:function(){return(e={country:this.company.country,isException:this.isExceptionLogic,isDevMode:this.isDevMode}).isException?"boolean"!=typeof e.isDevMode||e.isDevMode?e.country===y.C9.CANADA?new js:new Ws:new js:new Ws;var e}}],[{key:"resolveCompanyConfig",value:function(e){return e.company.useParentPaymentAccounts&&e.parentCompany?{nonProfit:e.parentCompany.nonProfit,country:e.parentCompany.country}:{nonProfit:e.company.nonProfit,country:e.company.country}}}]),e}(),du=n(50247);var fu=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e,t,n,a){var o,s,u;return(0,k.Z)(this,i),(u=r.call(this,e,t)).campaignConfig=e,u.debug=t,u.resolvedCheckoutData=n,u.dataPointRegistry=a,u.mailingAddressMetaSnapshots=(o={},(0,v.Z)(o,cn.t.GIFT_AID,null),(0,v.Z)(o,cn.e.SEPA,null),(0,v.Z)(o,cn.e.UK_BACS,null),o),u.preDonationUpsellSnapshots=null,u.dtdUpsellSnapshots=null,u.flowType=fe.Cl.MONEY,u.paymentErrors=(s={},(0,v.Z)(s,y.GZ.CARD,!1),(0,v.Z)(s,y.GZ.UK_BACS,!1),s),u._donationDataPoint=null,u._commentDataPoint=null,u._personalInformationDataPoint=null,u._giftAidDataPoint=null,u._tributeDataPoint=null,u._designationDataPoint=null,u._mailingAddressDataPoint=null,u._phoneNumberDataPoint=null,u._paymentOptionsDataPoint=null,u._preDonationUpsellDataPoint=null,u._onBehalfOfDataPoint=null,u._donateAnonymousDataPoint=null,u._termsAndConditionsDataPoint=null,u._remindMeLaterDataPoint=null,u._mailingListSubscriptionDataPoint=null,u._postDonationUpsellDataPoint=null,u._dtdDataPoint=null,u._questionsDataPoint=null,u._paypalDataPoint=null,u}return(0,P.Z)(i,[{key:"get",value:function(){var e;return{hasPaymentAttempt:this.hasPaymentAttempt,isReadyToRetryPay:this.isReadyToRetryPay,hasMailingAddressError:this.hasMailingAddressError,donation:this.donationState,personalInformation:this.personalInformationState,mailingListSubscription:this.mailingListSubscriptionState,paymentErrors:this.paymentErrors,giftAid:this.giftAidState,tribute:this.tributeState,comment:this.commentState,donateAnonymous:this.donateAnonymousState,designation:this.designationState,paymentOptions:this.paymentOptionsState,mailingAddress:this.mailingAddressState,preDonationUpsell:this.preDonationUpsellState,phoneNumber:this.phoneNumberState,onBehalfOf:this.onBehalfOfState,termsAndConditions:this.termsAndConditionsState,remindMeLater:this.remindMeLaterState,postDonationUpsell:this.postDonationUpsellState,questions:this.questionsState,doubleDonation:this.doubleDonationState,isPaypalCurrencyConversionApplied:this.isPaypalCurrencyConversionApplied,tributeDonorPortalLink:this.tributeDonorPortalLink,donationResultState:this.donationResultState,isPaid:Boolean(null===(e=this.donationResultState)||void 0===e?void 0:e.donationId),showCloseButton:this.showCloseButton,askPageActiveTab:this.askPageActiveTab}}},{key:"onGiftAidAccepted",value:function(){return this.makeMailingAddressMetaSnapshot(cn.t.GIFT_AID),this.forceMailingAddress(),this}},{key:"resetGiftAid",value:function(){return this.giftAidDataPoint.reject(),this.restoreMailingAddressFromSnapshot(cn.t.GIFT_AID),this}},{key:"isReadyToRetryPay",get:function(){var e;if(!this.hasPaymentAttempt)return!1;var t=this.paymentOptionsDataPoint.clientPaymentMethod;return!!t&&st()(e=[y.GZ.CARD,y.GZ.UK_BACS]).call(e,t)}},{key:"isPaypalCurrencyConversionApplied",get:function(){return this.paypalDataPoint.isCurrencyConversionApplied}},{key:"donationDataPoint",get:function(){if(!this._donationDataPoint)throw new Error("DataPoint Not Initialized");return this._donationDataPoint}},{key:"paypalDataPoint",get:function(){if(!this._paypalDataPoint)throw new Error("PaypalDataPoint Not Initialized");return this._paypalDataPoint}},{key:"personalInformationDataPoint",get:function(){if(!this._personalInformationDataPoint)throw new Error("DataPoint Not Initialized");return this._personalInformationDataPoint}},{key:"commentDataPoint",get:function(){if(!this._commentDataPoint)throw new Error("DataPoint Not Initialized");return this._commentDataPoint}},{key:"giftAidDataPoint",get:function(){if(!this._giftAidDataPoint)throw new Error("DataPoint Not Initialized");return this._giftAidDataPoint}},{key:"tributeDataPoint",get:function(){if(!this._tributeDataPoint)throw new Error("DataPoint Not Initialized");return this._tributeDataPoint}},{key:"designationDataPoint",get:function(){if(!this._designationDataPoint)throw new Error("DataPoint Not Initialized");return this._designationDataPoint}},{key:"mailingAddressDataPoint",get:function(){if(!this._mailingAddressDataPoint)throw new Error("DataPoint Not Initialized");return this._mailingAddressDataPoint}},{key:"phoneNumberDataPoint",get:function(){if(!this._phoneNumberDataPoint)throw new Error("DataPoint Not Initialized");return this._phoneNumberDataPoint}},{key:"paymentOptionsDataPoint",get:function(){if(!this._paymentOptionsDataPoint)throw new Error("DataPoint Not Initialized");return this._paymentOptionsDataPoint}},{key:"preDonationUpsellDataPoint",get:function(){if(!this._preDonationUpsellDataPoint)throw new Error("DataPoint Not Initialized");return this._preDonationUpsellDataPoint}},{key:"donateAnonymousDataPoint",get:function(){if(!this._donateAnonymousDataPoint)throw new Error("DataPoint Not Initialized");return this._donateAnonymousDataPoint}},{key:"onBehalfOfDataPoint",get:function(){if(!this._onBehalfOfDataPoint)throw new Error("DataPoint Not Initialized");return this._onBehalfOfDataPoint}},{key:"termsAndConditionsDataPoint",get:function(){if(!this._termsAndConditionsDataPoint)throw new Error("DataPoint Not Initialized");return this._termsAndConditionsDataPoint}},{key:"remindMeLaterDataPoint",get:function(){if(!this._remindMeLaterDataPoint)throw new Error("DataPoint Not Initialized");return this._remindMeLaterDataPoint}},{key:"mailingListSubscriptionDataPoint",get:function(){if(!this._mailingListSubscriptionDataPoint)throw new Error("DataPoint Not Initialized");return this._mailingListSubscriptionDataPoint}},{key:"postDonationUpsellDataPoint",get:function(){if(!this._postDonationUpsellDataPoint)throw new Error("DataPoint Not Initialized");return this._postDonationUpsellDataPoint}},{key:"donationState",get:function(){return{isEnabled:this.donationDataPoint.isEnabled,isRequired:this.donationDataPoint.isRequired,amount:this.donationDataPoint.amount||0,currency:this.donationDataPoint.currency,repeat:j()(this.donationDataPoint),defaultAmount:this.donationDataPoint.defaultAmount||0,amountOptions:this.donationDataPoint.amountOptions}}},{key:"dtdDataPoint",get:function(){if(!this._dtdDataPoint)throw new Error("DataPoint Not Initialized");return this._dtdDataPoint}},{key:"questionsDataPoint",get:function(){if(!this._questionsDataPoint)throw new Error("DataPoint Not Initialized");return this._questionsDataPoint}},{key:"personalInformationState",get:function(){return{isEnabled:this.donationDataPoint.isEnabled,isRequired:this.donationDataPoint.isRequired,isCollected:this.collectedDataPoints.has(this.personalInformationDataPoint)}}},{key:"donateAnonymousState",get:function(){return{isEnabled:this.donateAnonymousDataPoint.isEnabled,isRequired:this.donateAnonymousDataPoint.isRequired}}},{key:"onBehalfOfState",get:function(){return{isEnabled:this.onBehalfOfDataPoint.isEnabled,isRequired:this.onBehalfOfDataPoint.isRequired,isActive:this.onBehalfOfDataPoint.isActive}}},{key:"termsAndConditionsState",get:function(){return{isEnabled:this.termsAndConditionsDataPoint.isEnabled}}},{key:"commentState",get:function(){return{isEnabled:this.commentDataPoint.isEnabled,isRequired:this.commentDataPoint.isRequired}}},{key:"giftAidState",get:function(){return{isEnabled:this.giftAidDataPoint.isEnabled,isAccepted:this.giftAidDataPoint.isAccepted,isCollected:this.collectedDataPoints.has(this.giftAidDataPoint)}}},{key:"tributeState",get:function(){return{isEnabled:this.tributeDataPoint.isEnabled,isRequired:this.tributeDataPoint.isRequired,name:this.tributeDataPoint.tributeeName,labelType:this.tributeDataPoint.labelType,isActive:this.tributeDataPoint.isActive}}},{key:"designationState",get:function(){return{isEnabled:this.designationDataPoint.isEnabled,isRequired:this.designationDataPoint.isRequired}}},{key:"paymentOptionsState",get:function(){var e;return{isEnabled:this.paymentOptionsDataPoint.isEnabled,isRequired:this.paymentOptionsDataPoint.isRequired,clientPaymentMethod:this.paymentOptionsDataPoint.clientPaymentMethod,selectedPaymentOption:this.paymentOptionsDataPoint.selectedPaymentOption,allowedPaymentMethods:(e={},(0,v.Z)(e,y.GZ.ACH,this.paymentOptionsDataPoint.allowedPaymentMethods[y.GZ.ACH].show),(0,v.Z)(e,y.GZ.PLAID,this.paymentOptionsDataPoint.allowedPaymentMethods[y.GZ.PLAID].show),e)}}},{key:"mailingAddressState",get:function(){return{isEnabled:this.mailingAddressDataPoint.isEnabled,isRequired:this.mailingAddressDataPoint.isRequired,isCollected:this.collectedDataPoints.has(this.mailingAddressDataPoint)}}},{key:"phoneNumberState",get:function(){return{isEnabled:this.phoneNumberDataPoint.isEnabled,isRequired:this.phoneNumberDataPoint.isRequired}}},{key:"remindMeLaterState",get:function(){return{isEnabled:this.remindMeLaterDataPoint.isEnabled,isRequired:this.remindMeLaterDataPoint.isRequired}}},{key:"mailingListSubscriptionState",get:function(){return{isEnabled:this.mailingAddressDataPoint.isEnabled}}},{key:"postDonationUpsellState",get:function(){return{isEnabled:this.postDonationUpsellDataPoint.isEnabled,isShowed:this.postDonationUpsellDataPoint.isShowed}}},{key:"preDonationUpsellState",get:function(){return{isEnabled:this.preDonationUpsellDataPoint.canShowUpsellScreen(this.donationDataPoint.toObject(),this.tributeDataPoint.toObject())}}},{key:"doubleDonationState",get:function(){return{isEnabled:this.dtdDataPoint.isEnabled,isCollected:this.collectedDataPoints.has(this.dtdDataPoint)}}},{key:"questionsState",get:function(){return{isEnabled:this.questionsDataPoint.isEnabled}}},{key:"preloadDataPointInstances",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h,d,m,p,v,y,g,k,P,S,E;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.dataPointRegistry.getDataPoint(cn.t.DONATION),this.dataPointRegistry.getDataPoint(dn.W_.PERSONAL_INFORMATION),this.dataPointRegistry.getDataPoint(dn.W_.MAILING_LIST_SUBSCRIPTION),this.dataPointRegistry.getDataPoint(dn.W_.COMMENT),this.dataPointRegistry.getDataPoint(cn.t.GIFT_AID),this.dataPointRegistry.getDataPoint(dn.W_.TRIBUTE),this.dataPointRegistry.getDataPoint(dn.W_.DESIGNATION),this.dataPointRegistry.getDataPoint(dn.W_.MAILING_ADDRESS),this.dataPointRegistry.getDataPoint(dn.W_.PHONE_NUMBER),this.dataPointRegistry.getDataPoint(cn.t.PAYMENT_OPTIONS),this.dataPointRegistry.getDataPoint(cn.t.PRE_DONATION_UPSELL),this.dataPointRegistry.getDataPoint(dn.W_.DONATE_ANONYMOUS),this.dataPointRegistry.getDataPoint(dn.W_.ON_BEHALF_OF),this.dataPointRegistry.getDataPoint(dn.W_.TERMS_AND_CONDITIONS),this.dataPointRegistry.getDataPoint(dn.W_.REMIND_ME_LATER),this.dataPointRegistry.getDataPoint(cn.t.POST_DONATION_UPSELL),this.dataPointRegistry.getDataPoint(cn.t.DTD),this.dataPointRegistry.getDataPoint(dn.W_.QUESTIONS),this.dataPointRegistry.getDataPoint(cn.t.PAYPAL_CONVERSION)]);case 2:return t=e.sent,n=(0,tt.Z)(t,19),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],d=n[9],m=n[10],p=n[11],v=n[12],y=n[13],g=n[14],k=n[15],P=n[16],S=n[17],E=n[18],this._donationDataPoint=r,this._personalInformationDataPoint=i,this._mailingListSubscriptionDataPoint=a,this._commentDataPoint=o,this._giftAidDataPoint=s,this._tributeDataPoint=u,this._designationDataPoint=c,this._mailingAddressDataPoint=l,this._phoneNumberDataPoint=h,this._paymentOptionsDataPoint=d,this._preDonationUpsellDataPoint=m,this._donateAnonymousDataPoint=p,this._onBehalfOfDataPoint=v,this._termsAndConditionsDataPoint=y,this._remindMeLaterDataPoint=g,this._postDonationUpsellDataPoint=k,this._dtdDataPoint=P,this._questionsDataPoint=S,this._paypalDataPoint=E,e.abrupt("return",[this._donationDataPoint,this._personalInformationDataPoint,this._mailingListSubscriptionDataPoint,this._commentDataPoint,this._giftAidDataPoint,this._tributeDataPoint,this._designationDataPoint,this._mailingAddressDataPoint,this._phoneNumberDataPoint,this._paymentOptionsDataPoint,this._preDonationUpsellDataPoint,this._donateAnonymousDataPoint,this._onBehalfOfDataPoint,this._termsAndConditionsDataPoint,this._remindMeLaterDataPoint,this._postDonationUpsellDataPoint,this._paypalDataPoint]);case 43:case"end":return e.stop()}}),e,this)})))}},{key:"getDataPointInstance",value:function(e){switch(e){case cn.t.DONATION:return this.donationDataPoint;case dn.W_.PERSONAL_INFORMATION:return this.personalInformationDataPoint;case dn.W_.MAILING_LIST_SUBSCRIPTION:return this.mailingListSubscriptionDataPoint;case dn.W_.COMMENT:return this.commentDataPoint;case cn.t.GIFT_AID:return this.giftAidDataPoint;case dn.W_.TRIBUTE:return this.tributeDataPoint;case dn.W_.DESIGNATION:return this.designationDataPoint;case dn.W_.MAILING_ADDRESS:return this.mailingAddressDataPoint;case dn.W_.PHONE_NUMBER:return this.phoneNumberDataPoint;case cn.t.PAYMENT_OPTIONS:return this.paymentOptionsDataPoint;case cn.t.PRE_DONATION_UPSELL:return this.preDonationUpsellDataPoint;case dn.W_.DONATE_ANONYMOUS:return this.donateAnonymousDataPoint;case dn.W_.ON_BEHALF_OF:return this.onBehalfOfDataPoint;case dn.W_.TERMS_AND_CONDITIONS:return this.termsAndConditionsDataPoint;case dn.W_.REMIND_ME_LATER:return this.remindMeLaterDataPoint;default:throw new Error("Unknown DataPoint: ".concat(e))}}},{key:"makeMailingAddressMetaSnapshot",value:function(e){this.mailingAddressMetaSnapshots[e]={isEnabled:this.mailingAddressDataPoint.isEnabled,isRequired:this.mailingAddressDataPoint.isRequired,isCollected:this.collectedDataPoints.has(this.mailingAddressDataPoint)}}},{key:"restoreMailingAddressFromSnapshot",value:function(e){this.mailingAddressMetaSnapshots[e]?(this.mailingAddressDataPoint.isEnabled=this.mailingAddressMetaSnapshots[e].isEnabled,this.mailingAddressDataPoint.isRequired=this.mailingAddressMetaSnapshots[e].isRequired,this.mailingAddressMetaSnapshots[e].isCollected?this.collectedDataPoints.add(this.mailingAddressDataPoint):this.collectedDataPoints.delete(this.mailingAddressDataPoint),this.mailingAddressMetaSnapshots[e]=null):this.debug.log("No mailingAddressMeta snapshots for ".concat(e,"."))}},{key:"makePreDonationUpsellMetaSnapshot",value:function(){this.preDonationUpsellSnapshots={isEnabled:this.preDonationUpsellDataPoint.isEnabled,isRequired:this.preDonationUpsellDataPoint.isRequired,isAccepted:this.preDonationUpsellDataPoint.isAccepted,used:this.preDonationUpsellDataPoint.used,isCollected:this.collectedDataPoints.has(this.preDonationUpsellDataPoint),amount:this.donationDataPoint.amount,repeat:j()(this.donationDataPoint)}}},{key:"restorePreDonationUpsellFromSnapshot",value:function(){if(this.preDonationUpsellSnapshots){var e=this.preDonationUpsellSnapshots;this.preDonationUpsellDataPoint.isEnabled=e.isEnabled,this.preDonationUpsellDataPoint.isRequired=e.isRequired,this.preDonationUpsellDataPoint.isAccepted=e.isAccepted,this.preDonationUpsellDataPoint.used=e.used,this.donationDataPoint.amount=e.amount,this.donationDataPoint.repeat=j()(e),e.isCollected?this.collectedDataPoints.add(this.preDonationUpsellDataPoint):this.collectedDataPoints.delete(this.preDonationUpsellDataPoint),this.preDonationUpsellSnapshots=null}else this.debug.log("No preDonationUpsellSnapshots snapshots for PreDonationUpsell.")}},{key:"makeDTDUpsellSnapshot",value:function(){this.dtdUpsellSnapshots={isCollected:this.collectedDataPoints.has(this.dtdDataPoint),amount:this.donationDataPoint.amount}}},{key:"restoreDTDUpsellFromSnapshot",value:function(){if(this.dtdUpsellSnapshots){var e=this.dtdUpsellSnapshots;this.donationDataPoint.amount=e.amount,e.isCollected?this.collectedDataPoints.add(this.dtdDataPoint):this.collectedDataPoints.delete(this.dtdDataPoint),this.dtdUpsellSnapshots=null}else this.debug.log("No dtdUpsell snapshots for DTDUpsell.")}},{key:"onDonationDataPointCollected",value:function(){var e=this.donationDataPoint.amount||0,t=this.donationDataPoint.total,n=j()(this.donationDataPoint),r=this.donationDataPoint.getMinAmount(y.oe.MONTHLY),i=this.donationDataPoint.currency;this.postDonationUpsellDataPoint.setDonationAmount(e),this.postDonationUpsellDataPoint.setMinAmount(r),this.postDonationUpsellDataPoint.setPaymentRepeat(n),this.postDonationUpsellDataPoint.setCurrency(i),this.dtdDataPoint.setCurrency(i),this.dtdDataPoint.setAmount(t)}},{key:"onTributeDataPointCollected",value:function(){this.postDonationUpsellDataPoint.setTributeName(this.tributeDataPoint.tributeeName)}},{key:"onPaymentOptionsDataPointCollected",value:function(){if(!this.paymentOptionsDataPoint.clientPaymentMethod)throw new Error("ClientPaymentMethod should not be empty");this.postDonationUpsellDataPoint.setPaymentMethod(this.paymentOptionsDataPoint.clientPaymentMethod),this.configureMailingAddress(),this.paymentOptionsDataPoint.selectedPaymentOption===du.H.UK_BACS&&this.forceMailingAddress()}},{key:"onBehalfOfDataPointCollected",value:function(){this.dtdDataPoint.setOnBehalfOf(this.onBehalfOfDataPoint.isOnBehalfOf),this.giftAidDataPoint.setOnBehalfOf(this.onBehalfOfDataPoint.isOnBehalfOf)}},{key:"setPaymentError",value:function(e,t){this.paymentErrors[e]=t}},{key:"onUpsellAccepted",value:function(e,t){this.makePreDonationUpsellMetaSnapshot(),this.donationDataPoint.repeat=t,this.donationDataPoint.useRepeat=!0,this.donationDataPoint.amount=e}},{key:"onDesignationDataPointCollected",value:function(){this.postDonationUpsellDataPoint.setGoalKey(this.designationDataPoint.goalKey)}},{key:"onDoubleTheDonationAccepted",value:function(e){this.makeDTDUpsellSnapshot(),this.donationDataPoint.amount=e}},{key:"configureMailingAddress",value:function(){var e=new hu({company:this.resolvedCheckoutData.company(),parentCompany:this.resolvedCheckoutData.parentCompanyConfig,isDevMode:(0,rn.b)()}),t=e.getCheckoutScreenLogic(),n=e.getCurrencyLogic({widget:this.campaignConfig}).currency,r=this.donationDataPoint.getTotalInCustomCurrency(n);this.mailingAddressDataPoint.isEnabled=t.isEnabled(r,this.campaignConfig),this.mailingAddressDataPoint.isRequired=t.isRequired(r,this.campaignConfig)}},{key:"forceMailingAddress",value:function(){this.mailingAddressDataPoint.isEnabled=!0,this.mailingAddressDataPoint.isRequired=!0}}]),i}(io),mu=n(79168),pu=n(55521),vu=n(44411);var yu=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).canSubmit=!0,e}return(0,P.Z)(i,[{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.checkoutService.getDataPoint(cn.t.ACH)]);case 2:t=e.sent,n=(0,tt.Z)(t,1),r=n[0],this._achDataPoint=r,this.produceViewState((function(e){e.routingNumber=i.achDataPoint.routingNumber,e.accountNumber=i.achDataPoint.accountNumber,e.accountHolderName=i.achDataPoint.accountHolderName}));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"getInitialViewState",value:function(){return{locked:!1,routingNumber:"",accountNumber:"",accountHolderName:"",accountType:pu.EACHAccountType.INDIVIDUAL,shakeKey:0,processingState:oo.Z.IDLE,errors:{},livemode:this.checkoutService.resolvedCheckoutData.infrastructureParams.livemode}}},{key:"changeAccountNumber",value:function(e){var t=this;e.length>mu.P.MAX||(this.achDataPoint.accountNumber=e,this.produceViewState((function(e){e.errors.accountNumber=!1,e.accountNumber=t.achDataPoint.accountNumber})))}},{key:"changeRoutingNumber",value:function(e){var t=this;e.length>mu.m.EQ||(this.achDataPoint.routingNumber=e,this.produceViewState((function(e){e.errors.routingNumber=!1,e.routingNumber=t.achDataPoint.routingNumber})))}},{key:"changeAccountHolderName",value:function(e){var t=this;this.achDataPoint.accountHolderName=e,this.produceViewState((function(e){e.accountHolderName=t.achDataPoint.accountHolderName}))}},{key:"changeAccountType",value:function(e){var t=this;this.achDataPoint.accountType=e,this.produceViewState((function(e){e.accountType=t.achDataPoint.accountType}))}},{key:"leave",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var n,r,i=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pending){e.next=2;break}return e.abrupt("return");case 2:if(this.pending=!0,this.produceViewState((function(e){e.processingState=oo.Z.PENDING})),(n=this.achDataPoint.validate()).isValid){e.next=9;break}return this.produceViewState((function(e){e.errors.routingNumber=!n.fields.routingNumber.isValid,e.errors.accountNumber=!n.fields.accountNumber.isValid,e.errors.accountHolderName=!n.fields.accountHolderName.isValid,e.shakeKey+=1,e.processingState=oo.Z.IDLE})),this.pending=!1,e.abrupt("return");case 9:return e.next=11,this.checkoutService.hold();case 11:if(r=e.sent,!_t.H.isSuccess(r)){e.next=15;break}return this.pending=!1,e.abrupt("return",t.leave.call(this));case 15:return this.produceViewState((function(e){e.shakeKey+=1,e.processingState=oo.Z.ERROR,e.errorMessage=i.checkoutService.payErrorMessage})),e.next=18,(0,ko.D)(un.kw);case 18:this.produceViewState((function(e){e.processingState=oo.Z.IDLE})),this.pending=!1;case 20:case"end":return e.stop()}}),e,this)})))}},{key:"fillDemoData",value:function(e){var t=this,n=i.demoData.routingNumber.split(""),r=i.demoData.accountNumber.split(""),a=i.demoData.accountHolderName.split(""),o=Ga()((function(){var i,s,u;if(n.length)null===(i=e.routingNumber.current)||void 0===i||i.focus(),t.changeRoutingNumber(t.viewState.routingNumber+n.shift());else if(r.length)null===(s=e.accountNumber.current)||void 0===s||s.focus(),t.changeAccountNumber(t.viewState.accountNumber+r.shift());else{if(!a.length)return clearInterval(o);null===(u=e.accountHolderName.current)||void 0===u||u.focus(),t.changeAccountHolderName(t.viewState.accountHolderName+a.shift())}}),50);return function(){return clearInterval(o)}}},{key:"achDataPoint",get:function(){if(!this._achDataPoint)throw new Error("AchDataPoint is not defined");return this._achDataPoint}}]),i}(vu.c);yu.demoData={routingNumber:"110000000",accountNumber:"000123456789",accountHolderName:"Michael Smith"};var gu=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).canSubmit=!0,e}return(0,P.Z)(i,[{key:"amountExample",value:function(){var e=this.intl.formatCurrency(0,{currency:"USD"}).replace("00","xx");return"+".concat(e)}},{key:"getInitialViewState",value:function(){return{locked:!1,companyName:this.checkoutService.company.name}}}]),i}(vu.c);var ku=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"getInitialViewState",value:function(){return{locked:!1,accountNumber:null,bsbNumber:null,shakeKey:0,accountHolderName:"",termsChecked:!0,errors:{},processingState:oo.Z.IDLE}}},{key:"leave",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pending){e.next=2;break}return e.abrupt("return");case 2:return this.pending=!0,this.setProcessingState(oo.Z.PENDING),e.next=6,this.checkoutService.startAuBECSFlow();case 6:if(e.sent){e.next=11;break}return this.produceViewState((function(e){e.shakeKey+=1,e.processingState=oo.Z.IDLE})),this.pending=!1,e.abrupt("return");case 11:return e.next=13,this.checkoutService.hold();case 13:return this.pending=!1,e.next=16,t.leave.call(this);case 16:case"end":return e.stop()}}),e,this)})))}},{key:"initiateAuBECS",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.checkoutService.initiateAuBECS(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"setProcessingState",value:function(e){this.produceViewState((function(t){t.processingState=e}))}}]),i}(vu.c);var Pu=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).readyClickToPay=!1,e.clickToPayRequested=!1,e}return(0,P.Z)(i,[{key:"getInitialViewState",value:function(){return{locked:!1}}},{key:"startClickToPay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.readyClickToPay){e.next=3;break}return this.clickToPayRequested=!0,e.abrupt("return");case 3:return e.abrupt("return",this.checkoutService.startClickToPay());case 4:case"end":return e.stop()}}),e,this)})))}},{key:"leave",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkoutService.hold();case 2:return e.abrupt("return",t.leave.call(this));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"initiateClickToPay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkoutService.initiateClickToPay();case 2:if(this.readyClickToPay=!0,!this.clickToPayRequested){e.next=6;break}return e.next=6,this.startClickToPay();case 6:case"end":return e.stop()}}),e,this)})))}},{key:"destroyClickToPay",value:function(){this.checkoutService.destroyClickToPay()}}]),i}(vu.c);var Su=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).canSubmit=!0,e}return(0,P.Z)(i,[{key:"isPaymentScreen",get:function(){var e,t;return this.checkoutService.isReadyToRetryPay&&(null===(t=null===(e=this.checkoutService.getState())||void 0===e?void 0:e.paymentOptions)||void 0===t?void 0:t.clientPaymentMethod)===y.GZ.CARD}},{key:"leave",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pending){e.next=2;break}return e.abrupt("return");case 2:return this.pending=!0,this.produceViewState((function(e){e.processingState=oo.Z.PENDING})),e.next=6,this.checkoutService.startCreditCardFlow();case 6:if(e.sent){e.next=11;break}return this.produceViewState((function(e){e.shakeKey+=1,e.processingState=oo.Z.IDLE})),this.pending=!1,e.abrupt("return");case 11:if(!this.isPaymentScreen){e.next=13;break}return e.abrupt("return",this.pay());case 13:return e.abrupt("return",this.hold());case 14:case"end":return e.stop()}}),e,this)})))}},{key:"pay",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var n,r,i=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkoutService.hold();case 2:if(n=e.sent,!_t.H.isFailure(n)){e.next=7;break}return this.pending=!1,this.handleHoldError(n),e.abrupt("return");case 7:return e.next=9,this.checkoutService.pay({screen:cn.e.CREDIT_CARD});case 9:if(r=e.sent,!_t.H.isFailure(r)){e.next=16;break}return this.produceViewState((function(e){e.payErrorMessage=i.checkoutService.payErrorMessage,e.processingState=oo.Z.ERROR})),this.cleanProcessingStateWithTimeout(),this.checkoutService.setPaymentError(y.GZ.CARD,!1),this.pending=!1,e.abrupt("return");case 16:return this.produceViewState((function(e){e.processingState=oo.Z.SUCCESS})),e.next=19,(0,ko.D)(un.YE);case 19:return this.pending=!1,e.abrupt("return",t.leave.call(this));case 21:case"end":return e.stop()}}),e,this)})))}},{key:"hold",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkoutService.hold();case 2:if(n=e.sent,this.pending=!1,!_t.H.isFailure(n)){e.next=7;break}return this.handleHoldError(n),e.abrupt("return");case 7:return e.abrupt("return",t.leave.call(this));case 8:case"end":return e.stop()}}),e,this)})))}},{key:"handleHoldError",value:function(e){var t=this;_t.H.isSuccess(e)||(this.produceViewState((function(e){e.payErrorTitle=t.intl.translate("common.errorOccurredText"),e.payErrorMessage="",e.processingState=oo.Z.ERROR})),this.cleanProcessingStateWithTimeout())}},{key:"cleanProcessingStateWithTimeout",value:function(){var e=this;window.clearTimeout(this.buttonErrorStateTimeout),this.buttonErrorStateTimeout=q()((function(){e.produceViewState((function(e){e.payErrorTitle="",e.processingState=oo.Z.IDLE}))}),5e3)}},{key:"errorMessage",get:function(){return this.viewState.payErrorTitle?"":this.viewState.payErrorMessage||this.intl.translate("payButton.cardError")}},{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkoutService.getDataPoint(cn.t.DONATION);case 2:if(this._donationDataPoint=e.sent,this.produceViewState((function(e){var n;e.processingState=oo.Z.IDLE,e.isPaymentScreen=t.isPaymentScreen,e.formattedAmount=t.intl.formatCurrency(null!==(n=t.donationDataPoint.amount)&&void 0!==n?n:0,{currency:t.donationDataPoint.currency,display:"floatcents"}),e.repeat=t.donationDataPoint.repeatOrigin})),this.produceViewState((function(e){e.showTestModeTooltipInfo=!t.checkoutService.resolvedCheckoutData.infrastructureParams.livemode&&!t.checkoutService.resolvedCheckoutData.infrastructureParams.showcase})),this.checkoutService.hasPaymentError(y.GZ.CARD)){e.next=7;break}return e.abrupt("return");case 7:this.produceViewState((function(e){e.payErrorMessage=t.checkoutService.payErrorMessage,e.processingState=oo.Z.ERROR})),this.cleanProcessingStateWithTimeout(),this.checkoutService.setPaymentError(y.GZ.CARD,!1);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"getInitialViewState",value:function(){var e;return{processingState:oo.Z.IDLE,shakeKey:0,locked:!1,filledFields:(e={},(0,v.Z)(e,fa.g.CARD_NUMBER,!1),(0,v.Z)(e,fa.g.CARD_EXPIRY,!1),(0,v.Z)(e,fa.g.CARD_CVC,!1),e),showTestModeTooltipInfo:!1,isPaymentScreen:!1,formattedAmount:"",repeat:y.oe.ONCE}}},{key:"initiateCreditCard",value:function(e){return this.checkoutService.initiateCreditCard(e)}},{key:"changeFieldFilled",value:function(e,t){this.produceViewState((function(n){n.filledFields[e]=t}),!0)}},{key:"donationDataPoint",get:function(){if(!this._donationDataPoint)throw new Error("DonationDataPoint is not defined");return this._donationDataPoint}}]),i}(vu.c),Eu=n(30723);var Du=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"getInitialViewState",value:function(){return{locked:!1,isShowcase:!1,shakeKey:0,allCurrenciesList:[],guessedCurrenciesList:[],allowCentsForCharges:this.checkoutService.company.allowCentsForCharges,donation:{repeat:y.oe.ONCE,amountOptions:[0,0,0,0,0,0],amount:null,minAmount:0,canModifyAmount:!0,canSelectCurrency:!0,currency:"USD",isAmountValid:!0,canModifyRepeat:!0},errors:{amount:{min:!1,max:!1}},showError:!1,comment:{isEnabled:!1,content:"",prevContent:""},tribute:{name:"",isActive:!1,show:!1,labelType:y.h2.IN_HONOR_MEMORY,sharingEnabled:!1},designation:{show:!1,goalKey:null,goals:[],isEditable:!0},enabledFlows:{crypto:this.checkoutService.campaignConfig.donationTypes.crypto.enabled,stock:this.checkoutService.campaignConfig.donationTypes.stock.enabled},companyName:this.checkoutService.company.name,isMonthlyAnnual:!1,donateButtonLabel:"",leftButtonLabel:"",leftButtonRepeat:y.oe.ONCE,rightButtonLabel:"",rightButtonRepeat:y.oe.MONTHLY,flowType:this.checkoutService.type}}},{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a,o,s,u=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.checkoutService.getDataPoint(cn.t.DONATION),this.checkoutService.getDataPoint(dn.W_.TRIBUTE),this.checkoutService.getDataPoint(dn.W_.COMMENT),this.checkoutService.getDataPoint(dn.W_.DESIGNATION),this.checkoutService.getDataPoint(cn.t.PAYMENT_OPTIONS)]);case 2:t=e.sent,n=(0,tt.Z)(t,5),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],this._donationDataPoint=r,this._tributeDataPoint=i,this._commentDataPoint=a,this._designationDataPoint=o,this._paymentOptionsDataPoint=s,this.designationDataPoint.goalKey||this.designationDataPoint.changeGoalKeyByRepeat(j()(this.donationDataPoint)),this.paymentOptionsDataPoint.calculatePaymentOptionsAvailability({currency:this.donationDataPoint.currency,repeat:j()(this.donationDataPoint),total:this.donationDataPoint.total||0}),this.initiatePaymentButtons(),this.produceViewState((function(e){e.tribute.show=u.tributeDataPoint.isEnabled,e.tribute.isActive=u.tributeDataPoint.isActive,e.tribute.labelType=u.tributeDataPoint.labelType,e.tribute.sharingEnabled=u.tributeDataPoint.isSharingEnabled,e.tribute.name=u.tributeDataPoint.tributeeName,e.isMonthlyAnnual=u.donationDataPoint.isMonthlyAnnual,e.comment.isEnabled=u.commentDataPoint.isEnabled,e.comment.content=u.commentDataPoint.comment,e.comment.prevContent=u.commentDataPoint.prevComment,e.donation.amount=u.donationDataPoint.amount,e.donation.minAmount=u.donationDataPoint.minAmount,e.donation.amountOptions=(0,Un.Z)(u.donationDataPoint.amountOptions),e.donation.repeat=u.donationDataPoint.repeatOrigin,e.donation.canModifyAmount=u.donationDataPoint.canModifyAmount,e.donation.canSelectCurrency=u.donationDataPoint.canSelectCurrency,e.donation.currency=u.donationDataPoint.currency,e.designation.show=u.designationDataPoint.isEnabled,e.designation.goalKey=u.designationDataPoint.goalKey,e.designation.goals=u.designationDataPoint.goals,e.designation.isEditable=u.designationDataPoint.canChangeDesignation(u.getAllowedGoals(e.designation.goals,j()(e.donation)).length),e.allCurrenciesList=u.donationDataPoint.currencyList,e.guessedCurrenciesList=u.donationDataPoint.guessedCurrencyList,e.donation.canModifyRepeat=u.donationDataPoint.canModifyRepeat,e.donateButtonLabel=u.donateButtonLabel,e.leftButtonLabel=u.leftButtonLabel,e.leftButtonRepeat=u.donationDataPoint.onceRepeat,e.rightButtonLabel=u.rightButtonLabel,e.rightButtonRepeat=u.donationDataPoint.monthlyRepeat})),this.validateAmount();case 19:case"end":return e.stop()}}),e,this)})))}},{key:"leftButtonLabel",get:function(){return(0,Eu.Vs)(this.intl,this.donationDataPoint.onceRepeat)}},{key:"rightButtonLabel",get:function(){return(0,Eu.Vs)(this.intl,this.donationDataPoint.monthlyRepeat)}},{key:"initiatePaymentButtons",value:function(){this.paymentOptionsDataPoint.allowedPaymentMethods.googlePay.available&&this.checkoutService.initiateGooglePay(),this.paymentOptionsDataPoint.allowedPaymentMethods.applePay.available&&this.checkoutService.initiateApplePay()}},{key:"donateButtonLabel",get:function(){return(0,Eu.Fm)(this.intl,this.donationDataPoint.repeatOrigin)}},{key:"changeRepeat",value:function(e){var t=this;this.donationDataPoint.repeat=e,this.checkoutService.syncUpdateCheckoutState(),this.designationDataPoint.changeGoalKeyByRepeat(e),this.produceViewState((function(e){e.donation.repeat=t.donationDataPoint.repeatOrigin,e.donation.amount=t.donationDataPoint.amount,e.donation.currency=t.donationDataPoint.currency,e.donation.amountOptions=(0,Un.Z)(t.donationDataPoint.amountOptions),e.donation.canSelectCurrency=t.donationDataPoint.canSelectCurrency,e.designation.goalKey=t.designationDataPoint.goalKey,e.designation.isEditable=t.designationDataPoint.canChangeDesignation(t.getAllowedGoals(e.designation.goals,j()(e.donation)).length),e.donation.minAmount=t.donationDataPoint.minAmount,e.donateButtonLabel=t.donateButtonLabel})),this.validateAmount()}},{key:"validateAmount",value:function(){var e=this.donationDataPoint.validate(),t=this.donationDataPoint.hideMinAmountError,n=null===this.donationDataPoint.amount;this.produceViewState((function(r){r.donation.isAmountValid=e.fields.amount.isValid,r.errors.amount.min=!t&&e.fields.amount.errors.min,r.errors.amount.max=!n&&e.fields.amount.errors.max,r.showError=r.errors.amount.min||r.errors.amount.max}))}},{key:"changeAmount",value:function(e){var t=this;this.donationDataPoint.amount=e,this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((function(e){e.donation.amount=t.donationDataPoint.amount}))}},{key:"changeGoal",value:function(e){var t=this;this.designationDataPoint.goalKey=e,this.produceViewState((function(e){e.designation.goalKey=t.designationDataPoint.goalKey}))}},{key:"changeCurrency",value:function(e){var t=this;this.donationDataPoint.currency=e,this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((function(e){e.donation.currency=t.donationDataPoint.currency,e.donation.amountOptions=(0,Un.Z)(t.donationDataPoint.amountOptions),e.donation.amount=t.donationDataPoint.amount,e.donation.minAmount=t.donationDataPoint.minAmount})),this.checkoutService.trackCurrencyChange(e)}},{key:"toggleTribute",value:function(){var e=this;this.tributeDataPoint.isActive=!this.tributeDataPoint.isActive,this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((function(t){t.tribute.isActive=e.tributeDataPoint.isActive}))}},{key:"changeTributeName",value:function(e){var t=this;this.tributeDataPoint.tributeeName=e,this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((function(e){e.tribute.name=t.tributeDataPoint.tributeeName}))}},{key:"addComment",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkoutService.makeDataPointRequired(dn.W_.COMMENT),e.abrupt("return",t.leave.call(this));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"savePrevComment",value:function(){this.checkoutService.resolvedCheckoutData.infrastructureParams.showcase||this.commentDataPoint.savePrevComment()}},{key:"leave",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validateAmount(),this.viewState.donation.isAmountValid){e.next=4;break}return this.produceViewState((function(e){e.shakeKey+=1,e.showError=!0})),e.abrupt("return");case 4:return this.checkoutService.collectDataPoint([this.tributeDataPoint,this.donationDataPoint,this.designationDataPoint]),e.abrupt("return",t.leave.call(this));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"donationDataPoint",get:function(){if(!this._donationDataPoint)throw new Error("DonationDataPoint is not defined");return this._donationDataPoint}},{key:"tributeDataPoint",get:function(){if(!this._tributeDataPoint)throw new Error("TributeDataPoint is not defined");return this._tributeDataPoint}},{key:"commentDataPoint",get:function(){if(!this._commentDataPoint)throw new Error("CommentDataPoint is not defined");return this._commentDataPoint}},{key:"designationDataPoint",get:function(){if(!this._designationDataPoint)throw new Error("DesignationDataPoint is not defined");return this._designationDataPoint}},{key:"paymentOptionsDataPoint",get:function(){if(!this._paymentOptionsDataPoint)throw new Error("PaymentOptionsDataPoint is not defined");return this._paymentOptionsDataPoint}},{key:"getAllowedGoals",value:function(e,t){var n=this;return this.checkoutService.resolvedCheckoutData.infrastructureParams.showcase&&!this._designationDataPoint?[]:he()(e).call(e,(function(e){return n.designationDataPoint.isGoalAllowedToShow(e,t)}))}},{key:"getGoalByKey",value:function(e){var t;return at()(t=this.viewState.designation.goals).call(t,(function(t){return t.key===e}))||null}},{key:"shouldShowDesignation",value:function(){return this.viewState.designation.show&&!!this.getAllowedGoals(this.viewState.designation.goals,j()(this.viewState.donation)).length}}]),i}(vu.c),bu=n(18238);var wu=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"getInitialViewState",value:function(){return{processingState:oo.Z.IDLE,shakeKey:0,locked:!1}}},{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.checkoutService.restoreMailingAddressFromSnapshot(cn.e.SEPA);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"leave",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pending){e.next=2;break}return e.abrupt("return");case 2:return this.pending=!0,this.produceViewState((function(e){e.processingState=oo.Z.PENDING})),e.next=6,this.checkoutService.startSepaFlow();case 6:if(e.sent){e.next=11;break}return this.produceViewState((function(e){e.shakeKey+=1,e.processingState=oo.Z.IDLE})),this.pending=!1,e.abrupt("return");case 11:return e.next=13,this.checkoutService.hold();case 13:return this.pending=!1,e.abrupt("return",t.leave.call(this));case 15:case"end":return e.stop()}}),e,this)})))}},{key:"initiateSepa",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.checkoutService.initiateSepa(e));case 1:case"end":return t.stop()}}),t,this)})))}}]),i}(vu.c);var Au=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).canSubmit=!0,e}return(0,P.Z)(i,[{key:"isPaymentScreen",get:function(){return this.name===this.checkoutService.paymentScreenName}},{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkoutService.resetDataPoint(cn.t.GIFT_AID);case 2:return e.next=4,this.checkoutService.getDataPoint(cn.t.GIFT_AID);case 4:return this._giftAidDataPoint=e.sent,e.next=7,this.checkoutService.getDataPoint(cn.t.DONATION);case 7:this._donationDataPoint=e.sent,this.produceViewState((function(e){var n;e.formattedAmount=t.intl.formatCurrency(null!==(n=t.donationDataPoint.total)&&void 0!==n?n:0,{currency:t.donationDataPoint.currency,display:"floatcents"}),e.repeat=t.donationDataPoint.repeatOrigin,e.legalText=t.giftAidDataPoint.legalText,e.isPaymentScreen=t.isPaymentScreen}));case 9:case"end":return e.stop()}}),e,this)})))}},{key:"getInitialViewState",value:function(){return{locked:!1,showcase:this.checkoutService.resolvedCheckoutData.infrastructureParams.showcase,formattedAmount:"",repeat:y.oe.MONTHLY,legalText:"",isPaymentScreen:!1,processingState:oo.Z.IDLE,legalTextOverflowed:!1}}},{key:"leave",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var n,r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pending){e.next=2;break}return e.abrupt("return");case 2:if(this.pending=!0,this.checkoutService.collectDataPoint([this.giftAidDataPoint]),this.isPaymentScreen){e.next=7;break}return this.pending=!1,e.abrupt("return",t.leave.call(this));case 7:return this.produceViewState((function(e){e.processingState=oo.Z.PENDING})),e.next=10,this.checkoutService.pay({screen:cn.e.GIFT_AID});case 10:if(n=e.sent,!_t.H.isSuccess(n)){e.next=14;break}return this.pending=!1,e.abrupt("return",t.leave.call(this));case 14:if(!n.failureResult.shouldLeave){e.next=17;break}return this.pending=!1,e.abrupt("return",t.leave.call(this));case 17:return this.produceViewState((function(e){e.payErrorMessage=r.checkoutService.payErrorMessage,e.processingState=oo.Z.ERROR})),e.next=20,(0,ko.D)(un.kw);case 20:this.produceViewState((function(e){e.processingState=oo.Z.IDLE})),this.pending=!1;case 22:case"end":return e.stop()}}),e,this)})))}},{key:"changeGiftAid",value:function(e){e?this.giftAidDataPoint.accept():this.giftAidDataPoint.reject()}},{key:"giftAidDataPoint",get:function(){if(!this._giftAidDataPoint)throw new Error("GiftAidDataPoint is not defined");return this._giftAidDataPoint}},{key:"donationDataPoint",get:function(){if(!this._donationDataPoint)throw new Error("DonationDataPoint is not defined");return this._donationDataPoint}},{key:"setShown",value:function(){this.giftAidDataPoint.setShown(!0)}},{key:"changeLegalTextOverflowed",value:function(e){this.produceViewState((function(t){t.legalTextOverflowed=e}))}}]),i}(vu.c);var Cu=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).canSubmit=!0,e}return(0,P.Z)(i,[{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkoutService.getDataPoint(cn.t.PAYMENT_OPTIONS);case 2:this._paymentOptionsDataPoint=e.sent;case 3:case"end":return e.stop()}}),e,this)})))}},{key:"paymentOptionsDataPoint",get:function(){if(!this._paymentOptionsDataPoint)throw new Error("PaymentOptionsDataPoint is not defined");return this._paymentOptionsDataPoint}},{key:"chooseOption",value:function(e){var t=this,n=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",t)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var r,i;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.pending){t.next=2;break}return t.abrupt("return");case 2:if(this.pending=!0,e!==y.GZ.PLAID){t.next=22;break}return this.paymentOptionsDataPoint.setPaymentMethod(y.GZ.PLAID),this.setProcessingState(oo.Z.PENDING),t.next=8,this.checkoutService.startPlaid();case 8:if(r=t.sent,!_t.H.isFailure(r)){t.next=13;break}return r.failureResult.message?this.showError(r.failureResult.message):this.setProcessingState(oo.Z.IDLE),this.pending=!1,t.abrupt("return");case 13:return t.next=15,this.checkoutService.hold();case 15:if(i=t.sent,!_t.H.isFailure(i)){t.next=20;break}return this.showError(this.intl.translate("common.errorOccurredText")),this.pending=!1,t.abrupt("return");case 20:t.next=23;break;case 22:this.paymentOptionsDataPoint.setPaymentMethod(y.GZ.ACH);case 23:return this.pending=!1,t.abrupt("return",n.leave.call(this));case 25:case"end":return t.stop()}}),t,this)})))}},{key:"setProcessingState",value:function(e){this.produceViewState((function(t){t.processingState=e}))}},{key:"getInitialViewState",value:function(){return{test:1,processingState:oo.Z.IDLE,plaidButtonError:void 0,locked:!1}}},{key:"showError",value:function(e){var t=this;this.produceViewState((function(t){t.processingState=oo.Z.ERROR,t.plaidButtonError=e})),q()((function(){t.produceViewState((function(e){e.processingState=oo.Z.IDLE,e.plaidButtonError=void 0}))}),5e3)}}]),i}(vu.c),Nu=n(33958),Ou=n.n(Nu),_u=n(75375);var Tu=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).canSubmit=!0,e.repeat=y.oe.ONCE,e}return(0,P.Z)(i,[{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a,o=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.checkoutService.getDataPoint(cn.t.DONATION),this.checkoutService.getDataPoint(cn.t.PAYMENT_OPTIONS)]);case 2:t=e.sent,n=(0,tt.Z)(t,2),r=n[0],i=n[1],this._donationDataPoint=r,this._paymentOptionsDataPoint=i,this.paymentOptionsDataPoint.calculatePaymentOptionsAvailability({currency:this.donationDataPoint.currency,repeat:j()(this.donationDataPoint),total:this.donationDataPoint.total||0}),this.donationDataPoint.calculateSmartCoveringFee(),this.paymentOptionsDataPoint.setPaymentMethod(null),this.paymentOptionsDataPoint.setPaymentOption(null),a=this.getPaymentButtons(),this.produceViewState((function(e){e.currency=o.donationDataPoint.currency,e.currencySymbol=o.donationDataPoint.currencySymbol,e.defaultCurrency=o.donationDataPoint.defaultCurrency,e.amount=o.donationDataPoint.amount||0,e.repeat=o.donationDataPoint.repeatOrigin,e.total=o.donationDataPoint.total,e.processingFee=o.donationDataPoint.fee,e.isFeeCovered=o.donationDataPoint.isFeeCovered,e.includeFees=o.donationDataPoint.includeFees,e.showIncludeFee=o.isIncludeFeesSectionVisible(o.donationDataPoint.includeFees),e.prefixCurrencySymbol=o.intl.formatSymbol(o.donationDataPoint.currencySymbol,Wn.PREFIX),e.postfixCurrencySymbol=o.intl.formatSymbol(o.donationDataPoint.currencySymbol,Wn.POSTFIX),e.availableOptions=(0,Un.Z)(a.available);for(var t=0,n=si()(e.buttonOptions);t<n.length;t++){var r=(0,tt.Z)(n[t],2),i=r[0];r[1].show=a.show.has(i)}e.isStripeAccountConnected=o.paymentOptionsDataPoint.isStripeAccountConnected,e.livemode=o.checkoutService.livemode,e.isRecurring=o.donationDataPoint.isRecurring,e.recurringLabel=o.recurringLabel}));case 14:case"end":return e.stop()}}),e,this)})))}},{key:"recurringLabel",get:function(){return(0,Eu.EG)(this.intl,this.donationDataPoint.repeatOrigin)}},{key:"getInitialViewState",value:function(){var e;return{showIncludeFee:!0,stripeElementsAvailable:!0,amount:0,currency:"USD",currencySymbol:"$",prefixCurrencySymbol:"",postfixCurrencySymbol:"",allowCentsForCharges:this.checkoutService.company.allowCentsForCharges,repeat:y.oe.ONCE,includeFees:y.__.DEFAULT_YES,processingFee:0,total:0,defaultCurrency:"USD",isFeeCovered:!1,availableOptions:[],buttonOptions:Gr()(B()(e=hn()(du.H)).call(e,(function(e){return[e,{show:!1}]}))),processingPlaidState:oo.Z.IDLE,locked:!1,processingACSSState:oo.Z.IDLE,isStripeAccountConnected:!1,livemode:!0,isRecurring:!0,recurringLabel:""}}},{key:"getPaymentButtons",value:function(){var e=new(cr()),t=new(cr()),n=this.paymentOptionsDataPoint.allowedPaymentMethods;if(n[y.GZ.APPLE_PAY].available&&(e.add(du.H.APPLE_PAY),n[y.GZ.APPLE_PAY].show&&t.add(du.H.APPLE_PAY)),e.add(du.H.CARD),t.add(du.H.CARD),n[y.GZ.PAYPAL].available){var r=this.checkoutService.resolvedCheckoutData.company().paypalCurrencies;st()(r).call(r,this.donationDataPoint.currency)?(e.add(du.H.PAYPAL),n[y.GZ.PAYPAL].show&&t.add(du.H.PAYPAL)):(e.add(du.H.PAYPAL_CONVERSION),t.add(du.H.PAYPAL_CONVERSION))}return n[y.GZ.GOOGLE_PAY].available&&(e.add(du.H.GOOGLE_PAY),n[y.GZ.GOOGLE_PAY].show&&t.add(du.H.GOOGLE_PAY)),n[y.GZ.VENMO].available&&(e.add(du.H.VENMO),n[y.GZ.VENMO].show&&t.add(du.H.VENMO)),n[y.GZ.CLICK_TO_PAY].available&&(e.add(du.H.CLICK_TO_PAY),n[y.GZ.CLICK_TO_PAY].show&&t.add(du.H.CLICK_TO_PAY)),n[y.GZ.ACH].available&&n[y.GZ.PLAID].available?(e.add(du.H.BANK),n[y.GZ.ACH].show&&n[y.GZ.PLAID].show&&t.add(du.H.BANK)):n[y.GZ.ACH].available?(e.add(du.H.ACH),n[y.GZ.ACH].show&&t.add(du.H.ACH)):n[y.GZ.PLAID].available&&(e.add(du.H.PLAID),n[y.GZ.PLAID].show&&t.add(du.H.PLAID)),n[y.GZ.UK_BACS].available&&(e.add(du.H.UK_BACS),n[y.GZ.UK_BACS].show&&t.add(du.H.UK_BACS)),n[y.GZ.AU_BECS].available&&(e.add(du.H.AU_BECS),n[y.GZ.AU_BECS].show&&t.add(du.H.AU_BECS)),n[y.GZ.ACSS].available&&(e.add(du.H.ACSS),n[y.GZ.ACSS].show&&t.add(du.H.ACSS)),n[y.GZ.SEPA].available&&(e.add(du.H.SEPA),n[y.GZ.SEPA].show&&t.add(du.H.SEPA)),_u.q.allSlotsAreTaken(t.size)&&(e.delete(du.H.CLICK_TO_PAY),t.delete(du.H.CLICK_TO_PAY)),{available:e,show:t}}},{key:"choosePaymentOption",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.pending){t.next=2;break}return t.abrupt("return");case 2:this.lock(),this.paymentOptionsDataPoint.setPaymentMethod(null),this.paymentOptionsDataPoint.setPaymentOption(e),t.t0=e,t.next=t.t0===du.H.CARD?8:t.t0===du.H.GOOGLE_PAY?10:t.t0===du.H.APPLE_PAY?17:t.t0===du.H.CLICK_TO_PAY?24:t.t0===du.H.UK_BACS?26:t.t0===du.H.AU_BECS?28:t.t0===du.H.VENMO?30:t.t0===du.H.ACSS?32:t.t0===du.H.BANK?41:t.t0===du.H.ACH?43:t.t0===du.H.PLAID?45:t.t0===du.H.PAYPAL?62:t.t0===du.H.PAYPAL_CONVERSION?63:t.t0===du.H.SEPA?65:67;break;case 8:return this.paymentOptionsDataPoint.setPaymentMethod(y.GZ.CARD),t.abrupt("break",69);case 10:if(!this.checkoutService.resolvedCheckoutData.infrastructureParams.showcase){t.next=13;break}return this.unlock(),t.abrupt("return");case 13:return this.paymentOptionsDataPoint.setPaymentMethod(y.GZ.GOOGLE_PAY),t.next=16,this.startGooglePay();case 16:case 23:return t.abrupt("return");case 17:if(!this.checkoutService.resolvedCheckoutData.infrastructureParams.showcase){t.next=20;break}return this.unlock(),t.abrupt("return");case 20:return this.paymentOptionsDataPoint.setPaymentMethod(y.GZ.APPLE_PAY),t.next=23,this.startApplePay();case 24:return this.paymentOptionsDataPoint.setPaymentMethod(y.GZ.CLICK_TO_PAY),t.abrupt("break",69);case 26:return this.paymentOptionsDataPoint.setPaymentMethod(y.GZ.UK_BACS),t.abrupt("break",69);case 28:return this.paymentOptionsDataPoint.setPaymentMethod(y.GZ.AU_BECS),t.abrupt("break",69);case 30:return this.paymentOptionsDataPoint.setPaymentMethod(y.GZ.VENMO),t.abrupt("break",69);case 32:if(!this.checkoutService.resolvedCheckoutData.infrastructureParams.showcase){t.next=35;break}return this.unlock(),t.abrupt("return");case 35:return this.paymentOptionsDataPoint.setPaymentMethod(y.GZ.ACSS),this.produceViewState((function(e){e.processingACSSState=oo.Z.PENDING})),t.next=39,this.startACSS();case 39:return this.produceViewState((function(e){e.processingACSSState=oo.Z.IDLE})),t.abrupt("return");case 41:return this.paymentOptionsDataPoint.setPaymentOption(du.H.BANK),t.abrupt("return",this.leaveWithoutPaymentOptionsCollect());case 43:return this.paymentOptionsDataPoint.setPaymentMethod(y.GZ.ACH),t.abrupt("break",69);case 45:return this.paymentOptionsDataPoint.setPaymentMethod(y.GZ.PLAID),this.produceViewState((function(e){e.processingPlaidState=oo.Z.PENDING})),t.next=49,this.checkoutService.startPlaid();case 49:if(n=t.sent,!_t.H.isFailure(n)){t.next=54;break}return n.failureResult.message?this.showError(n.failureResult.message,du.H.PLAID):this.produceViewState((function(e){e.processingPlaidState=oo.Z.IDLE})),this.unlock(),t.abrupt("return");case 54:return t.next=56,this.checkoutService.hold();case 56:if(r=t.sent,!_t.H.isFailure(r)){t.next=61;break}return this.unlock(),this.showError(this.intl.translate("common.errorOccurredText"),du.H.PLAID),t.abrupt("return");case 61:return t.abrupt("break",69);case 62:throw new Error("Paypal method can not be chosen");case 63:return this.paymentOptionsDataPoint.setPaymentOption(du.H.PAYPAL_CONVERSION),t.abrupt("return",this.leaveWithoutPaymentOptionsCollect());case 65:return this.paymentOptionsDataPoint.setPaymentMethod(y.GZ.SEPA),t.abrupt("break",69);case 67:throw new Error('Unknown payment option "'.concat(e,'"'));case 69:return t.abrupt("return",this.leave());case 70:case"end":return t.stop()}}),t,this)})))}},{key:"leaveWithoutPaymentOptionsCollect",value:function(){return this.checkoutService.collectDataPoint([this.donationDataPoint]),this.unlock(),(0,et.Z)((0,ce.Z)(i.prototype),"leave",this).call(this)}},{key:"leave",value:function(){return this.checkoutService.collectDataPoint([this.donationDataPoint,this.paymentOptionsDataPoint]),this.unlock(),(0,et.Z)((0,ce.Z)(i.prototype),"leave",this).call(this)}},{key:"donationDataPoint",get:function(){if(!this._donationDataPoint)throw new Error("DonationDataPoint is not defined");return this._donationDataPoint}},{key:"paymentOptionsDataPoint",get:function(){if(!this._paymentOptionsDataPoint)throw new Error("PaymentOptionsDataPoint is not defined");return this._paymentOptionsDataPoint}},{key:"initiatePaypal",value:function(e){var t=this;return this.checkoutService.initiatePaypal(e,(function(){t.unlock(),t.leave()}))}},{key:"initiateGooglePay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.paymentOptionsDataPoint.allowedPaymentMethods.googlePay.show){e.next=3;break}return e.next=3,this.checkoutService.initiateGooglePay();case 3:return e.next=5,this.syncButtonsAvailability();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"initiateApplePay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.paymentOptionsDataPoint.allowedPaymentMethods.applePay.show){e.next=3;break}return e.next=3,this.checkoutService.initiateApplePay();case 3:return e.next=5,this.syncButtonsAvailability();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"togglePaypalActions",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.checkoutService.togglePaypalActions(e);case 2:case"end":return t.stop()}}),t,this)})))}},{key:"syncButtonsAvailability",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.getPaymentButtons(),this.produceViewState((function(e){var n,r;Ou()(e.availableOptions,(0,Un.Z)(t.available))||(Ia()(n=e.availableOptions).call(n,0,e.availableOptions.length),(r=e.availableOptions).push.apply(r,(0,Un.Z)(t.available)));for(var i=0,a=si()(e.buttonOptions);i<a.length;i++){var o=(0,tt.Z)(a[i],2),s=o[0];o[1].show=t.show.has(s)}}));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"startGooglePay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkoutService.startGooglePay();case 2:if(t=e.sent,this.unlock(),!_t.H.isSuccess(t)){e.next=8;break}return e.next=7,this.leave();case 7:return e.abrupt("return");case 8:(n=t.failureResult.message)&&this.showError(n,du.H.GOOGLE_PAY);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"startApplePay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkoutService.startApplePay();case 2:if(t=e.sent,this.unlock(),!_t.H.isSuccess(t)){e.next=8;break}return e.next=7,this.leave();case 7:return e.abrupt("return");case 8:(n=t.failureResult.message)&&this.showError(n,du.H.APPLE_PAY);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"startACSS",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkoutService.startACSS();case 2:if(t=e.sent,this.unlock(),!_t.H.isSuccess(t)){e.next=8;break}return e.next=7,this.leave();case 7:return e.abrupt("return");case 8:(n=t.failureResult.message)&&this.showError(n,du.H.ACSS);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"toggleFeeCovered",value:function(){var e=this;this.donationDataPoint.isFeeCovered=!this.donationDataPoint.isFeeCovered,this.produceViewState((function(t){t.isFeeCovered=e.donationDataPoint.isFeeCovered,e.donationDataPoint.isFeeCovered&&(t.total=e.donationDataPoint.total)})),this.paymentOptionsDataPoint.calculatePaymentOptionsAvailability({currency:this.donationDataPoint.currency,repeat:j()(this.donationDataPoint),total:this.donationDataPoint.total||0}),this.syncButtonsAvailability()}},{key:"showError",value:function(e,t){var n=this;this.produceViewState((function(n){t===du.H.PLAID&&(n.processingPlaidState=oo.Z.ERROR),n.buttonOptions[t].error=e})),q()((function(){n.produceViewState((function(e){t===du.H.PLAID&&(e.processingPlaidState=oo.Z.IDLE),e.buttonOptions[t].error=void 0}))}),un.kw)}},{key:"isIncludeFeesSectionVisible",value:function(e){var t;return st()(t=[y.__.DEFAULT_YES,y.__.DEFAULT_NO]).call(t,e)}},{key:"initiateVenmo",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.checkoutService.initiateVenmo(e,A()(n=this.leave).call(n,this));case 2:return t.next=4,this.syncButtonsAvailability();case 4:case"end":return t.stop()}}),t,this)})))}},{key:"closePaypalButton",value:function(){return this.checkoutService.closePaypalButton()}},{key:"closeVenmoButton",value:function(){return this.checkoutService.closeVenmoButton()}},{key:"lock",value:function(){this.togglePaypalActions(!1),this.pending=!0}},{key:"unlock",value:function(){this.togglePaypalActions(!0),this.pending=!1}}]),i}(vu.c);var Ru=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"getInitialViewState",value:function(){return{locked:!1,currency:"",defaultCurrency:"",amount:0,from:{currency:"",amount:0}}}},{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a,o=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.checkoutService.getDataPoint(cn.t.DONATION),this.checkoutService.getDataPoint(cn.t.PAYPAL_CONVERSION)]);case 2:t=e.sent,n=(0,tt.Z)(t,2),r=n[0],i=n[1],this._donationDataPoint=r,this._paypalDataPoint=i,a=this.checkoutService.resolvedCheckoutData.campaign(),this.produceViewState((function(e){e.defaultCurrency=a.defaultCurrency,e.currency=a.defaultCurrency,e.amount=o.paypalDataPoint.calculateNewPaypalAmount(o.donationDataPoint.amount||0,o.donationDataPoint.currency,a.defaultCurrency),e.from.currency=o.donationDataPoint.currency,e.from.amount=o.donationDataPoint.amount||0}));case 10:case"end":return e.stop()}}),e,this)})))}},{key:"donationDataPoint",get:function(){if(!this._donationDataPoint)throw new Error("DonationDataPoint is not defined");return this._donationDataPoint}},{key:"paypalDataPoint",get:function(){if(!this._paypalDataPoint)throw new Error("PaypalDataPoint is not defined");return this._paypalDataPoint}},{key:"initiatePaypal",value:function(e){var t=this;return this.donationDataPoint.currency=this.viewState.currency,this.donationDataPoint.amount=this.viewState.amount,this.checkoutService.initiatePaypal(e,(function(){t.paypalDataPoint.isCurrencyConversionApplied=!0,t.leave()}))}},{key:"leave",value:function(){var e=this.paypalDataPoint.isCurrencyConversionApplied;return e||(this.donationDataPoint.currency=this.viewState.from.currency,this.donationDataPoint.amount=this.viewState.from.amount),this.closePaypalButton(),(0,et.Z)((0,ce.Z)(i.prototype),"leave",this).call(this,e?Ui.l.FORWARD:Ui.l.BACKWARD)}},{key:"closePaypalButton",value:function(){return this.checkoutService.closePaypalButton()}}]),i}(vu.c);var Iu=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"getInitialViewState",value:function(){return{locked:!1,total:0,currency:"",amount:0,period:fe.oe.MONTHLY,showAmountInput:!1,confirmError:!1,recurringMinAmount:0,startDate:(new Date).toString(),isAmountValid:!0,hasError:!1,shakeKey:0,isShowcase:!1,flowType:this.checkoutService.type}}},{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.checkoutService.getDataPoint(cn.t.POST_DONATION_UPSELL),this.checkoutService.getDataPoint(cn.t.DONATION)]);case 2:t=e.sent,n=(0,tt.Z)(t,2),r=n[0],i=n[1],this._postDonationUpsellDataPoint=r,this._donationDataPoint=i,this.produceViewState((function(e){e.total=a.donationDataPoint.total,e.currency=a.donationDataPoint.currency,e.recurringMinAmount=a.postDonationUpsellDataPoint.recurringMinAmount,e.amount=a.postDonationUpsellDataPoint.guaranteedAmount,e.startDate=a.postDonationUpsellDataPoint.startDate}));case 9:case"end":return e.stop()}}),e,this)})))}},{key:"postDonationUpsellDataPoint",get:function(){if(!this._postDonationUpsellDataPoint)throw new Error("PostDonationUpsellDataPoint is not defined");return this._postDonationUpsellDataPoint}},{key:"donationDataPoint",get:function(){if(!this._donationDataPoint)throw new Error("DonationDataPoint is not defined");return this._donationDataPoint}},{key:"makeAmountInputVisible",value:function(){this.produceViewState((function(e){e.showAmountInput=!0}))}},{key:"changeAmount",value:function(e){var t=this;this.postDonationUpsellDataPoint.amount=e,this.produceViewState((function(e){e.amount=t.postDonationUpsellDataPoint.amount,e.isAmountValid=t.postDonationUpsellDataPoint.validateAmount(),e.isAmountValid&&(e.hasError=!1)}))}},{key:"setShowedInSession",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.checkoutService.resolvedCheckoutData.infrastructureParams.showcase){e.next=2;break}return e.abrupt("return");case 2:return this.postDonationUpsellDataPoint.setShowed(),e.next=5,this.checkoutService.updateSession();case 5:return e.next=7,this.checkoutService.tryCloseSession();case 7:case"end":return e.stop()}}),e,this)})))}},{key:"validateAmount",value:function(){var e=this;this.produceViewState((function(t){t.isAmountValid=e.postDonationUpsellDataPoint.validateAmount(),t.isAmountValid&&(t.hasError=!1)}))}},{key:"skip",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.leave.call(this));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"leave",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.produceViewState((function(e){e.hasError=!e.isAmountValid,e.hasError&&(e.shakeKey+=1)})),!this.viewState.hasError){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",t.leave.call(this));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"accept",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.checkoutService.resolvedCheckoutData.infrastructureParams.showcase){e.next=2;break}return e.abrupt("return",this.leave());case 2:if(!this.pending){e.next=4;break}return e.abrupt("return");case 4:return this.pending=!0,e.next=7,this.checkoutService.acceptPostDonationUpsell();case 7:if(e.sent){e.next=12;break}return this.produceViewState((function(e){e.confirmError=!0})),this.pending=!1,e.abrupt("return");case 12:return this.postDonationUpsellDataPoint.accept(),this.pending=!1,e.abrupt("return",this.leave());case 15:case"end":return e.stop()}}),e,this)})))}}]),i}(vu.c),xu=n(63598);var Zu=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"getInitialViewState",value:function(){return{locked:!1,accountNumber:"",sortCode:"",shakeKey:0,accountHolderName:"",termsChecked:!0,errors:{},processingState:oo.Z.IDLE,livemode:this.checkoutService.resolvedCheckoutData.infrastructureParams.livemode,companyName:this.checkoutService.resolvedCheckoutData.company().name}}},{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.checkoutService.getDataPoint(cn.t.UK_BACS)]);case 2:t=e.sent,n=(0,tt.Z)(t,1),r=n[0],this.checkoutService.restoreMailingAddressFromSnapshot(cn.e.UK_BACS),this._ukBacsDataPoint=r,this.produceViewState((function(e){e.accountHolderName=i.ukBacsDataPoint.accountHolderName,e.accountNumber=i.ukBacsDataPoint.accountNumber,e.sortCode=i.ukBacsDataPoint.sortCode,e.termsChecked=i.ukBacsDataPoint.termsAccepted,i.checkoutService.getState().paymentErrors[y.GZ.UK_BACS]&&(e.shakeKey+=1)})),this.checkoutService.getState().paymentErrors[y.GZ.UK_BACS]&&this.setProcessingState(oo.Z.ERROR),this.checkoutService.setPaymentError(y.GZ.UK_BACS,!1);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"setProcessingState",value:function(e){var t=this;window.clearTimeout(this.buttonErrorStateTimeout),e===oo.Z.ERROR&&(this.buttonErrorStateTimeout=q()((function(){t.produceViewState((function(e){e.processingState=oo.Z.IDLE}))}),5e3)),this.produceViewState((function(n){n.payErrorMessage=t.checkoutService.payErrorMessage,n.processingState=e}))}},{key:"changeSortCode",value:function(e){var t=this;e.length>xu.z.MAX||(this.ukBacsDataPoint.sortCode=e,this.produceViewState((function(e){e.errors.sortCode=!1,e.sortCode=t.ukBacsDataPoint.sortCode})))}},{key:"changeAccountNumber",value:function(e){var t=this;e.length>xu.P.MAX||(this.ukBacsDataPoint.accountNumber=e,this.produceViewState((function(e){e.errors.accountNumber=!1,e.accountNumber=t.ukBacsDataPoint.accountNumber})))}},{key:"changeAccountHolderName",value:function(e){var t=this;this.ukBacsDataPoint.accountHolderName=e,this.produceViewState((function(e){e.errors.accountHolderName=!1,e.accountHolderName=t.ukBacsDataPoint.accountHolderName}))}},{key:"toggleTermsChecked",value:function(){var e=this;this.ukBacsDataPoint.termsAccepted=!this.ukBacsDataPoint.termsAccepted,this.produceViewState((function(t){t.errors.termsChecked=!1,t.termsChecked=e.ukBacsDataPoint.termsAccepted}))}},{key:"isPaymentScreen",get:function(){var e,t;return this.checkoutService.isReadyToRetryPay&&(null===(t=null===(e=this.checkoutService.getState())||void 0===e?void 0:e.paymentOptions)||void 0===t?void 0:t.clientPaymentMethod)===y.GZ.UK_BACS}},{key:"leave",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pending=!0,(t=this.ukBacsDataPoint.validate()).isValid){e.next=6;break}return this.produceViewState((function(e){e.errors.sortCode=!t.fields.sortCode.isValid,e.errors.accountNumber=!t.fields.accountNumber.isValid,e.errors.accountHolderName=!t.fields.accountHolderName.isValid,e.errors.termsChecked=!t.fields.termsAccepted.isValid,e.shakeKey+=1})),this.pending=!1,e.abrupt("return");case 6:if(this.setProcessingState(oo.Z.PENDING),!this.isPaymentScreen){e.next=9;break}return e.abrupt("return",this.pay());case 9:return e.abrupt("return",this.hold());case 10:case"end":return e.stop()}}),e,this)})))}},{key:"pay",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var n,r=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkoutService.hold();case 2:return e.next=4,this.checkoutService.pay({screen:cn.e.UK_BACS});case 4:if(n=e.sent,!_t.H.isFailure(n)){e.next=13;break}if(!n.failureResult.shouldLeave){e.next=9;break}return this.pending=!1,e.abrupt("return",t.leave.call(this));case 9:return this.produceViewState((function(e){e.payErrorMessage=r.checkoutService.payErrorMessage})),this.setProcessingState(oo.Z.ERROR),this.pending=!1,e.abrupt("return");case 13:return this.setProcessingState(oo.Z.SUCCESS),e.next=16,(0,ko.D)(un.YE);case 16:return this.pending=!1,e.abrupt("return",t.leave.call(this));case 18:case"end":return e.stop()}}),e,this)})))}},{key:"hold",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkoutService.hold();case 2:return this.pending=!1,e.abrupt("return",t.leave.call(this));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"fillDemoData",value:function(e){var t=this,n=i.demoData.sortCode.split(""),r=i.demoData.accountNumber.split(""),a=i.demoData.accountHolderName.split(""),o=Ga()((function(){var i,s,u;if(n.length)null===(i=e.sortCode.current)||void 0===i||i.focus(),t.changeSortCode(t.viewState.sortCode+n.shift());else if(r.length)null===(s=e.accountNumber.current)||void 0===s||s.focus(),t.changeAccountNumber(t.viewState.accountNumber+r.shift());else{if(!a.length)return clearInterval(o);null===(u=e.accountHolderName.current)||void 0===u||u.focus(),t.changeAccountHolderName(t.viewState.accountHolderName+a.shift())}}),50);return function(){return clearInterval(o)}}},{key:"ukBacsDataPoint",get:function(){if(!this._ukBacsDataPoint)throw new Error("UKBacsDataPoint is not defined");return this._ukBacsDataPoint}}]),i}(vu.c);Zu.demoData={sortCode:"108800",accountNumber:"00012345",accountHolderName:"Michael Smith"};var Lu=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkoutService.getDataPoint(cn.t.DONATION);case 2:return this._donationDataPoint=e.sent,e.next=5,Nt().all([this.checkoutService.getDataPoint(cn.t.UK_BACS),this.checkoutService.getDataPoint(dn.W_.PERSONAL_INFORMATION)]);case 5:t=e.sent,n=(0,tt.Z)(t,2),r=n[0],i=n[1],this._ukBacsDataPoint=r,this._personalInformationDataPoint=i,this.produceViewState((function(e){var t;e.ukBacs.accountHolderName=a.ukBacsDataPoint.accountHolderName,e.ukBacs.accountNumber=a.ukBacsDataPoint.accountNumber,e.ukBacs.sortCode=a.ukBacsDataPoint.sortCode,e.email=a.personalInformationDataPoint.email,e.company.stripe.ukBacsDisplayName=a.checkoutService.resolvedCheckoutData.company().stripe.ukBacsDisplayName,e.formattedAmount=a.intl.formatCurrency(null!==(t=a.donationDataPoint.total)&&void 0!==t?t:0,{currency:a.donationDataPoint.currency,display:"floatcents"}),e.repeat=a.donationDataPoint.repeatOrigin}));case 12:case"end":return e.stop()}}),e,this)})))}},{key:"getInitialViewState",value:function(){return{locked:!1,ukBacs:{sortCode:"",accountHolderName:"",accountNumber:""},email:"",company:{stripe:{ukBacsDisplayName:"Stripe"}},processingState:oo.Z.IDLE,formattedAmount:"",repeat:y.oe.MONTHLY}}},{key:"donationDataPoint",get:function(){if(!this._donationDataPoint)throw new Error("DonationDataPoint is not defined");return this._donationDataPoint}},{key:"leave",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pending){e.next=2;break}return e.abrupt("return");case 2:return this.pending=!0,this.setProcessingState(oo.Z.PENDING),e.next=6,this.checkoutService.pay({screen:cn.e.UK_BACS_CONFIRMATION});case 6:if(n=e.sent,!_t.H.isSuccess(n)){e.next=13;break}return this.pending=!1,this.setProcessingState(oo.Z.SUCCESS),e.next=12,(0,ko.D)(un.YE);case 12:return e.abrupt("return",t.leave.call(this));case 13:if(!n.failureResult.shouldLeave){e.next=16;break}return this.pending=!1,e.abrupt("return",t.leave.call(this));case 16:return this.setProcessingState(oo.Z.ERROR),e.next=19,(0,ko.D)(un.kw);case 19:this.setProcessingState(oo.Z.IDLE),this.pending=!1;case 21:case"end":return e.stop()}}),e,this)})))}},{key:"setProcessingState",value:function(e){var t=this;return window.clearTimeout(this.buttonErrorStateTimeout),e===oo.Z.ERROR&&(this.buttonErrorStateTimeout=q()((function(){t.produceViewState((function(e){e.processingState=oo.Z.IDLE}))}),5e3)),this.produceViewState((function(t){t.processingState=e})),this}},{key:"ukBacsDataPoint",get:function(){if(!this._ukBacsDataPoint)throw new Error("UKBacsDataPoint is not defined");return this._ukBacsDataPoint}},{key:"personalInformationDataPoint",get:function(){if(!this._personalInformationDataPoint)throw new Error("PersonalInformationDataPoint is not defined");return this._personalInformationDataPoint}}]),i}(vu.c),Mu=n(35172);var Fu,Uu=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"getInitialViewState",value:function(){return{locked:!1,upsell:{fromAmount:0},currency:"USD",highMonthlyAmount:4,lowMonthlyAmount:3}}},{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a,o=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.checkoutService.getDataPoint(cn.t.DONATION),this.checkoutService.getDataPoint(cn.t.PRE_DONATION_UPSELL)]);case 2:t=e.sent,n=(0,tt.Z)(t,2),r=n[0],i=n[1],this._donationDataPoint=r,this._preDonationUpsellDataPoint=i,this.checkoutService.restorePreDonationUpsellFromSnapshot(),this.preDonationUpsellDataPoint.setFromAmount(this.donationDataPoint.amount||0),this.preDonationUpsellDataPoint.setCurrency(this.donationDataPoint.currency),a=this.preDonationUpsellDataPoint.getUpsellAmounts(this.donationDataPoint.toObject()),this.produceViewState((function(e){e.upsell.fromAmount=o.donationDataPoint.amount||0,e.currency=o.donationDataPoint.currency,e.lowMonthlyAmount=a[0],e.highMonthlyAmount=a[1]}));case 13:case"end":return e.stop()}}),e,this)})))}},{key:"setShowed",value:function(){this.checkoutService.resolvedCheckoutData.infrastructureParams.showcase||(this.preDonationUpsellDataPoint.showed=!0)}},{key:"chooseUpsell",value:function(e){var t=this,n=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",t)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.preDonationUpsellDataPoint.used=null!==e,this.preDonationUpsellDataPoint.used?(r=e===Mu.D.HIGH?this.viewState.highMonthlyAmount:this.viewState.lowMonthlyAmount,this.preDonationUpsellDataPoint.accept(r||0,y.oe.MONTHLY)):this.preDonationUpsellDataPoint.isAccepted=!1,this.checkoutService.collectDataPoint([this.preDonationUpsellDataPoint]),this.checkoutService.syncUpdateCheckoutState(),t.abrupt("return",n.leave.call(this));case 5:case"end":return t.stop()}}),t,this)})))}},{key:"preDonationUpsellDataPoint",get:function(){if(!this._preDonationUpsellDataPoint)throw new Error("PreDonationUpsellDataPoint is not defined");return this._preDonationUpsellDataPoint}},{key:"donationDataPoint",get:function(){if(!this._donationDataPoint)throw new Error("DonationDataPoint is not defined");return this._donationDataPoint}}]),i}(vu.c);function Bu(e){var t=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,ce.Z)(e);if(t){var i=(0,ce.Z)(this).constructor;n=oe()(r,arguments,i)}else n=r.apply(this,arguments);return(0,ue.Z)(this,n)}}var Gu=function(e){(0,se.Z)(n,e);var t=Bu(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,P.Z)(n)}(fo),Hu=function(e){(0,se.Z)(n,e);var t=Bu(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,P.Z)(n)}(Po),Ku=function(e){(0,se.Z)(n,e);var t=Bu(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,P.Z)(n)}(Eo),Vu=function(e){(0,se.Z)(n,e);var t=Bu(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,P.Z)(n)}(Bo),Yu=function(e){(0,se.Z)(n,e);var t=Bu(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,P.Z)(n)}(Co),qu=(Fu={},(0,v.Z)(Fu,cn.e.ACH_GUIDE,gu),(0,v.Z)(Fu,cn.e.ACH,yu),(0,v.Z)(Fu,cn.e.AU_BECS,ku),(0,v.Z)(Fu,cn.e.CLICK_TO_PAY_SPLASH,Pu),(0,v.Z)(Fu,cn.e.CREDIT_CARD,Su),(0,v.Z)(Fu,cn.e.DONATE,Du),(0,v.Z)(Fu,cn.e.DOUBLE,bu.L),(0,v.Z)(Fu,cn.e.GIFT_AID,Au),(0,v.Z)(Fu,cn.e.LINK_TO_BANK,Cu),(0,v.Z)(Fu,cn.e.PAYMENT_OPTIONS,Tu),(0,v.Z)(Fu,cn.e.PAYPAL_CONVERSION,Ru),(0,v.Z)(Fu,cn.e.POST_DONATION_UPSELL,Iu),(0,v.Z)(Fu,cn.e.SEPA,wu),(0,v.Z)(Fu,cn.e.UK_BACS,Zu),(0,v.Z)(Fu,cn.e.UK_BACS_CONFIRMATION,Lu),(0,v.Z)(Fu,cn.e.UPSELL,Uu),(0,v.Z)(Fu,dn.nn.QUESTIONS,Yu),(0,v.Z)(Fu,dn.nn.COMMENT,Gu),(0,v.Z)(Fu,dn.nn.MAILING_ADDRESS,Hu),(0,v.Z)(Fu,dn.nn.PRIVACY,Ku),(0,v.Z)(Fu,dn.nn.THANK_YOU,Vu),(0,v.Z)(Fu,dn.nn.REMIND_ME,No),Fu),Wu=function(){function e(t,n,r,i,a,o){(0,k.Z)(this,e),this.checkoutService=t,this.intl=n,this.debug=r,this.subscriptionPeriodLabelsService=i,this.addressService=a,this.currencyService=o}return(0,P.Z)(e,[{key:"create",value:function(e,t){return new qu[e]({name:e,flow:t,checkoutService:this.checkoutService,debug:this.debug,intl:this.intl,subscriptionPeriodLabelsService:this.subscriptionPeriodLabelsService,addressService:this.addressService,currencyService:this.currencyService})}}]),e}(),ju=function(){function e(t,n){(0,k.Z)(this,e),this.resolvedCheckoutData=t,this.checkoutState=n}return(0,P.Z)(e,[{key:"get",value:function(){var e,t=this.checkoutState.get();if(!(null===(e=null==t?void 0:t.paymentOptions)||void 0===e?void 0:e.clientPaymentMethod))return dn.nn.PRIVACY;var n=t.paymentOptions.clientPaymentMethod;return this.shouldPayOnUkBacsScreen(n)?cn.e.UK_BACS_CONFIRMATION:this.shouldPayOnDoubleScreen(n)?cn.e.DOUBLE:this.shouldPayOnMailingAddressScreen()?dn.nn.MAILING_ADDRESS:this.shouldPayOnGiftAidScreen()?cn.e.GIFT_AID:dn.nn.PRIVACY}},{key:"shouldPayOnUkBacsScreen",value:function(e){return e===y.GZ.UK_BACS}},{key:"shouldPayOnDoubleScreen",value:function(e){if(this.checkoutState.get().onBehalfOf.isActive)return!1;if(!this.checkoutState.get().doubleDonation.isEnabled||!this.resolvedCheckoutData.integrations.dtdEnabled)return!1;var t=this.resolvedCheckoutData.company();return!(e===y.GZ.PAYPAL&&!t.paypalSubscriptionsEnabled||e===y.GZ.VENMO||this.checkoutState.get().giftAid.isEnabled)}},{key:"shouldPayOnMailingAddressScreen",value:function(){var e=this.checkoutState.get().mailingAddress,t=this.checkoutState.get().giftAid;return e.isEnabled&&e.isRequired||t.isEnabled&&t.isAccepted}},{key:"shouldPayOnGiftAidScreen",value:function(){var e=this.resolvedCheckoutData.infrastructureParams.showcase,t=this.checkoutState.get().giftAid,n=this.checkoutState.get().onBehalfOf;return t.isEnabled&&!n.isActive&&!e}}]),e}(),Xu={next:function(e){var t=e().paymentOptions.clientPaymentMethod,n=e().paymentOptions.selectedPaymentOption;if(!t&&!n)throw new Error("clientPaymentMethod and selectedPaymentOption can not be null at the same time");return t?function(e){switch(e.paymentOptions.clientPaymentMethod){case y.GZ.CARD:return cn.e.CREDIT_CARD;case y.GZ.PAYPAL:case y.GZ.PAYPAL_AGREEMENT:return dn.nn.PRIVACY;case y.GZ.CLICK_TO_PAY:return cn.e.CLICK_TO_PAY_SPLASH;case y.GZ.ACH:return cn.e.ACH;case y.GZ.UK_BACS:return cn.e.UK_BACS;case y.GZ.AU_BECS:return cn.e.AU_BECS;case y.GZ.SEPA:return cn.e.SEPA;case y.GZ.PLAID:case y.GZ.ACSS:case y.GZ.GOOGLE_PAY:case y.GZ.APPLE_PAY:case y.GZ.VENMO:return dn.nn.PRIVACY;default:return cn.e.CREDIT_CARD}}(e()):function(e){var t=e.paymentOptions.allowedPaymentMethods,n=e.paymentOptions.selectedPaymentOption;switch(n){case du.H.BANK:if(t[y.GZ.ACH]&&t[y.GZ.PLAID])return cn.e.LINK_TO_BANK;throw new Error('Can not move from PaymentOptions with selectedPaymentOption === "'.concat(n,'"'));case du.H.PAYPAL_CONVERSION:return cn.e.PAYPAL_CONVERSION;default:throw new Error('Unhandled selectedPaymentOption "'.concat(n,'"'))}}(e())}};var zu=cn.e.DONATE,Qu=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e,t){var n;return(0,k.Z)(this,i),r.call(this,H()(n="Can not move to ".concat(e," screen if ")).call(n,t))}return(0,P.Z)(i)}((0,me.Z)(Error)),Ju=n(10871);var $u=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e,t,n,a,o,s,u,c,l,h,d,f,m,p,v,y,g,P,S){var E;return(0,k.Z)(this,i),(E=r.call(this,e,t,n,a,o,s,u,c,l,h,d,f,m,p,v,y,g,P)).dataPointRegistry=e,E._resolvedCheckoutData=t,E.checkoutState=n,E.sessionService=a,E.tracker=o,E.currencyService=s,E.intl=u,E.iframeWindow=c,E.sentry=l,E.paymentMethods=h,E.stripeLoadingPromise=d,E.applePayStripeLoadingPromise=f,E.paymentFlowManager=m,E.paymentScreen=p,E.eventEmitter=v,E.checkoutAPIBridge=y,E.componentsPreloader=g,E.debug=P,E.securitiesAPI=S,E}return(0,P.Z)(i,[{key:"initialize",value:function(){var e=this,t=Ua()(null,{initialize:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"initialize",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var n,r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.getDataPoint(Pn.v.BROKERAGE_ACCOUNT_NUMBER),this.getDataPoint(dn.W_.MAILING_ADDRESS)]);case 2:return n=e.sent,r=(0,tt.Z)(n,2),i=r[0],a=r[1],i.isEnabled=!0,a.isEnabled=!0,a.isRequired=!0,e.next=11,t.initialize.call(this);case 11:case"end":return e.stop()}}),e,this)})))}},{key:"dispose",value:function(){var e=this,t=Ua()(null,{dispose:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"dispose",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataPoint(Pn.v.BROKERAGE_ACCOUNT_NUMBER);case 2:return e.sent.isEnabled=!1,e.next=6,t.dispose.call(this);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"paymentScreenName",get:function(){return Pn.x.STOCK_CONFIRMATION}},{key:"mobileScreensWithAskText",get:function(){var e;return H()(e=[]).call(e,(0,Un.Z)((0,et.Z)((0,ce.Z)(i.prototype),"mobileScreensWithAskText",this)),[Pn.x.STOCK_BROKERAGE])}},{key:"screensWithoutTributeBadge",get:function(){var e;return H()(e=[]).call(e,(0,Un.Z)((0,et.Z)((0,ce.Z)(i.prototype),"screensWithoutTributeBadge",this)),[Pn.x.STOCK_BROKERAGE,dn.nn.REMIND_ME])}},{key:"trackCheckoutView",value:function(){var e,t;return(0,m.mG)(this,void 0,void 0,f().mark((function n(){var r,a,o,s,u,c;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.getDataPoint(Pn.v.DONATION);case 2:r=n.sent,a=r.toObject(),o=this.resolvedCheckoutData.elementData,s=this.resolvedCheckoutData.getExternalConfig(),u=Boolean((null===(e=s.launcher)||void 0===e?void 0:e.elementKey)&&(null===(t=s.checkoutData)||void 0===t?void 0:t.amount)),c=V()()-this.tracker.checkoutOpenTimestamp,this.debug.log("checkout opening time:eventCheckoutView","".concat(c," ms")),this.tracker.track(new qa({repeat:j()(a),currency:a.currency,amount:a.amount,amountOptions:i.emptyAmountOptions},o,c,Fe()({isAmountFromElement:u})));case 10:case"end":return n.stop()}}),n,this)})))}},{key:"trackCheckoutClose",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,a;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(0,Ju.Ch)(e),t.next=3,this.getDataPoint(Pn.v.DONATION);case 3:n=t.sent,r=n.toObject(),a=this.resolvedCheckoutData.elementData,this.tracker.track(new Ka({repeat:j()(r),currency:r.currency,amount:r.amount,amountOptions:i.emptyAmountOptions},a,e));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"trackCheckoutScreenView",value:function(e,t){return(0,m.mG)(this,void 0,void 0,f().mark((function n(){var r,a,o,s,u,c,l,h;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(0,Ju.Ch)(e),n.next=3,Nt().all([this.getDataPoint(Pn.v.DONATION),this.getDataPoint(dn.W_.TRIBUTE)]);case 3:r=n.sent,a=(0,tt.Z)(r,2),o=a[0],s=a[1],u=o.toObject(),c=s.toObject(),l=this.resolvedCheckoutData.elementData,h={},t&&(h.transitionDuration=(new Date).getTime()-t.getTime()),this.tracker.track(new Va({repeat:j()(u),currency:u.currency,amount:u.amount,amountOptions:i.emptyAmountOptions},l,no(e,c.isActive),Fe()(h)));case 13:case"end":return n.stop()}}),n,this)})))}},{key:"getState",value:function(){return this.checkoutState.get()}},{key:"closeSession",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sessionService.close());case 1:case"end":return e.stop()}}),e,this)})))}},{key:"hold",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.resolvedCheckoutData.infrastructureParams.showcase){e.next=2;break}return e.abrupt("return",_t.H.fail({}));case 2:return e.next=4,this.getDataPoint(Pn.v.BROKER);case 4:return t=e.sent,e.prev=5,e.next=8,this.updateSession();case 8:return e.next=10,this.sessionService.hold({clientPaymentMethod:fe.GZ.STOCK,token:{brokerId:t.broker.id}});case 10:return e.abrupt("return",_t.H.success(void 0));case 13:return e.prev=13,e.t0=e.catch(5),e.abrupt("return",_t.H.fail({}));case 16:case"end":return e.stop()}}),e,this,[[5,13]])})))}},{key:"submitSecurities",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.securitiesAPI.update(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"pay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setPaymentAttempt(),e.next=3,this.updateSession();case 3:return e.prev=3,e.next=6,this.sessionService.pay();case 6:t=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),this.capturePayErrorToSentry(e.t0),e.abrupt("return",_t.H.fail({}));case 13:if(!_t.H.isFailure(t)){e.next=15;break}return e.abrupt("return",_t.H.fail({}));case 15:if(t.successResult.data.donationId){e.next=17;break}return e.abrupt("return",_t.H.fail({}));case 17:return this.checkoutState.setDonationResultState({donationId:t.successResult.data.donationId,customerId:t.successResult.data.customerId}),this.handleDonationCompleted(),e.abrupt("return",_t.H.success(void 0));case 20:case"end":return e.stop()}}),e,this,[[3,9]])})))}},{key:"updateSession",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h,d,m,p,v,y,g,k,P,S,E,D,b,w,A,C,N,O,_,T,R,I,x,Z;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.resolvedCheckoutData.infrastructureParams.showcase){e.next=2;break}return e.abrupt("return",_t.H.success({}));case 2:return e.next=4,Nt().all([this.getDataPoint(Pn.v.BROKER),this.getDataPoint(Pn.v.BROKERAGE_ACCOUNT_NUMBER),this.getDataPoint(Pn.v.CO_OWNER),this.getDataPoint(Pn.v.DONATION),this.getDataPoint(Pn.v.SIGNATURE),this.getDataPoint(dn.W_.PERSONAL_INFORMATION),this.getDataPoint(dn.W_.CUSTOMER_TITLE),this.getDataPoint(dn.W_.PHONE_NUMBER),this.getDataPoint(dn.W_.TRIBUTE),this.getDataPoint(dn.W_.COMMENT),this.getDataPoint(dn.W_.DESIGNATION),this.getDataPoint(dn.W_.QUESTIONS),this.getDataPoint(dn.W_.TERMS_AND_CONDITIONS),this.getDataPoint(dn.W_.ON_BEHALF_OF),this.getDataPoint(dn.W_.DONATE_ANONYMOUS),this.getDataPoint(dn.W_.MAILING_LIST_SUBSCRIPTION),this.getDataPoint(dn.W_.REMIND_ME_LATER)]);case 4:return t=e.sent,n=(0,tt.Z)(t,17),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],d=n[9],m=n[10],p=n[11],v=n[12],y=n[13],g=n[14],k=n[15],P=n[16],S=r.toObject(),E=i.toObject(),D=s.toObject(),b=a.toObject(),w=o.toObject(),A=u.toObject(),C=c.toObject(),N=l.toObject(),O=h.toObject(),_=p.toObject(),T=v.toObject(),R=y.toObject(),I=g.toObject(),x=k.toObject(),Z=P.toObject(),e.abrupt("return",this.sessionService.update({donationType:fe.Cl.STOCK,comment:d.comment,tribute:O.inHonorOf&&h.isActive?{labelType:O.labelType,type:O.type,inHonorOf:O.inHonorOf}:null,questions:_.questions,customer:{firstName:A.firstName,lastName:A.lastName,title:C.title,email:A.email,phone:N.phone,onBehalfOf:R.companyName,subscriptionChecked:x.checked,anonymousChecked:I.anonymousChecked,termsChecked:T.isAccepted},donation:{repeat:fe.oe.ONCE,amount:w.amount,currency:w.currency,total:w.total,goalKey:m.goalKey,goalName:m.goalName},payment:{paymentMethod:{brokerName:"Chase",brokerLogo:null},data:{brokerageAccount:{broker:{logo:S.broker.logo,id:S.broker.id,name:S.broker.name,plaidAllowed:S.broker.plaidAllowed},signature:D.transcript?{transcript:D.transcript}:null,coOwners:a.isEnabled?[b]:[],accountNumber:E.accountNumber}}},emailOnExit:{email:Z.email}}));case 39:case"end":return e.stop()}}),e,this)})))}},{key:"getPreloadComponents",value:function(){return[]}},{key:"queryParams",get:function(){return this.resolvedCheckoutData.queryParams}},{key:"setCloseButtonVisibility",value:function(e,t){var n=[Pn.x.STOCK_BROKERAGE,dn.nn.THANK_YOU],r=[dn.nn.COMMENT];this.checkoutState.showCloseButton=!st()(t).call(t,Pn.x.STOCK_BROKERAGE)&&st()(r).call(r,e)||st()(n).call(n,e),this.checkoutState.syncUpdate()}},{key:"type",get:function(){return this.checkoutState.flowType}},{key:"saveRemindMeLaterEmail",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.updateSession();case 2:case"end":return e.stop()}}),e,this)})))}},{key:"getDonationParams",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataPoint(Pn.v.DONATION);case 2:return t=e.sent,n=t.toObject(),e.abrupt("return",{amount:n.amount,total:n.total,currency:n.currency,repeat:j()(n),publicFee:0,canModifyAmount:!0});case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getPublicCheckoutDonationParams",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.getCommonPublicCheckoutDonationParams({clientPaymentMethod:fe.GZ.STOCK,payResult:this.checkoutState.get().donationResultState}));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"saveCheckoutClosePublicParams",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPublicCheckoutDonationParams();case 2:return t=e.sent,e.next=5,this.getCommonPublicCheckoutIntentParams();case 5:n=e.sent,this.checkoutAPIBridge.setDonationParams(t),this.checkoutAPIBridge.setIntentParams(n);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"screensWithoutAskOverlay",get:function(){var e;return H()(e=[]).call(e,(0,Un.Z)((0,et.Z)((0,ce.Z)(i.prototype),"screensWithoutAskOverlay",this)),[Pn.x.STOCK_BROKERAGE])}},{key:"showFAQLinks",get:function(){return!1}},{key:"getAnalyticsEventPayload",value:function(){var e;return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,a,o,s,u,c,l;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Nt().all([this.getDataPoint(Pn.v.DONATION),this.getDataPoint(dn.W_.PERSONAL_INFORMATION),this.getDataPoint(dn.W_.DESIGNATION)]);case 2:return n=t.sent,r=(0,tt.Z)(n,3),a=r[0],o=r[1],s=r[2],u=a.toObject(),c=o.toObject(),l=s.toObject(),t.abrupt("return",{method:fe.GZ.STOCK,amount:u.amount,total:u.total,currency:a.currency,repeat:j()(u),includeFees:!1,_goal:l.goalKey||"",email:c.email,donationId:null===(e=this.checkoutState.get().donationResultState)||void 0===e?void 0:e.donationId,sessionId:this.tracker.checkoutViewId,amountOptions:{once:i.emptyAmountOptions[fe.oe.ONCE],monthly:i.emptyAmountOptions[fe.oe.MONTHLY]},defaultAmount:{once:0,monthly:0}});case 11:case"end":return t.stop()}}),t,this)})))}}]),i}(to);var ec=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e,t,n){var a;return(0,k.Z)(this,i),(a=r.call(this,e,t)).campaignConfig=e,a.debug=t,a.dataPointRegistry=n,a._donationDataPoint=null,a._personalInformationDataPoint=null,a._tributeDataPoint=null,a._commentDataPoint=null,a._mailingAddressDataPoint=null,a._questionsDataPoint=null,a._brokerDataPoint=null,a._coOwnerDataPoint=null,a._securitiesDataPoint=null,a.flowType=fe.Cl.STOCK,a}return(0,P.Z)(i,[{key:"get",value:function(){var e;return{donation:this.donationState,personalInformation:this.personalInformationState,tribute:this.tributeState,comment:this.commentState,mailingAddress:this.mailingAddressState,questions:this.questionsState,broker:this.brokerState,coOwner:this.coOwnerState,hasPaymentAttempt:this.hasPaymentAttempt,hasMailingAddressError:this.hasMailingAddressError,tributeDonorPortalLink:this.tributeDonorPortalLink,donationResultState:this.donationResultState,isPaid:Boolean(null===(e=this.donationResultState)||void 0===e?void 0:e.donationId),showCloseButton:this.showCloseButton,askPageActiveTab:this.askPageActiveTab}}},{key:"donationDataPoint",get:function(){if(!this._donationDataPoint)throw new Error("donationDataPoint not initialized");return this._donationDataPoint}},{key:"personalInformationDataPoint",get:function(){if(!this._personalInformationDataPoint)throw new Error("DataPoint Not Initialized");return this._personalInformationDataPoint}},{key:"tributeDataPoint",get:function(){if(!this._tributeDataPoint)throw new Error("DataPoint Not Initialized");return this._tributeDataPoint}},{key:"commentDataPoint",get:function(){if(!this._commentDataPoint)throw new Error("DataPoint Not Initialized");return this._commentDataPoint}},{key:"mailingAddressDataPoint",get:function(){if(!this._mailingAddressDataPoint)throw new Error("DataPoint Not Initialized");return this._mailingAddressDataPoint}},{key:"questionsDataPoint",get:function(){if(!this._questionsDataPoint)throw new Error("QuestionsDataPoint Not Initialized");return this._questionsDataPoint}},{key:"brokerDataPoint",get:function(){if(!this._brokerDataPoint)throw new Error("BrokerDataPoint Not Initialized");return this._brokerDataPoint}},{key:"coOwnerDataPoint",get:function(){if(!this._coOwnerDataPoint)throw new Error("CoOwnerDataPoint Not Initialized");return this._coOwnerDataPoint}},{key:"securitiesDataPoint",get:function(){if(!this._securitiesDataPoint)throw new Error("SecuritiesDataPoint Not Initialized");return this._securitiesDataPoint}},{key:"donationState",get:function(){return{isEnabled:this.donationDataPoint.isEnabled,isRequired:this.donationDataPoint.isRequired,amount:this.donationDataPoint.total,currency:this.donationDataPoint.currency,repeat:j()(this.donationDataPoint),defaultAmount:0,amountOptions:[]}}},{key:"personalInformationState",get:function(){return{isEnabled:this.personalInformationDataPoint.isEnabled,isRequired:this.personalInformationDataPoint.isRequired,isCollected:this.collectedDataPoints.has(this.personalInformationDataPoint)}}},{key:"tributeState",get:function(){return{isEnabled:this.tributeDataPoint.isEnabled,isRequired:this.tributeDataPoint.isRequired,name:this.tributeDataPoint.tributeeName,labelType:this.tributeDataPoint.labelType,isActive:this.tributeDataPoint.isActive}}},{key:"commentState",get:function(){return{isEnabled:this.commentDataPoint.isEnabled,isRequired:this.commentDataPoint.isRequired}}},{key:"mailingAddressState",get:function(){return{isEnabled:this.mailingAddressDataPoint.isEnabled,isRequired:this.mailingAddressDataPoint.isRequired,isCollected:this.collectedDataPoints.has(this.mailingAddressDataPoint)}}},{key:"questionsState",get:function(){return{isEnabled:this.questionsDataPoint.isEnabled}}},{key:"brokerState",get:function(){return{isEnabled:this.brokerDataPoint.isEnabled,isRequired:this.brokerDataPoint.isRequired,isPlaidAllowed:this.brokerDataPoint.isPlaidAllowed}}},{key:"coOwnerState",get:function(){return{isEnabled:this.coOwnerDataPoint.isEnabled,isRequired:this.coOwnerDataPoint.isRequired}}},{key:"preloadDataPointInstances",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.dataPointRegistry.getDataPoint(Pn.v.DONATION),this.dataPointRegistry.getDataPoint(dn.W_.PERSONAL_INFORMATION),this.dataPointRegistry.getDataPoint(dn.W_.TRIBUTE),this.dataPointRegistry.getDataPoint(dn.W_.COMMENT),this.dataPointRegistry.getDataPoint(dn.W_.MAILING_ADDRESS),this.dataPointRegistry.getDataPoint(dn.W_.QUESTIONS),this.dataPointRegistry.getDataPoint(Pn.v.BROKER),this.dataPointRegistry.getDataPoint(Pn.v.CO_OWNER),this.dataPointRegistry.getDataPoint(Pn.v.SECURITIES)]);case 2:return t=e.sent,n=(0,tt.Z)(t,9),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],this._donationDataPoint=r,this._personalInformationDataPoint=i,this._tributeDataPoint=a,this._commentDataPoint=o,this._mailingAddressDataPoint=s,this._questionsDataPoint=u,this._brokerDataPoint=c,this._coOwnerDataPoint=l,this._securitiesDataPoint=h,e.abrupt("return",[this.donationDataPoint,this.personalInformationDataPoint,this.tributeDataPoint,this.mailingAddressDataPoint,this.questionsDataPoint,this.brokerDataPoint,this.coOwnerDataPoint,this.securitiesDataPoint]);case 23:case"end":return e.stop()}}),e,this)})))}},{key:"getDataPointInstance",value:function(e){switch(e){case Pn.v.DONATION:return this.donationDataPoint;case dn.W_.PERSONAL_INFORMATION:return this.personalInformationDataPoint;case dn.W_.TRIBUTE:return this.tributeDataPoint;case dn.W_.COMMENT:return this.commentDataPoint;case Pn.v.SECURITIES:return this.securitiesDataPoint;default:throw new Error("Unknown DataPoint: ".concat(e))}}},{key:"onSecuritiesDataPointCollected",value:function(){var e=this.securitiesDataPoint.getAmount();this.donationDataPoint.amount=e}},{key:"onTributeDataPointCollected",value:function(){}},{key:"onBehalfOfDataPointCollected",value:function(){}},{key:"onDesignationDataPointCollected",value:function(){}}]),i}(io),tc=n(31678);var nc=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i)}(so.K);var rc=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).canSubmit=!0,e}return(0,P.Z)(i,[{key:"getInitialViewState",value:function(){return{locked:!1,enabledFlows:{crypto:this.checkoutService.campaignConfig.donationTypes.crypto.enabled,money:this.checkoutService.campaignConfig.donationTypes.money.enabled},broker:{id:"",name:"",logo:null,plaidAllowed:!1},brokers:[],repeat:fe.oe.ONCE,designation:{show:!1,goalKey:null,goals:[],isEditable:!0},comment:{isEnabled:!1,content:"",prevContent:""},tribute:{name:"",isActive:!1,show:!1,labelType:y.h2.IN_HONOR_MEMORY,sharingEnabled:!1},processingState:oo.Z.IDLE,isStockAccountConnected:!1,payButtonTooltip:{title:""},shakeKey:0,validation:tc.default.defaultValidationResult}}},{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataPoints();case 2:this.designationDataPoint.goalKey||this.designationDataPoint.changeGoalKeyByRepeat(fe.oe.ONCE),this.produceViewState((function(e){e.broker=t.brokerDataPoint.broker,e.designation.show=t.designationDataPoint.isEnabled,e.designation.goalKey=t.designationDataPoint.goalKey,e.designation.goals=t.designationDataPoint.goals,e.designation.isEditable=t.designationDataPoint.canChangeDesignation(t.getAllowedGoals(e.designation.goals,j()(e)).length),e.comment.isEnabled=t.commentDataPoint.isEnabled,e.comment.content=t.commentDataPoint.comment,e.comment.prevContent=t.commentDataPoint.prevComment,e.tribute.name=t.tributeDataPoint.tributeeName,e.tribute.isActive=t.tributeDataPoint.isActive,e.tribute.show=t.tributeDataPoint.isEnabled,e.tribute.labelType=t.tributeDataPoint.labelType,e.tribute.sharingEnabled=t.tributeDataPoint.isSharingEnabled,e.isStockAccountConnected=!!t.checkoutService.company.plaidAccount}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"searchBrokers",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.brokerDataPoint.getBrokers(e);case 2:n=t.sent,this.produceViewState((function(e){e.brokers=n}));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"savePrevComment",value:function(){this.checkoutService.resolvedCheckoutData.infrastructureParams.showcase||this.commentDataPoint.savePrevComment()}},{key:"validate",value:function(){var e=this.brokerDataPoint.validate();this.produceViewState((function(t){t.validation=e}))}},{key:"resetValidation",value:function(){this.produceViewState((function(e){e.validation=tc.default.defaultValidationResult}))}},{key:"leave",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validate(),this.viewState.validation.fields.broker.isValid){e.next=4;break}return this.produceViewState((function(e){e.shakeKey+=1})),e.abrupt("return");case 4:return this.checkoutService.collectDataPoint([this.designationDataPoint,this.commentDataPoint,this.tributeDataPoint,this.brokerDataPoint]),e.next=7,this.hold();case 7:if(n=e.sent,!_t.H.isFailure(n)){e.next=10;break}return e.abrupt("return");case 10:return e.abrupt("return",t.leave.call(this));case 11:case"end":return e.stop()}}),e,this)})))}},{key:"changeBroker",value:function(e){var t;this.viewState.validation.isValid||this.resetValidation();var n=at()(t=this.viewState.brokers).call(t,(function(t){return t.id===e}));n&&(this.brokerDataPoint.broker=n,this.produceViewState((function(e){e.broker=n})))}},{key:"changeGoal",value:function(e){var t=this;this.designationDataPoint.goalKey=e,this.produceViewState((function(e){e.designation.goalKey=t.designationDataPoint.goalKey}))}},{key:"getAllowedGoals",value:function(e,t){var n=this;return this.checkoutService.resolvedCheckoutData.infrastructureParams.showcase&&!this._designationDataPoint?[]:he()(e).call(e,(function(e){return n.designationDataPoint.isGoalAllowedToShow(e,t)}))}},{key:"getGoalByKey",value:function(e){var t;return at()(t=this.viewState.designation.goals).call(t,(function(t){return t.key===e}))||null}},{key:"toggleTribute",value:function(){var e=this;this.tributeDataPoint.isActive=!this.tributeDataPoint.isActive,this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((function(t){t.tribute.isActive=e.tributeDataPoint.isActive}))}},{key:"changeTributeName",value:function(e){var t=this;this.tributeDataPoint.tributeeName=e,this.checkoutService.syncUpdateCheckoutState(),this.produceViewState((function(e){e.tribute.name=t.tributeDataPoint.tributeeName}))}},{key:"shouldShowDesignation",value:function(){return this.viewState.designation.show&&!!this.getAllowedGoals(this.viewState.designation.goals,j()(this.viewState)).length}},{key:"addComment",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkoutService.makeDataPointRequired(dn.W_.COMMENT),e.abrupt("return",t.leave.call(this));case 2:case"end":return e.stop()}}),e,this)})))}},{key:"designationDataPoint",get:function(){if(!this._designationDataPoint)throw new Error("DesignationDataPoint is not defined");return this._designationDataPoint}},{key:"tributeDataPoint",get:function(){if(!this._tributeDataPoint)throw new Error("TributeDataPoint is not defined");return this._tributeDataPoint}},{key:"commentDataPoint",get:function(){if(!this._commentDataPoint)throw new Error("CommentDataPoint is not defined");return this._commentDataPoint}},{key:"brokerDataPoint",get:function(){if(!this._brokerDataPoint)throw new Error("BrokerDataPoint is not defined");return this._brokerDataPoint}},{key:"hold",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.produceViewState((function(e){e.processingState=oo.Z.PENDING})),e.next=3,this.withPending((function(){return n.checkoutService.hold()}));case 3:if(t=e.sent,!_t.H.isFailure(t)){e.next=9;break}return e.next=7,this.showHoldError();case 7:e.next=10;break;case 9:this.produceViewState((function(e){e.processingState=oo.Z.IDLE}));case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,this)})))}},{key:"showHoldError",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.produceViewState((function(e){e.payButtonTooltip.title=t.intl.translate("common.errorOccurredText")})),this.produceViewState((function(e){e.processingState=oo.Z.ERROR})),e.next=4,(0,ko.D)(un.kw-250);case 4:return this.produceViewState((function(e){e.processingState=oo.Z.IDLE})),e.next=7,(0,ko.D)(250);case 7:this.produceViewState((function(e){e.payButtonTooltip.title=""}),!0);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"withPending",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.pending=!0,t.next=3,e();case 3:return n=t.sent,this.pending=!1,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"getDataPoints",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.checkoutService.getDataPoint(dn.W_.DESIGNATION),this.checkoutService.getDataPoint(dn.W_.COMMENT),this.checkoutService.getDataPoint(dn.W_.TRIBUTE),this.checkoutService.getDataPoint(Pn.v.BROKER)]);case 2:t=e.sent,n=(0,tt.Z)(t,4),r=n[0],i=n[1],a=n[2],o=n[3],this._designationDataPoint=r,this._tributeDataPoint=a,this._commentDataPoint=i,this._brokerDataPoint=o;case 12:case"end":return e.stop()}}),e,this)})))}}]),i}(nc);var ic=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).canSubmit=!0,e}return(0,P.Z)(i,[{key:"getInitialViewState",value:function(){return{locked:!1,owner:{fullName:"",email:"",phone:null},coOwner:{isEnabled:!1,fullName:"",email:""},broker:{id:"",name:"",logo:"",plaidAllowed:!1},securities:[],accountNumber:"",total:0,processingState:oo.Z.IDLE,payErrorMessage:""}}},{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataPoints();case 2:this.produceViewState((function(e){e.owner.fullName=t.personalInformationDataPoint.fullName,e.owner.email=t.personalInformationDataPoint.email,e.owner.phone=t.phoneNumberDataPoint.phone,e.coOwner.isEnabled=t.coOwnerDataPoint.isEnabled,e.coOwner.fullName=t.coOwnerDataPoint.fullName,e.coOwner.email=t.coOwnerDataPoint.email,e.broker=t.brokerDataPoint.broker,e.securities=t.securitiesDataPoint.securitiesWithSubtotals,e.accountNumber=t.brokerageAccountNumber.accountNumber,e.total=t.stockDonationDataPoint.total,e.processingState=oo.Z.IDLE}));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"leave",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pending){e.next=2;break}return e.abrupt("return");case 2:return this.pending=!0,e.next=5,this.pay();case 5:if(n=e.sent,this.pending=!1,!_t.H.isSuccess(n)){e.next=10;break}return this.setProcessingState(oo.Z.SUCCESS),e.abrupt("return",t.leave.call(this));case 10:if(!n.failureResult.shouldLeave){e.next=12;break}return e.abrupt("return",t.leave.call(this));case 12:case"end":return e.stop()}}),e,this)})))}},{key:"pay",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.checkoutService.resolvedCheckoutData.infrastructureParams.showcase){e.next=2;break}return e.abrupt("return",_t.H.success(void 0));case 2:return this.setProcessingState(oo.Z.PENDING),e.next=5,this.checkoutService.pay({screen:Pn.x.STOCK_CONFIRMATION});case 5:if(t=e.sent,!_t.H.isSuccess(t)){e.next=8;break}return e.abrupt("return",t);case 8:if(!t.failureResult.shouldLeave){e.next=10;break}return e.abrupt("return",t);case 10:return this.produceViewState((function(e){e.payErrorMessage=n.intl.translate("common.errorOccurredText")})),this.setProcessingState(oo.Z.ERROR),e.next=14,(0,ko.D)(un.kw);case 14:return this.setProcessingState(oo.Z.IDLE),e.abrupt("return",_t.H.fail({shouldLeave:!1}));case 16:case"end":return e.stop()}}),e,this)})))}},{key:"setProcessingState",value:function(e){return this.produceViewState((function(t){t.processingState=e})),this}},{key:"personalInformationDataPoint",get:function(){if(!this._personalInformationDataPoint)throw new Error("PersonalInformationDataPoint is not defined");return this._personalInformationDataPoint}},{key:"coOwnerDataPoint",get:function(){if(!this._coOwnerDataPoint)throw new Error("CoOwnerDataPoint is not defined");return this._coOwnerDataPoint}},{key:"brokerDataPoint",get:function(){if(!this._brokerDataPoint)throw new Error("BrokerDataPoint is not defined");return this._brokerDataPoint}},{key:"securitiesDataPoint",get:function(){if(!this._securitiesDataPoint)throw new Error("SecuritiesDataPoint is not defined");return this._securitiesDataPoint}},{key:"brokerageAccountNumber",get:function(){if(!this._brokerageAccountNumber)throw new Error("BrokerageAccountNumber is not defined");return this._brokerageAccountNumber}},{key:"stockDonationDataPoint",get:function(){if(!this._stockDonationDataPoint)throw new Error("StockDonationDataPoint is not defined");return this._stockDonationDataPoint}},{key:"phoneNumberDataPoint",get:function(){if(!this._phoneNumberDataPoint)throw new Error("PhoneNumberDataPoint is not defined");return this._phoneNumberDataPoint}},{key:"getDataPoints",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a,o,s,u,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.checkoutService.getDataPoint(dn.W_.PERSONAL_INFORMATION),this.checkoutService.getDataPoint(dn.W_.PHONE_NUMBER),this.checkoutService.getDataPoint(Pn.v.CO_OWNER),this.checkoutService.getDataPoint(Pn.v.BROKER),this.checkoutService.getDataPoint(Pn.v.SECURITIES),this.checkoutService.getDataPoint(Pn.v.BROKERAGE_ACCOUNT_NUMBER),this.checkoutService.getDataPoint(Pn.v.DONATION)]);case 2:t=e.sent,n=(0,tt.Z)(t,7),r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],c=n[6],this._personalInformationDataPoint=r,this._phoneNumberDataPoint=i,this._coOwnerDataPoint=a,this._brokerDataPoint=o,this._securitiesDataPoint=s,this._brokerageAccountNumber=u,this._stockDonationDataPoint=c;case 18:case"end":return e.stop()}}),e,this)})))}}]),i}(nc);var ac=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).canSubmit=!0,e}return(0,P.Z)(i,[{key:"getInitialViewState",value:function(){return{locked:!1}}},{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.checkoutService.getDataPoint(Pn.v.CO_OWNER)]);case 2:t=e.sent,n=(0,tt.Z)(t,1),r=n[0],this._coOwnerDataPoint=r;case 6:case"end":return e.stop()}}),e,this)})))}},{key:"leaveScreen",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e?this.coOwnerDataPoint.enable():this.coOwnerDataPoint.disable(),t.next=3,this.leave();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"coOwnerDataPoint",get:function(){if(!this._coOwnerDataPoint)throw new Error("CoOwnerDataPoint is not defined");return this._coOwnerDataPoint}}]),i}(nc),oc=n(29128);var sc=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"getInitialViewState",value:function(){return{locked:!1,firstName:"",lastName:"",fullName:"",signature:"",email:"",validation:oc.default.validationByDefault,shakeKey:0}}},{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkoutService.getDataPoint(Pn.v.CO_OWNER);case 2:this._coOwnerDataPoint=e.sent,this.produceViewState((function(e){e.firstName=t.coOwnerDataPoint.firstName,e.lastName=t.coOwnerDataPoint.lastName,e.fullName=t.coOwnerDataPoint.fullName,e.signature=t.coOwnerDataPoint.signature,e.email=t.coOwnerDataPoint.email}));case 4:case"end":return e.stop()}}),e,this)})))}},{key:"leave",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validate(),this.viewState.validation.isValid){e.next=4;break}return this.produceViewState((function(e){e.shakeKey+=1})),e.abrupt("return");case 4:return this.checkoutService.collectDataPoint([this.coOwnerDataPoint]),e.abrupt("return",t.leave.call(this));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"changeFirstName",value:function(e){var t=this;this.coOwnerDataPoint.firstName=e,this.produceViewState((function(e){e.firstName=t.coOwnerDataPoint.firstName,e.validation.fields.firstName.isValid=!0}))}},{key:"changeLastName",value:function(e){var t=this;this.coOwnerDataPoint.lastName=e,this.produceViewState((function(e){e.lastName=t.coOwnerDataPoint.lastName,e.validation.fields.lastName.isValid=!0}))}},{key:"changeEmail",value:function(e){var t=this;this.coOwnerDataPoint.email=e,this.produceViewState((function(e){e.email=t.coOwnerDataPoint.email,e.validation.fields.email.isValid=!0}))}},{key:"changeSignature",value:function(e){var t=this;this.coOwnerDataPoint.signature=e,this.produceViewState((function(e){e.signature=t.coOwnerDataPoint.signature,e.validation.fields.signature.isValid=!0}))}},{key:"validate",value:function(){var e=this.coOwnerDataPoint.validate();this.produceViewState((function(t){t.validation=e}))}},{key:"coOwnerDataPoint",get:function(){if(!this._coOwnerDataPoint)throw new Error("CoOwnerDataPoint is not defined");return this._coOwnerDataPoint}}]),i}(nc);var uc=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).canSubmit=!0,e}return(0,P.Z)(i,[{key:"getInitialViewState",value:function(){return{locked:!1,livemode:this.checkoutService.resolvedCheckoutData.infrastructureParams.livemode}}}]),i}(nc);var cc=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).canSubmit=!0,e}return(0,P.Z)(i,[{key:"securitiesDataPoint",get:function(){if(!this._securitiesDataPoint)throw new Error("SecuritiesDataPoint is not defined");return this._securitiesDataPoint}},{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataPoints();case 2:this.produceViewState((function(e){e.selectedSecurities=t.securitiesDataPoint.securities,e.totalAmount=t.securitiesDataPoint.getAmount()}));case 3:case"end":return e.stop()}}),e,this)})))}},{key:"searchSecurities",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.securitiesDataPoint.getSecurities(e);case 2:n=t.sent,this.produceViewState((function(e){e.securities=n}));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"addSecurity",value:function(e){var t,n=this,r=at()(t=this.viewState.securities).call(t,(function(t){return t.ticker===e}));r&&(this.securitiesDataPoint.add(r),this.produceViewState((function(e){e.selectedSecurities=n.securitiesDataPoint.securities,e.totalAmount=n.securitiesDataPoint.getAmount()})))}},{key:"removeSecurity",value:function(e){var t=this;this.securitiesDataPoint.remove(e),this.produceViewState((function(e){e.selectedSecurities=t.securitiesDataPoint.securities,e.totalAmount=t.securitiesDataPoint.getAmount()}))}},{key:"changeQuantity",value:function(e,t){var n=this;this.securitiesDataPoint.changeQuantity(e,t),this.produceViewState((function(e){e.selectedSecurities=n.securitiesDataPoint.securities,e.totalAmount=n.securitiesDataPoint.getAmount()}))}},{key:"leave",value:function(){return this.checkoutService.collectDataPoint([this.securitiesDataPoint]),this.checkoutService.submitSecurities(this.securitiesDataPoint.securities),(0,et.Z)((0,ce.Z)(i.prototype),"leave",this).call(this)}},{key:"getInitialViewState",value:function(){return{locked:!1,totalAmount:0,securities:[],selectedSecurities:[]}}},{key:"getDataPoints",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.checkoutService.getDataPoint(Pn.v.SECURITIES)]);case 2:t=e.sent,n=(0,tt.Z)(t,1),r=n[0],this._securitiesDataPoint=r;case 6:case"end":return e.stop()}}),e,this)})))}}]),i}(nc),lc=n(31802);var hc,dc=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).canSubmit=!0,e}return(0,P.Z)(i,[{key:"getInitialViewState",value:function(){return{locked:!1,fullName:"",signature:"",validation:lc.default.defaultValidationResult,shakeKey:0}}},{key:"beforeEnter",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r,i,a=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nt().all([this.checkoutService.getDataPoint(Pn.v.SIGNATURE),this.checkoutService.getDataPoint(dn.W_.PERSONAL_INFORMATION)]);case 2:t=e.sent,n=(0,tt.Z)(t,2),r=n[0],i=n[1],this._signatureDataPoint=r,this._personalInformationDataPoint=i,this.produceViewState((function(e){e.signature=a.signatureDataPoint.signature,e.fullName=a.personalInformationDataPoint.fullName}));case 9:case"end":return e.stop()}}),e,this)})))}},{key:"changeSignature",value:function(e){var t=this;this.viewState.validation.isValid||this.resetValidation(),this.signatureDataPoint.changeSignature(e),this.produceViewState((function(e){e.signature=t.signatureDataPoint.signature}))}},{key:"leave",value:function(){var e=this,t=Ua()(null,{leave:{get:function(){return(0,et.Z)((0,ce.Z)(i.prototype),"leave",e)}}});return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validate(),this.viewState.validation.fields.signature.isValid){e.next=4;break}return this.produceViewState((function(e){e.shakeKey+=1})),e.abrupt("return");case 4:return this.checkoutService.collectDataPoint([this.signatureDataPoint]),e.abrupt("return",t.leave.call(this));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"resetValidation",value:function(){this.produceViewState((function(e){e.validation=lc.default.defaultValidationResult}))}},{key:"validate",value:function(){var e=this.signatureDataPoint.validate();this.produceViewState((function(t){t.validation=e}))}},{key:"signatureDataPoint",get:function(){if(!this._signatureDataPoint)throw new Error("SignatureDataPoint is not defined");return this._signatureDataPoint}},{key:"personalInformationDataPoint",get:function(){if(!this._personalInformationDataPoint)throw new Error("SignatureDataPoint is not defined");return this._personalInformationDataPoint}}]),i}(nc);function fc(e){var t=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,ce.Z)(e);if(t){var i=(0,ce.Z)(this).constructor;n=oe()(r,arguments,i)}else n=r.apply(this,arguments);return(0,ue.Z)(this,n)}}var mc,pc=function(e){(0,se.Z)(n,e);var t=fc(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,P.Z)(n)}(fo),vc=function(e){(0,se.Z)(n,e);var t=fc(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,P.Z)(n)}(Po),yc=function(e){(0,se.Z)(n,e);var t=fc(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,P.Z)(n)}(Co),gc=function(e){(0,se.Z)(n,e);var t=fc(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,P.Z)(n)}(Eo),kc=function(e){(0,se.Z)(n,e);var t=fc(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,P.Z)(n)}(Bo),Pc=function(e){(0,se.Z)(n,e);var t=fc(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,P.Z)(n)}(No),Sc=(hc={},(0,v.Z)(hc,Pn.x.STOCK_BROKERAGE,rc),(0,v.Z)(hc,Pn.x.STOCK_CO_OWNER_SIGNATURE,sc),(0,v.Z)(hc,Pn.x.STOCK_CO_OWNER,ac),(0,v.Z)(hc,Pn.x.STOCK_CONFIRMATION,ic),(0,v.Z)(hc,Pn.x.STOCK_LINK_TO_BROKERAGE,uc),(0,v.Z)(hc,Pn.x.STOCK_SECURITIES,cc),(0,v.Z)(hc,Pn.x.STOCK_SIGNATURE,dc),(0,v.Z)(hc,dn.nn.COMMENT,pc),(0,v.Z)(hc,dn.nn.MAILING_ADDRESS,vc),(0,v.Z)(hc,dn.nn.QUESTIONS,yc),(0,v.Z)(hc,dn.nn.PRIVACY,gc),(0,v.Z)(hc,dn.nn.THANK_YOU,kc),(0,v.Z)(hc,dn.nn.REMIND_ME,Pc),hc),Ec=function(){function e(t,n,r,i,a,o){(0,k.Z)(this,e),this.checkoutService=t,this.intl=n,this.debug=r,this.subscriptionPeriodLabelsService=i,this.addressService=a,this.currencyService=o}return(0,P.Z)(e,[{key:"create",value:function(e,t){return new Sc[e]({name:e,flow:t,checkoutService:this.checkoutService,debug:this.debug,intl:this.intl,subscriptionPeriodLabelsService:this.subscriptionPeriodLabelsService,addressService:this.addressService,currencyService:this.currencyService})}}]),e}(),Dc=function(){function e(){(0,k.Z)(this,e)}return(0,P.Z)(e,[{key:"get",value:function(){return Pn.x.STOCK_CONFIRMATION}}]),e}(),bc=Pn.x.STOCK_BROKERAGE,wc=(mc={},(0,v.Z)(mc,fe.Cl.MONEY,(function(e,t,n,r,i,a,o,s,u,c,l,h,d,f,m,p,g,k,P){var S,E,D,b=new xs(e,a,o,n,f,m,t,fe.Cl.MONEY),w=new Zs(b),C=function(e,t,n){var r=e.campaign();return new fu(r,t,e,n)}(e,i,w),N=new ju(e,C),O=new es(e.campaign()),_=new Ys(w,e,C,t,r,a,n,s,u,c,l,h,d,N,g,k,O,i),T=new Wu(_,n,i,f,p,a),R=P&&(0,Gs.wC)(P)?P:void 0;return{checkoutService:_,formFlow:Ma(T,(E=R,{defaultInitial:function(){return zu},initial:function(){return E||zu},screens:(D={},(0,v.Z)(D,cn.e.DONATE,{next:function(e){return e().comment.isRequired?dn.nn.COMMENT:cn.e.UPSELL}}),(0,v.Z)(D,dn.nn.COMMENT,{guard:function(e){var t=e();if(!t.comment.isEnabled)throw new Qu(dn.nn.COMMENT,'"comment.isEnabled" is '.concat(t.comment.isEnabled));return!1},next:function(){return cn.e.DONATE}}),(0,v.Z)(D,cn.e.UPSELL,{guard:function(e){return!e().preDonationUpsell.isEnabled},next:function(){return cn.e.PAYMENT_OPTIONS}}),(0,v.Z)(D,cn.e.PAYMENT_OPTIONS,Xu),(0,v.Z)(D,cn.e.CREDIT_CARD,{mandatory:function(e){var t=e();return t.isReadyToRetryPay&&t.paymentErrors[y.GZ.CARD]},guard:function(e){if(e().paymentOptions.clientPaymentMethod!==y.GZ.CARD)throw new Qu(cn.e.CREDIT_CARD,'"clientPaymentMethod" is not "'.concat(y.GZ.CARD,'"'));return!1},next:function(){return dn.nn.PRIVACY}}),(0,v.Z)(D,cn.e.PAYPAL_CONVERSION,{guard:function(e){if(e().paymentOptions.selectedPaymentOption!==du.H.PAYPAL_CONVERSION)throw new Qu(cn.e.PAYPAL_CONVERSION,'"selectedPaymentOption" is not "'.concat(du.H.PAYPAL_CONVERSION,'"'));return!1},next:function(e){return e().isPaypalCurrencyConversionApplied?dn.nn.PRIVACY:cn.e.PAYMENT_OPTIONS}}),(0,v.Z)(D,cn.e.CLICK_TO_PAY_SPLASH,{guard:function(e){if(e().paymentOptions.clientPaymentMethod!==y.GZ.CLICK_TO_PAY)throw new Qu(cn.e.CLICK_TO_PAY_SPLASH,'"clientPaymentMethod" is not "'.concat(y.GZ.CLICK_TO_PAY,'"'));return!1},next:function(){return dn.nn.PRIVACY}}),(0,v.Z)(D,cn.e.LINK_TO_BANK,{guard:function(e){if(e().paymentOptions.selectedPaymentOption!==du.H.BANK)throw new Qu(cn.e.LINK_TO_BANK,'"selectedPaymentOption" is not "'.concat(du.H.BANK,'"'));return!1},next:function(e){return e().paymentOptions.clientPaymentMethod===y.GZ.PLAID?dn.nn.PRIVACY:cn.e.ACH}}),(0,v.Z)(D,cn.e.ACH,{guard:function(e){if(e().paymentOptions.clientPaymentMethod!==y.GZ.ACH)throw new Qu(cn.e.ACH,'"clientPaymentMethod" is not "'.concat(y.GZ.ACH,'"'));return!1},next:function(){return cn.e.ACH_GUIDE}}),(0,v.Z)(D,cn.e.ACH_GUIDE,{guard:function(e){if(e().paymentOptions.clientPaymentMethod!==y.GZ.ACH)throw new Qu(cn.e.ACH_GUIDE,'"clientPaymentMethod" is not "'.concat(y.GZ.ACH,'"'));return!1},next:function(){return dn.nn.PRIVACY}}),(0,v.Z)(D,cn.e.UK_BACS,{mandatory:function(e){return e().paymentErrors[y.GZ.UK_BACS]},guard:function(e){if(e().paymentOptions.clientPaymentMethod!==y.GZ.UK_BACS)throw new Qu(cn.e.UK_BACS,'"clientPaymentMethod" is not "'.concat(y.GZ.UK_BACS,'"'));return!1},next:function(e){return e().isReadyToRetryPay&&!e().hasMailingAddressError?cn.e.UK_BACS_CONFIRMATION:dn.nn.PRIVACY}}),(0,v.Z)(D,cn.e.UK_BACS_CONFIRMATION,{guard:function(e){if(e().paymentOptions.clientPaymentMethod!==y.GZ.UK_BACS)throw new Qu(cn.e.UK_BACS_CONFIRMATION,'"clientPaymentMethod" is not "'.concat(y.GZ.UK_BACS,'"'));return!!e().isPaid},next:function(){return dn.nn.QUESTIONS}}),(0,v.Z)(D,cn.e.AU_BECS,{guard:function(e){if(e().paymentOptions.clientPaymentMethod!==y.GZ.AU_BECS)throw new Qu(cn.e.AU_BECS,'"clientPaymentMethod" is not "'.concat(y.GZ.AU_BECS,'"'));return!1},next:function(){return dn.nn.PRIVACY}}),(0,v.Z)(D,cn.e.SEPA,{guard:function(e){if(e().paymentOptions.clientPaymentMethod!==y.GZ.SEPA)throw new Qu(cn.e.SEPA,'"clientPaymentMethod" is not "'.concat(y.GZ.SEPA,'"'));return!1},next:function(){return dn.nn.PRIVACY}}),(0,v.Z)(D,dn.nn.PRIVACY,{guard:function(e){return e().isReadyToRetryPay&&e().personalInformation.isCollected},next:function(e){return e().mailingAddress.isRequired&&!e().giftAid.isEnabled?dn.nn.MAILING_ADDRESS:cn.e.DOUBLE}}),(0,v.Z)(D,cn.e.DOUBLE,{guard:function(e){return!(!e().isReadyToRetryPay||!e().doubleDonation.isCollected)||!e().doubleDonation.isEnabled},next:function(){return cn.e.GIFT_AID}}),(0,v.Z)(D,cn.e.GIFT_AID,{guard:function(e){return!(!e().isReadyToRetryPay||!e().giftAid.isCollected)||!e().giftAid.isEnabled},next:function(e,t){return t.has(dn.nn.MAILING_ADDRESS)?e().paymentOptions.selectedPaymentOption===du.H.UK_BACS?cn.e.UK_BACS_CONFIRMATION:dn.nn.QUESTIONS:dn.nn.MAILING_ADDRESS}}),(0,v.Z)(D,dn.nn.MAILING_ADDRESS,{mandatory:function(e){return e().hasMailingAddressError},guard:function(e){var t=e();return!(!t.isReadyToRetryPay||!t.mailingAddress.isCollected||t.hasMailingAddressError)||!t.mailingAddress.isEnabled&&!t.giftAid.isAccepted},next:function(e,t){return e().doubleDonation.isEnabled&&!t.has(cn.e.DOUBLE)&&e().mailingAddress.isRequired&&!e().giftAid.isAccepted?cn.e.DOUBLE:e().paymentOptions.selectedPaymentOption===du.H.UK_BACS?cn.e.UK_BACS_CONFIRMATION:dn.nn.QUESTIONS}}),(0,v.Z)(D,dn.nn.QUESTIONS,{guard:function(e){return!e().questions.isEnabled},next:function(){return cn.e.POST_DONATION_UPSELL}}),(0,v.Z)(D,cn.e.POST_DONATION_UPSELL,{guard:function(e){return!e().postDonationUpsell.isEnabled},next:function(){return dn.nn.THANK_YOU}}),(0,v.Z)(D,dn.nn.THANK_YOU,{next:function(){return dn.nn.REMIND_ME}}),(0,v.Z)(D,dn.nn.REMIND_ME,{}),D)}),A()(S=C.get).call(S,C))}})),(0,v.Z)(mc,fe.Cl.CRYPTO,(function(e,t,n,r,i,a,o,s,u,c,l,h,d,f,m,p,y,g,k){var P,S,E,D=new xs(e,a,o,n,f,m,t,fe.Cl.CRYPTO),b=new Zs(D),w=function(e,t,n){var r=e.campaign();return new ao(r,t,n)}(e,i,b),C=new Qo(e,w),N=new es(e.campaign()),O=new ro(b,e,w,t,r,a,n,s,u,c,l,h,d,C,y,g,N,i),_=new zo(O,n,i,a,f,p),T=k&&(0,Wa.ak)(k)?k:void 0;return{checkoutService:O,formFlow:Ma(_,(S=T,{defaultInitial:function(){return Jo},initial:function(){return S||Jo},screens:(E={},(0,v.Z)(E,fn.a.CRYPTO_CURRENCY,{next:function(e){return e().comment.isRequired?dn.nn.COMMENT:dn.nn.PRIVACY}}),(0,v.Z)(E,dn.nn.COMMENT,{next:function(){return fn.a.CRYPTO_CURRENCY}}),(0,v.Z)(E,dn.nn.PRIVACY,{next:function(e){return e().mailingAddress.isEnabled?dn.nn.MAILING_ADDRESS:fn.a.CRYPTO_WALLET}}),(0,v.Z)(E,dn.nn.MAILING_ADDRESS,{next:function(){return fn.a.CRYPTO_WALLET}}),(0,v.Z)(E,fn.a.CRYPTO_WALLET,{next:function(e){return e().questions.isEnabled?dn.nn.QUESTIONS:dn.nn.THANK_YOU}}),(0,v.Z)(E,dn.nn.QUESTIONS,{next:function(){return dn.nn.THANK_YOU}}),(0,v.Z)(E,dn.nn.THANK_YOU,{next:function(){return dn.nn.REMIND_ME}}),(0,v.Z)(E,dn.nn.REMIND_ME,{}),E)}),A()(P=w.get).call(P,w))}})),(0,v.Z)(mc,fe.Cl.STOCK,(function(e,t,n,r,i,a,o,s,u,c,l,h,d,f,m,p,y,g,k){var P,S,E,D=new xs(e,a,o,n,f,m,t,fe.Cl.STOCK),b=new Zs(D),w=function(e,t,n){var r=e.campaign();return new ec(r,t,n)}(e,i,b),C=new Dc,N=new es(e.campaign()),O=new hs(t,e.infrastructureParams.livemode),_=new $u(b,e,w,t,r,a,n,s,u,c,l,h,d,C,y,g,N,i,O),T=new Ec(_,n,i,f,p,a),R=k&&(0,Ju.ng)(k)?k:void 0;return{checkoutService:_,formFlow:Ma(T,(S=R,{defaultInitial:function(){return bc},initial:function(){return S||bc},screens:(E={},(0,v.Z)(E,Pn.x.STOCK_BROKERAGE,{next:function(e){return e().comment.isRequired?dn.nn.COMMENT:Pn.x.STOCK_LINK_TO_BROKERAGE}}),(0,v.Z)(E,dn.nn.COMMENT,{next:function(){return Pn.x.STOCK_BROKERAGE}}),(0,v.Z)(E,dn.nn.PRIVACY,{next:function(){return dn.nn.MAILING_ADDRESS}}),(0,v.Z)(E,dn.nn.MAILING_ADDRESS,{next:function(){return Pn.x.STOCK_SIGNATURE}}),(0,v.Z)(E,Pn.x.STOCK_LINK_TO_BROKERAGE,{guard:function(e){return!0},next:function(){return Pn.x.STOCK_SECURITIES}}),(0,v.Z)(E,Pn.x.STOCK_SECURITIES,{next:function(){return dn.nn.PRIVACY}}),(0,v.Z)(E,Pn.x.STOCK_SIGNATURE,{next:function(){return Pn.x.STOCK_CO_OWNER}}),(0,v.Z)(E,Pn.x.STOCK_CO_OWNER,{next:function(){return Pn.x.STOCK_CO_OWNER_SIGNATURE}}),(0,v.Z)(E,Pn.x.STOCK_CO_OWNER_SIGNATURE,{guard:function(e){return!e().coOwner.isEnabled},next:function(){return Pn.x.STOCK_CONFIRMATION}}),(0,v.Z)(E,Pn.x.STOCK_CONFIRMATION,{next:function(){return dn.nn.QUESTIONS}}),(0,v.Z)(E,dn.nn.QUESTIONS,{guard:function(e){return!e().questions.isEnabled},next:function(){return dn.nn.THANK_YOU}}),(0,v.Z)(E,dn.nn.THANK_YOU,{next:function(){return dn.nn.REMIND_ME}}),(0,v.Z)(E,dn.nn.REMIND_ME,{}),E)}),A()(P=w.get).call(P,w))}})),mc),Ac=[cn.e.DONATE,cn.e.POST_DONATION_UPSELL,dn.nn.THANK_YOU,fn.a.CRYPTO_CURRENCY,Pn.x.STOCK_BROKERAGE,dn.nn.QUESTIONS],Cc=function(){function e(){(0,k.Z)(this,e)}return(0,P.Z)(e,[{key:"all",get:function(){return Ne}}]),e}();function Nc(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:we.SHORT,a=arguments.length>3?arguments[3]:void 0;return t&&(r=a||Oe(t,i))?H()(n="".concat(e,"/")).call(n,r):e}var Oc=function(){function e(t){(0,k.Z)(this,e),this.subscriptionPeriodLabelsProvider=t}return(0,P.Z)(e,[{key:"getLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:we.ADVERB;if(e){var n=this.subscriptionPeriodLabelsProvider.all,r=n[e];return r&&r[t]}}},{key:"getValueWithLabel",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:we.SHORT,r=this.getLabel(t,n);return Nc(e,t,n,r)}}]),e}(),_c=function(){function e(t){(0,k.Z)(this,e),this.intl=t}return(0,P.Z)(e,[{key:"all",get:function(){return{daily:{short:this.intl.translate("widgetSubscriptionPeriodLabel.daily.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.daily.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.daily.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.daily.adjective")},weekly:{short:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.weekly.adjective")},biweekly:{short:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.biweekly.adjective")},monthly:{short:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.monthly.adjective")},bimonthly:{short:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.bimonthly.adjective")},quarterly:{short:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.quarterly.adjective")},semiannual:{short:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.semiannual.adjective")},annual:{short:this.intl.translate("widgetSubscriptionPeriodLabel.annual.short"),noun:this.intl.translate("widgetSubscriptionPeriodLabel.annual.noun"),adverb:this.intl.translate("widgetSubscriptionPeriodLabel.annual.adverb"),adjective:this.intl.translate("widgetSubscriptionPeriodLabel.annual.adjective")}}}}]),e}();var Tc=function(){function e(t,n,r,i,a,o,s,u,c,l,h,d,f,m,p,v){(0,k.Z)(this,e),this.eventEmitter=t,this.resolvedCheckoutData=n,this.sessionService=r,this.intl=i,this.tracker=a,this.debug=o,this.currencyService=s,this.suggestionsService=u,this.iframeWindow=c,this.sentry=l,this.paymentMethods=h,this.stripeLoadingPromise=d,this.applePayStripeLoadingPromise=f,this.userSession=m,this.addressService=p,this.checkoutAPIBridge=v,this.currentFlow=null,this._checkoutService=null,this._flowType=null}return(0,P.Z)(e,[{key:"dispose",value:function(){var e,t;null===(e=this._checkoutService)||void 0===e||e.dispose(),null===(t=this.currentFlow)||void 0===t||t.dispose()}},{key:"setInitialScreen",value:function(e){return this.initialScreen=e,this}},{key:"getCurrentFlow",value:function(e){if(!this.currentFlow)throw new Error("Start flow first. Context: ".concat(e));return this.currentFlow}},{key:"onScreenChanged",value:function(e){var t=this;return this.eventEmitter.on(Ui.v.SCREEN_CHANGED,e),function(){return t.eventEmitter.removeListener(Ui.v.SCREEN_CHANGED,e)}}},{key:"onFlowChanged",value:function(e){var t=this;return this.eventEmitter.on(Ui.v.FLOW_CHANGED,e),function(){return t.eventEmitter.removeListener(Ui.v.FLOW_CHANGED,e)}}},{key:"startDefaultFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.start(this.resolvedCheckoutData.defaultFlowType));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"startFiatFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.start(fe.Cl.MONEY));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"startCryptoFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.start(fe.Cl.CRYPTO));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"startStockFlow",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.start(fe.Cl.STOCK));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"start",value:function(e){var t,n;return(0,m.mG)(this,void 0,void 0,f().mark((function r(){var i,a,o;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,null===(t=this._checkoutService)||void 0===t?void 0:t.dispose();case 2:return null===(n=this.currentFlow)||void 0===n||n.dispose(),r.next=5,this.initializeFlow(e);case 5:return i=r.sent,a=i.flow,o=i.checkoutService,this.currentFlow=a,this._checkoutService=o,this._flowType=e,this.eventEmitter.emit(Ui.v.FLOW_CHANGED,e),r.next=14,a.start();case 14:case"end":return r.stop()}}),r,this)})))}},{key:"restart",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.start(this.flowType));case 1:case"end":return e.stop()}}),e,this)})))}},{key:"checkoutService",get:function(){if(!this._checkoutService)throw new Error("Checkout service is not defined");return this._checkoutService}},{key:"flowType",get:function(){if(!this._flowType)throw new Error("Flow is not initialized");return this._flowType}},{key:"canNavigateBackward",value:function(e,t){var n=st()(Ac).call(Ac,e.getCurrentScreen().name),r=e.previousScreenName===t.paymentScreenName&&t.isPaid,i=e.previousScreenName===cn.e.CREDIT_CARD&&t.isPaid;return!(n||r||i)}},{key:"initializeFlow",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,i,a=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.createFlow(e),r=n.flow,i=n.checkoutService,r.on(Ui.v.SCREEN_CHANGED,(function(e){i.setCanGoBack(a.canNavigateBackward(r,i)),i.shouldFindMandatoryScreen=!1,i.setCloseButtonVisibility(r.getCurrentScreen().name,r.getHistoricalScreens()),a.eventEmitter.emit(Ui.v.SCREEN_CHANGED,e)})),t.next=4,i.initialize();case 4:return this.tracker.setCurrentScreenDataGetter((function(){return{screenName:r.getCurrentScreen().name,screenData:r.getCurrentScreen().getScreenData()}})),this.tracker.setCheckoutStateGetter((function(){return i.getState()})),t.abrupt("return",{flow:r,checkoutService:i});case 7:case"end":return t.stop()}}),t,this)})))}},{key:"createFlow",value:function(e){var t,n,r,i=(t=this.intl,n=new _c(t),r=n||new Cc,new Oc(r)),a=Fi({intlService:this.intl,subscriptionPeriodLabelsService:i}),o=wc[e](this.resolvedCheckoutData,this.sessionService,this.intl,this.tracker,this.debug,this.currencyService,this.suggestionsService,this.iframeWindow,this.sentry,this.paymentMethods,this.stripeLoadingPromise,this.applePayStripeLoadingPromise,new _a(this.sentry,this.intl,a),i,this.userSession,this.addressService,this.eventEmitter,this.checkoutAPIBridge,this.initialScreen);return{flow:o.formFlow,checkoutService:o.checkoutService}}},{key:"canClose",value:function(t){var n,r,i;if(!this.currentFlow)throw new Error("currentFlow is not defined");var a=this.checkoutService.isPaid,o=this.currentFlow.isLocked,s=this.checkoutService.resolvedCheckoutData.infrastructureParams.isDevelopmentMode;if(o)return!1;if(this.resolvedCheckoutData.infrastructureParams.showcase)return!1;var u=this.currentFlow.getCurrentScreen().name,c=st()(n=e.unrestrictedExitScreens).call(n,u),l=st()(r=e.mobileExitScreens).call(r,u);if(this.resolvedCheckoutData.campaign().remindMe.show&&!a&&!this.currentFlow.isExiting&&s&&(!c||t&&l))return this.currentFlow.setExiting(!0),this.currentFlow.goTo(dn.nn.REMIND_ME),!1;if(!st()(i=e.unrestrictedExitScreens).call(i,u)&&!this.currentFlow.isExiting){var h=[this.intl.translate("confirmCloseDialog.question"),this.intl.translate("confirmCloseDialog.instructions")].join("\n\n");return confirm(h)}return!0}}]),e}();Tc.unrestrictedExitScreens=[cn.e.DONATE,dn.nn.THANK_YOU,dn.nn.REMIND_ME,fn.a.CRYPTO_CURRENCY,Pn.x.STOCK_BROKERAGE],Tc.mobileExitScreens=[cn.e.DONATE];var Rc,Ic,xc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];(0,k.Z)(this,e),this.key=t,this.params=n,this.customParams=r}return(0,P.Z)(e,[{key:"toString",value:function(){var e,t,n=H()(e=[]).call(e,this.params,this.customParams);return he()(t=["#"+this.key,B()(n).call(n,(function(e){var t=(0,tt.Z)(e,2),n=t[0],r=t[1];return n+"="+encodeURIComponent(r)})).join("&")]).call(t,Boolean).join("&")}},{key:"addRecurring",value:function(e){return e&&this.params.push(["recurring",e]),this}},{key:"addAmount",value:function(e){return e&&this.params.push(["amount",e.toString()]),this}},{key:"addModifyAmount",value:function(e){return!1!==e&&"no"!==e||this.params.push(["modifyAmount","no"]),this}},{key:"addModifyDesignation",value:function(e){return!1!==e&&"no"!==e||this.params.push(["modifyDesignation","no"]),this}},{key:"addPresets",value:function(e){return"no"===e&&this.params.push(["presets",e]),this}},{key:"addDesignation",value:function(e){return"no"===e?this.params.push(["designation",e]):e&&this.params.push(["designationId",e]),this}},{key:"addTitle",value:function(e){return e&&this.params.push(["title",e]),this}},{key:"addText",value:function(e){return e&&this.params.push(["text",e]),this}},{key:"addFollow",value:function(e){return"yes"===e&&this.params.push(["follow",e]),this}},{key:"addFirstName",value:function(e){return e&&this.params.push(["firstName",e]),this}},{key:"addLastName",value:function(e){return e&&this.params.push(["lastName",e]),this}},{key:"addEmail",value:function(e){return e&&this.params.push(["email",e]),this}},{key:"addCustomQueryParams",value:function(e){var t,n=this;return b()(t=bt()(e)).call(t,(function(t){n.customParams.push([t,e[t]])})),this}}],[{key:"forKey",value:function(t){return new e(t)}}]),e}(),Zc=function(e){return!!e.navigator.userAgent.match("CriOS")},Lc=/^X[\dA-Z]{7}/,Mc=/#([\da-z_-]{1,25})(\?|&|$)/i;!function(e){e.type="type",e.recurring="recurring",e.amount="amount",e.modifyAmount="modifyAmount",e.designationId="designationId",e.fundraiser="fundraiser",e.modifyDesignation="modifyDesignation",e.firstName="firstName",e.lastName="lastName",e.email="email"}(Rc||(Rc={})),function(e){e.fundraiser="fundraiser",e.element="element"}(Ic||(Ic={}));var Fc=!1,Uc=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;(0,k.Z)(this,e),this.keysKeeper=t,this._disabled=!1,this.originalQueryStringAndHash="",this.window=n}return(0,P.Z)(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){e!==this._disabled&&(this._disabled=e)}},{key:"isModalKey",value:function(e){var t=[on.Yq.P2P_BUTTON,on.Yq.P2P_LINK],n=this.keysKeeper.getStorage(h.E.ELEMENT);return E()(t).call(t,(function(t){return n.checkElementType(t,e)}))}},{key:"check",value:function(){if(!this.disabled&&this.window.location.hash&&this.keysKeeper.exists(h.E.WIDGET,this.window.location.hash)){Fc=!1;var e=this.keysKeeper.getStorage(h.E.WIDGET).getOriginal(this.window.location.hash),t=this.window.location.href.replace(this.window.location.hash,"#"+e);this.window.history.replaceState("",this.window.document.title,t)}}},{key:"clearQueryString",value:function(){if(!this.disabled){var e=(0,Pa.O5)(this.window.location.search,!1).form;if(this.keysKeeper.exists(h.E.WIDGET,e)||this.isModalKey(e)){var t=this.window.location.pathname+this.originalQueryStringAndHash;this.window.history.replaceState("",this.window.document.title,t),Fc=!0}}}},{key:"setUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!this.disabled&&(this.keysKeeper.exists(h.E.WIDGET,e)||this.isModalKey(e))){var i=this.getQueryString({keyOrHash:e,hrefParams:t,queryString:this.window.location.search,hash:this.window.location.hash,fundraisingPageKey:n,isNewElement:r}),a=this.cleanHash(this.window.location.hash);this.originalQueryStringAndHash=this.cleanQueryString(i)+a;var o=this.window.location.pathname+i+a;this.window.history.replaceState("",this.window.document.title,o),Fc=!1}}},{key:"getQueryString",value:function(e){var t,n,r=e.keyOrHash,i=e.hrefParams,a=e.hash,o=e.queryString,s=e.fundraisingPageKey,u=e.isNewElement,c={form:r},l=(0,Pa.O5)(a,!1),h=(0,Pa.O5)(o,!1),d=function(e){var t=Mc.exec(e);return t&&t[1]?t[1]:""}(a)||h.form||"",f=0!==d.length&&d.toLowerCase()!==r.toLowerCase();if(f){var m=(0,Pa.O5)(i,!1);Z()(c,m)}if(s&&(c.fundraiser=s),b()(t=bt()(l)).call(t,(function(e){f&&e in c||(c[e]=l[e])})),b()(n=bt()(h)).call(n,(function(e){f&&e in c||(c[e]=h[e])})),u){var p=(0,Pa.O5)(i,!1);Z()(c,p)}return c.form=r,c.element&&Lc.test(c.element)&&delete c.element,"?"+(0,Pa.f0)(c,!1)}},{key:"cleanHash",value:function(e){var t=e.split("&",1)[0];return this.keysKeeper.exists(h.E.WIDGET,t)||"#"===t||-1!==rt()(t).call(t,"=")?"":t}},{key:"cleanQueryString",value:function(e){var t,n,r=(0,Pa.O5)(e,!1);delete r.form,b()(t=bt()(Rc)).call(t,(function(e){return delete r[e]})),b()(n=bt()(Ic)).call(n,(function(e){return delete r[e]}));var i=(0,Pa.f0)(r,!1);return""===i?"":"?"+i}},{key:"back",value:function(){var e=this;Zc(this.window)||this.window.history.go(-2),q()((function(){var t=(0,Pa.O5)(e.window.location.search,!1).form;if(e.keysKeeper.exists(h.E.WIDGET,t)||e.isModalKey(t))return Fc?void e.window.history.back():e.clearQueryString()}),150)}}]),e}(),Bc=function(){function e(t,n,r,i){(0,k.Z)(this,e),this.resolvedCheckoutData=n,this.queryParams=r,this.launcherParams=i,this.router=new Uc(t,window)}return(0,P.Z)(e,[{key:"init",value:function(){var e,t,n;this.router.disabled=!this.resolvedCheckoutData.config().router;for(var r=Boolean(this.launcherParams.elementKey),a=xc.forKey("").addAmount(this.queryParams.amount).addDesignation(this.queryParams.designationId).addModifyDesignation(this.queryParams.modifyDesignation).addRecurring(this.queryParams.recurring).addModifyAmount(this.queryParams.modifyAmount).addFirstName(this.queryParams.firstName).addLastName(this.queryParams.lastName).addEmail(this.queryParams.email),o={},s=0,u=si()(this.queryParams);s<u.length;s++){var c=(0,tt.Z)(u[s],2),l=c[0],h=c[1];null!==h&&(o[l]=h)}r&&a.addCustomQueryParams(o),this.router.check(),this.router.setUrl(this.resolvedCheckoutData.campaignSettings().customHash||this.resolvedCheckoutData.campaignSettings().key,i()(e=a.toString()).call(e,1),null!==(n=null===(t=this.resolvedCheckoutData.fundraisingPage)||void 0===t?void 0:t.key)&&void 0!==n?n:"",r)}},{key:"clearUrl",value:function(){this.router.back()}}]),e}(),Gc=n(5760);function Hc(e,t,n){return(0,m.mG)(this,void 0,void 0,f().mark((function r(){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.loadFiat(n),!t.campaign().donationTypes.crypto.enabled){r.next=4;break}return r.next=4,e.loadCrypto();case 4:case"end":return r.stop()}}),r)})))}var Kc=n(52950),Vc=n.n(Kc),Yc=n(54383),qc=n.n(Yc),Wc=n(3675),jc=n.n(Wc),Xc=n(22319),zc=function(){function e(){(0,k.Z)(this,e)}return(0,P.Z)(e,null,[{key:"format",value:function(t){var n,r,i,a,o=e.parseAmount(t.amount);return{firstName:t.firstName?Xa()(n=t.firstName).call(n):null,lastName:t.lastName?Xa()(r=t.lastName).call(r):null,email:e.parseEmail(t.email),amount:o,modifyAmount:o&&t.modifyAmount?"no"!==t.modifyAmount:null,recurring:e.parseRecurring(t.recurring),designationId:t.designationId||null,modifyDesignation:t.modifyDesignation?"no"!==t.modifyDesignation:null,tributeHonoree:t.tributeHonoree?Xa()(i=t.tributeHonoree).call(i):null,successUrl:e.parseURL(t.successUrl),member:t.member?Xa()(a=t.member).call(a):null,utm:{source:t.utm_source||null,campaign:t.utm_campaign||null,medium:t.utm_medium||null,content:t.utm_content||null,term:t.utm_term||null}}}},{key:"parseURL",value:function(e){return e&&function(e){var t;try{t=new(_o())(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}(e)?Xa()(e).call(e):null}},{key:"parseEmail",value:function(e){return e&&(0,Xc.o)(e)?Xa()(e).call(e):null}},{key:"parseRecurring",value:function(e){return e===on.dy.MONTHLY?on.dy.MONTHLY:e===on.dy.ONCE?on.dy.ONCE:null}},{key:"parseAmount",value:function(e,t){if(!e)return null;var n=t?Vc()(e):qc()(e);return jc()(n)?null:n>999999?99999900:n>0?100*n:null}}]),e}();function Qc(e){return(0,g.ZP)(Nn()(e),(function(e){return e}))}var Jc=n(72320);function $c(e,t){var n;if(!e.logoUuid)return null;var r=t?"x100":"x50";return H()(n="https://ucarecdn.com/".concat(e.logoUuid,"/-/resize/")).call(n,r,"/-/format/auto/")}var el=function(){function e(t,n,r,i,a,o,s,u,c,l,h){var d;(0,k.Z)(this,e);var f=(0,tt.Z)(t.widgets,1)[0];f.config.defaultAmount=(0,Jc.op)(f.key,f.config.defaultAmount),f.config.amountOptions=(0,Jc.ag)(f.key,f.config.amountOptions);var m=Qc(t);e.validate(m);var p=Qc(r);this.externalConfig=Rn()(p,"checkoutData.ask"),this._queryParams=Qc(i),this._infrastructureParams=Qc(a),this._infrastructureQueryParams=Qc(l),this._integrations=Qc(o),this._launcherParams=Qc(s),this._environmentConfig=Qc(u),this._campaignSettings=Rn()(m.widgets[0],"config.ask"),this._campaign=this._campaignSettings.config,this._config=m.config,this._user=m.user;var v=at()(d=t.companies).call(d,(function(e){return e.key===f.company}));if(!v)throw new Error("Can`t find resolved company");this._company=this.mergeCompanyData(n,v),this._fundraisingPage=e.getFundraisingPage(m,this.campaignSettings().key),this._splitTest=Qc(h),this._getAskPageConfig=this.getAskPageConfigGetter(m.widgets[0],p,this._company),this._showcase=t.showcase}return(0,P.Z)(e,[{key:"showcase",get:function(){return this._showcase}},{key:"campaignSettings",value:function(){return this._campaignSettings}},{key:"campaign",value:function(){return this._campaign}},{key:"company",value:function(){return this._company}},{key:"config",value:function(){return this._config}},{key:"featureConfig",get:function(){return this._company.featureConfig}},{key:"parentCompanyConfig",get:function(){return this._company.parentCompanyConfig}},{key:"fundraisingPage",get:function(){return this._fundraisingPage}},{key:"splitTest",get:function(){return this._splitTest}},{key:"defaultFlowType",get:function(){var e,t;return(null===(e=this.externalConfig.checkoutIntent)||void 0===e?void 0:e.flowType)?null===(t=this.externalConfig.checkoutIntent)||void 0===t?void 0:t.flowType:this.campaign().defaultDonationType}},{key:"user",value:function(){return this._user}},{key:"queryParams",get:function(){return this._queryParams}},{key:"infrastructureQueryParams",get:function(){return this._infrastructureQueryParams||{}}},{key:"infrastructureParams",get:function(){return this._infrastructureParams}},{key:"integrations",get:function(){return this._integrations}},{key:"launcherParams",get:function(){return this._launcherParams}},{key:"environmentConfig",get:function(){return this._environmentConfig}},{key:"getExternalConfig",value:function(){return this.externalConfig}},{key:"elementData",get:function(){var e,t,n,r,i,a;return{elementKey:(null===(e=this.externalConfig.launcher)||void 0===e?void 0:e.elementKey)||(null===(t=this.fundraisingPage)||void 0===t?void 0:t.elementKey)||"",elementType:(null===(n=this.externalConfig.launcher)||void 0===n?void 0:n.elementType)||(null===(r=this.fundraisingPage)||void 0===r?void 0:r.elementType)||on.Yq.DIRECT_LINK,elementReminderKey:(null===(i=this.externalConfig.launcher)||void 0===i?void 0:i.elementReminderKey)||"",elementLocale:null===(a=this.externalConfig.launcher)||void 0===a?void 0:a.elementLocale}}},{key:"mergeCompanyData",value:function(e,t){var n=this,r=at()(e).call(e,(function(e){return e.key===n._campaignSettings.company}));if(!r)throw new Error("Widget's Company not found");return Z()(Z()(Z()({},t),r),{paymentOptions:r.paymentOptions[this.livemodeType]})}},{key:"livemodeType",get:function(){return this.infrastructureParams.livemode?I.LIVE:I.TEST}},{key:"disableAmountAI",get:function(){var e;return!(!this.queryParams.amount&&"number"!=typeof(null===(e=this.externalConfig.checkoutData)||void 0===e?void 0:e.amount)&&!this.externalConfig.checkoutIntent)}},{key:"getAskPageConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._getAskPageConfig(e)}},{key:"getAskPageConfigGetter",value:function(e,t,n){return function(r){return function(e,t,n,r){var i=function(e,t){var n,r;return Boolean(e.ask.show||(null===(r=null===(n=t.checkoutData)||void 0===n?void 0:n.ask)||void 0===r?void 0:r.show))}(e,t),a=function(e,t){var n,r;return(null===(r=null===(n=t.checkoutData)||void 0===n?void 0:n.ask)||void 0===r?void 0:r.show)?t.checkoutData.ask.title:e.ask.title}(e,t),o=function(e,t){var n,r;return(null===(r=null===(n=t.checkoutData)||void 0===n?void 0:n.ask)||void 0===r?void 0:r.show)?t.checkoutData.ask.text:e.ask.text}(e,t),s=n.name,u=(0,Un.Z)(e.ask.links),c=r?e.ask.logoImage.previewUrlRetina:e.ask.logoImage.previewUrl,l=function(e,t,n){var r,i,a,o="https://ucarecdn.com/7a2a472d-06d6-48fc-8c7d-37e313b717e0/-/resize/936x/-/format/auto/",s=null===(r=t.checkoutData)||void 0===r?void 0:r.ask;return(null==s?void 0:s.show)&&s.getImageFromCard?(n?null===(i=s.mainImage)||void 0===i?void 0:i.previewUrlRetina:null===(a=s.mainImage)||void 0===a?void 0:a.previewUrl)||o:(n?e.ask.mainImage.previewUrlRetina:e.ask.mainImage.previewUrl)||o}(e,t,r);return{text:o,title:a,companyName:s,links:u,logoImage:c||$c(n,r),mainImage:l,show:i,showLinks:!!u.length}}(e.config,t,n,r)}}},{key:"getMergedCustomFields",value:function(){var t,n,r,i,a,o,s,u=e.getCustomFieldsHash(this.campaignSettings().customFields||[]),c=e.getCustomFieldsHash((null===(r=this.fundraisingPage)||void 0===r?void 0:r.customFields)||[]),l=e.getCustomFieldsHash((null===(o=null===(a=null===(i=this.getExternalConfig().checkoutData)||void 0===i?void 0:i.intent)||void 0===a?void 0:a.checkoutSettings)||void 0===o?void 0:o.customFields)||[]),h=e.getCustomFieldsHash((null===(s=this.getExternalConfig().launcher)||void 0===s?void 0:s.customFields)||[]),d=this.launcherParams,f=(null==c?void 0:c.length)?c:d,m=window.location.href,p=(0,Pa.O5)(m),v=Z()(u,h,f,l,p);return he()(t=B()(n=bt()(v)).call(n,(function(e){return{name:e,value:ne()(v[e])?v[e][0]:v[e]}}))).call(t,(function(e){return""!==e.value}))}}],[{key:"validateConfig",value:function(e){return Boolean(e)}},{key:"validateCompany",value:function(e){return Boolean(e)}},{key:"validateGlobalConfig",value:function(e){return Boolean(e)}},{key:"validate",value:function(t){if(!e.validateConfig(t.widgets[0]))throw new Error("Invalid widget config in resolved data");if(!e.validateCompany(t.companies))throw new Error("Invalid company config in resolved data");if(!e.validateGlobalConfig(t.config))throw new Error("Invalid config in resolved data")}},{key:"getFundraisingPage",value:function(e,t){var n,r=at()(n=e.fundraisingPages).call(n,(function(e){return e.openWidget===t}));if(r&&r.key)return r}},{key:"getCustomFieldsHash",value:function(e){var t={};return b()(e).call(e,(function(e){t[e.name]=e.value})),t}}]),e}(),tl=function(){function e(t,n,r){(0,k.Z)(this,e),this.trackerCheckout=t,this.resolvedCheckoutData=n,this.params=r,this.created=!1,this._closed=!1}return(0,P.Z)(e,[{key:"closed",get:function(){return this._closed}},{key:"get",value:function(e,t,n){return(0,m.mG)(this,void 0,void 0,f().mark((function r(){var i,a,o=this;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i={retries:5,delay:200},(null==n?void 0:n.retries)&&(null==n?void 0:n.delay)&&(i.retries=n.retries,i.delay=n.delay),r.next=4,this.waitForCreated((function(){var n,r,i;return It({url:H()(n=H()(r=H()(i="".concat(o.params.baseURL,"/")).call(i,Bt.cQ,"/")).call(r,o.params.token,"/")).call(n,e),method:"GET",headers:o.params.headers,params:t,cancelSimilar:!0})}),i);case 4:if(a=r.sent,!_t.H.isFailure(a)){r.next=7;break}throw new Error("Something gone wrong");case 7:return r.abrupt("return",a.successResult);case 8:case"end":return r.stop()}}),r,this)})))}},{key:"post",value:function(e,t){return(0,m.mG)(this,void 0,void 0,f().mark((function n(){var r,i,a,o;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,It({url:H()(r=H()(i=H()(a="".concat(this.params.baseURL,"/")).call(a,Bt.cQ,"/")).call(i,this.params.token,"/")).call(r,e),method:"POST",headers:this.params.headers,params:t});case 2:return o=n.sent,n.abrupt("return",o);case 4:case"end":return n.stop()}}),n,this)})))}},{key:"update",value:function(e){var t,n;return(0,m.mG)(this,void 0,void 0,f().mark((function r(){var i,a,o,s,u,c;return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return this.sessionStageInitial||(this.sessionStageInitial=this.getSessionStageInitial(e)),o=Z()(Z()({},e),{created:this.created,initial:this.sessionStageInitial}),r.next=4,It({url:H()(i=H()(a="".concat(this.params.baseURL,"/")).call(a,Bt.cQ,"/")).call(i,this.params.token),method:"POST",headers:this.params.headers,params:o});case 4:if(s=r.sent,this.created=!0,!_t.H.isSuccess(s)){r.next=8;break}return r.abrupt("return",s);case 8:if(u=!!(null===(t=s.failureResult.errors)||void 0===t?void 0:t.customerEmail),c=!!(null===(n=s.failureResult.errors)||void 0===n?void 0:n.tributeEmail),!u&&!c){r.next=12;break}return r.abrupt("return",_t.H.fail({customerEmailError:u,tributeEmailError:c}));case 12:throw new Error("Something gone wrong");case 13:case"end":return r.stop()}}),r,this)})))}},{key:"hold",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,i,a;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Z()({},e),t.next=3,It({url:H()(n=H()(r="".concat(this.params.baseURL,"/")).call(r,Bt.cQ,"/")).call(n,this.params.token,"/hold"),method:"POST",headers:this.params.headers,params:i,rejectOnInvalid:!0});case 3:if(a=t.sent,!_t.H.isFailure(a)){t.next=6;break}throw new Error("Something gone wrong");case 6:return t.abrupt("return",a.successResult);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"pay",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",It({url:H()(n=H()(r="".concat(this.params.baseURL,"/")).call(r,Bt.cQ,"/")).call(n,this.params.token,"/pay"),method:"POST",headers:this.params.headers,params:{paymentMethod:null==e?void 0:e.paymentMethod}}));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"close",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.closed&&!this.resolvedCheckoutData.infrastructureParams.showcase){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,It({url:H()(t=H()(n="".concat(this.params.baseURL,"/")).call(n,Bt.cQ,"/")).call(t,this.params.token,"/close"),method:"POST",headers:this.params.headers,params:{},rejectOnInvalid:!0});case 4:this._closed=!0;case 5:case"end":return e.stop()}}),e,this)})))}},{key:"createPaypalOrder",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,i;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,It({url:H()(n=H()(r="".concat(this.params.baseURL,"/")).call(r,Bt.cQ,"/")).call(n,this.params.token,"/paypal/order"),method:"POST",headers:this.params.headers,params:{clientPaymentMethod:e},rejectOnInvalid:!0});case 2:if(i=t.sent,!_t.H.isFailure(i)){t.next=5;break}throw new Error("Paypal order is not created");case 5:return t.abrupt("return",i.successResult);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"status",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,It({url:H()(t=H()(n="".concat(this.params.baseURL,"/")).call(n,Bt.cQ,"/")).call(t,this.params.token,"/status"),method:"GET",headers:this.params.headers,rejectOnInvalid:!0});case 2:if(r=e.sent,!_t.H.isFailure(r)){e.next=5;break}throw new Error("Payment was not started");case 5:return e.abrupt("return",r.successResult.completed);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"validateAddress",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,i;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,It({url:H()(n=H()(r="".concat(this.params.baseURL,"/")).call(r,Bt.cQ,"/")).call(n,this.params.token,"/mailingAddress"),method:"POST",headers:this.params.headers,params:Z()({},e),rejectOnInvalid:!0});case 2:if(i=t.sent,!_t.H.isFailure(i)){t.next=5;break}throw new Error("Something gone wrong");case 5:return t.abrupt("return",i.successResult);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"getSessionStageInitial",value:function(e){var t,n,r,i,a,o,s,u=window.location.href,c=(0,Pa.O5)(u);return{token:this.trackerCheckout.checkoutViewId,key:this.resolvedCheckoutData.campaignSettings().key,livemode:this.resolvedCheckoutData.infrastructureParams.livemode,urlParams:c,widgetUrl:u,launcherParams:this.resolvedCheckoutData.launcherParams,timezone:ke(),trackerParams:{clientId:this.trackerCheckout.clientId,pageViewId:this.trackerCheckout.pageViewId,checkoutViewId:this.trackerCheckout.checkoutViewId,clientLocale:this.trackerCheckout.clientLocale,uaWebdriver:Boolean(navigator.webdriver),tags:z()(this.trackerCheckout.tags)},widgetDefaults:{amount:{once:this.resolvedCheckoutData.campaign().defaultAmount.once,monthly:this.resolvedCheckoutData.campaign().defaultAmount.monthly},repeat:j()(e.donation),includeFees:st()(t=[y.__.DEFAULT_YES,y.__.ONLY_YES]).call(t,this.resolvedCheckoutData.campaign().includeFees),amountOptions:{once:this.resolvedCheckoutData.campaign().amountOptions.once,monthly:this.resolvedCheckoutData.campaign().amountOptions.monthly},currency:this.resolvedCheckoutData.campaign().defaultCurrency,relations:{amount:be([this.resolvedCheckoutData.campaign().defaultAmount[e.donation.repeatLegacy||j()(e.donation)]||0],e.donation.amount||0),amountOptions:be(this.resolvedCheckoutData.campaign().amountOptions[e.donation.repeatLegacy||j()(e.donation)],e.donation.amount||0)}},customFields:null!==(n=this.resolvedCheckoutData.campaignSettings().customFields)&&void 0!==n?n:[],elementKey:this.resolvedCheckoutData.elementData.elementKey,elementType:this.resolvedCheckoutData.elementData.elementType,elementReminderKey:this.resolvedCheckoutData.elementData.elementReminderKey||"",fundraisingPageKey:(null===(r=this.resolvedCheckoutData.fundraisingPage)||void 0===r?void 0:r.key)||"",fundraisingPageCustomFields:(null===(i=this.resolvedCheckoutData.fundraisingPage)||void 0===i?void 0:i.customFields)||[],startUrl:"",launcherUrl:"",checkoutV2:!0,checkoutIntentCustomFields:null!==(s=null===(o=null===(a=this.resolvedCheckoutData.getExternalConfig().checkoutIntent)||void 0===a?void 0:a.checkoutSettings)||void 0===o?void 0:o.customFields)&&void 0!==s?s:[]}}},{key:"getGooglePayToken",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,i;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,It({method:"GET",url:H()(n=H()(r="".concat(this.params.baseURL,"/")).call(r,Bt.cQ,"/")).call(n,this.params.token,"/googlePay/token"),headers:this.params.headers,rejectOnInvalid:!0,params:{merchantOrigin:e}});case 2:if(i=t.sent,!_t.H.isSuccess(i)){t.next=5;break}return t.abrupt("return",i.successResult);case 5:throw Error("Error while receiving google pay token");case 6:case"end":return t.stop()}}),t,this)})))}},{key:"postDonationUpsell",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,It({method:"POST",url:H()(n=H()(r="".concat(this.params.baseURL,"/")).call(r,Bt.cQ,"/")).call(n,this.params.token,"/postDonationUpsell"),headers:this.params.headers,rejectOnInvalid:!0,params:{postDonationUpsell:e}});case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t.catch(0),t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t,this,[[0,5]])})))}},{key:"getDtdCompanies",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,i;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,It({method:"GET",url:H()(n=H()(r="".concat(this.params.baseURL,"/")).call(r,Bt.cQ,"/")).call(n,this.params.token,"/dtd"),headers:this.params.headers,rejectOnInvalid:!1,params:{search:e}});case 2:if(i=t.sent,!_t.H.isFailure(i)){t.next=5;break}return t.abrupt("return",[]);case 5:return t.abrupt("return",i.successResult.data);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"plaidCreateLinkToken",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,i;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,It({url:H()(n=H()(r="".concat(this.params.baseURL,"/")).call(r,Bt.cQ,"/")).call(n,this.params.token,"/plaid/linkToken"),method:"POST",headers:this.params.headers,params:{language:e},rejectOnInvalid:!0});case 2:if(i=t.sent,!_t.H.isFailure(i)){t.next=5;break}throw new Error("Plaid link token is not created");case 5:return t.abrupt("return",i.successResult);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"createPlaidStripeToken",value:function(e){var t=e.token,n=e.metadata;return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var r,i,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,It({url:H()(r=H()(i="".concat(this.params.baseURL,"/")).call(i,Bt.cQ,"/")).call(r,this.params.token,"/plaid/stripeToken"),method:"POST",headers:this.params.headers,params:{token:t,account:n.account_id}});case 2:if(a=e.sent,!_t.H.isFailure(a)){e.next=5;break}return e.abrupt("return",_t.H.fail({message:"Plaid Stripe link token is not created"}));case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"waitForCreated",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,m.mG)(this,void 0,void 0,f().mark((function r(){return f().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!this.created){r.next=14;break}return r.prev=1,r.next=4,e();case 4:return r.abrupt("return",r.sent);case 7:if(r.prev=7,r.t0=r.catch(1),!(n>=t.retries)){r.next=11;break}throw r.t0;case 11:return r.next=13,new(Nt())((function(e){return q()(e,t.delay)}));case 13:case 16:return r.abrupt("return",this.waitForCreated(e,t,++n));case 14:return r.next=16,new(Nt())((function(e){return q()(e,t.delay)}));case 17:case"end":return r.stop()}}),r,this,[[1,7]])})))}}]),e}();var nl=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e,t,n,a,o){var s;return(0,k.Z)(this,i),(s=r.call(this,e,t)).merge({checkoutScreen:n,checkoutClickElement:a,clickAHref:null==o?void 0:o.link,clickDOMPath:null==o?void 0:o.path,clickText:null==o?void 0:o.text}),s}return(0,P.Z)(i,[{key:"eventType",get:function(){return"checkoutClick"}}]),i}(Ha);var rl=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){return(0,k.Z)(this,i),r.apply(this,arguments)}return(0,P.Z)(i,[{key:"eventType",get:function(){return"ping"}}]),i}(Ue),il=function(){function e(t){(0,k.Z)(this,e),this.tags=new(cr()),this.tracker=t}return(0,P.Z)(e,[{key:"customTrack",value:function(e){return this.tracker.customTrack(e)}},{key:"track",value:function(e,t){return this.tracker.track(e,t)}},{key:"ping",value:function(e,t){var n=e||new rl;this.tracker.ping(n,t)}},{key:"initializePointerUsageTracking",value:function(){this.tracker.initializePointerUsageTracking()}},{key:"companyKey",get:function(){return this.tracker.companyKey}},{key:"clientId",get:function(){return this.tracker.clientId}},{key:"livemode",get:function(){return this.tracker.livemode}},{key:"clientLocale",get:function(){return this.tracker.clientLocale}},{key:"debug",get:function(){return this.tracker.debug}},{key:"page",get:function(){return this.tracker.page}},{key:"subscribe",value:function(e,t){return this.tracker.subscribe(e,t)}},{key:"setEventTags",value:function(e){var t=this;b()(e).call(e,(function(e){return t.tags.add(e)}))}},{key:"removeEventTags",value:function(e){var t,n=this;b()(t=this.tags).call(t,(function(t){E()(e).call(e,(function(e){return t.substring(0,e.length)===e}))&&n.tags.delete(t)}))}},{key:"mergeEventTags",value:function(e){var t,n,r=[];e.payload.eventTags&&(r=i()(n=e.payload.eventTags).call(n)),b()(t=this.tags).call(t,(function(e){-1===rt()(r).call(r,e)&&r.push(e)})),e.payload.eventTags=r}}]),e}(),al=n(47111),ol=n.n(al);function sl(e,t){if(e){if("test"===t&&e.FUN_SPLIT_TESTING_NAME)return{name:e.FUN_SPLIT_TESTING_NAME,node:e};if("variant"===t&&e.FUN_SPLIT_TESTING_VARIANT_NAME)return{name:e.FUN_SPLIT_TESTING_VARIANT_NAME,node:e};var n=(0,Pa.um)(e,"fun-".concat(t));if(n)return{name:n,node:e};var r=e.getAttribute("href")||"",i=/#FUN/.test(r),a=/#X/.test(r);if(i||a){var o=(0,Pa.Lb)(r);if(o&&o.key&&o[t])return{name:o[t],node:e}}}}var ul,cl=function(){function e(t){(0,k.Z)(this,e),this.node=t,this.path="",this.purePath=this.createPath(this.node),this.convertPathToString(this.purePath),this.extractDataFromNode(),this.extractSplitTest()}return(0,P.Z)(e,[{key:"createPath",value:function(e){for(var t=e,n=[];!(t instanceof HTMLHtmlElement)&&t.parentNode;)n.push(t),t=t.parentNode;return n}},{key:"convertPathToString",value:function(e){var t,n;this.path=ol()(t=he()(n=B()(e).call(e,(function(e){if(e.tagName&&e.nodeName&&"HTML"!==e.tagName){var t=e.classList?i()([]).call(e.classList):[];return e.tagName.toLowerCase()+(t.length?"."+t.join("."):"")}return!1}))).call(n,Boolean)).call(t).join(" ")}},{key:"extractDataFromNode",value:function(){var e,t=this.findExtractableNode();if(t){var n=t.innerText||t.textContent||t.value;if(this.text=n?Xa()(e=n.replace(/\s+/g," ")).call(e).substr(0,200):void 0,t instanceof HTMLAnchorElement)this.link=t.href;else for(var r=t;r;){if(r.href){this.link=r.href;break}r=r.parentNode}}}},{key:"findExtractableNode",value:function(){var e;return at()(e=this.purePath).call(e,(function(e){var t,n;if(e.nodeType!==Node.ELEMENT_NODE)return!1;var r=e.tagName.toLowerCase();return-1!==rt()(t=["a","button"]).call(t,r)||"input"===r&&-1!==rt()(n=["submit","button"]).call(n,e.type)}))}},{key:"extractSplitTest",value:function(){var e=function(e){if(function(e){if(!e)return!1;var t=(0,Pa.FX)(e,(function(e){return Boolean(e.FUN_SPLIT_TESTING)}));return Boolean(t)}(e)){var t=function(e){var t=(0,Pa.FX)(e,(function(e){return Boolean(e.FUN_SPLIT_TESTING_NAME||(0,Pa.um)(e,"fun-test"))}));return sl(e,"test")||sl(t,"test")}(e),n=function(e){var t=(0,Pa.FX)(e,(function(e){return Boolean(e.FUN_SPLIT_TESTING_VARIANT_NAME||(0,Pa.um)(e,"fun-variant"))}));return sl(e,"variant")||sl(t,"variant")}(e);return t&&n?{test:t.name,variant:n.name}:void 0}}(this.node);e&&(this.test=e.test,this.variant=e.variant)}}]),e}(),ll=[[0,3,1,7,5,9,8,6,4,2],[7,0,9,2,1,5,4,8,6,3],[4,2,0,6,8,7,1,3,5,9],[1,7,5,0,9,8,3,4,2,6],[6,1,2,3,0,4,5,9,7,8],[3,6,7,4,2,0,9,5,8,1],[5,8,6,9,7,2,0,1,3,4],[8,9,4,5,3,6,2,0,1,7],[9,4,3,8,6,1,7,2,0,5],[2,5,8,1,4,3,6,7,9,0]];var hl=(ul={},(0,v.Z)(ul,cn.e.ACH,0),(0,v.Z)(ul,cn.e.ACH_GUIDE,0),(0,v.Z)(ul,cn.e.CREDIT_CARD,0),(0,v.Z)(ul,cn.e.DONATE,0),(0,v.Z)(ul,cn.e.DOUBLE,0),(0,v.Z)(ul,cn.e.GIFT_AID,0),(0,v.Z)(ul,cn.e.LINK_TO_BANK,0),(0,v.Z)(ul,cn.e.PAYMENT_OPTIONS,0),(0,v.Z)(ul,cn.e.POST_DONATION_UPSELL,0),(0,v.Z)(ul,cn.e.UK_BACS,0),(0,v.Z)(ul,cn.e.UPSELL,0),(0,v.Z)(ul,dn.nn.COMMENT,0),(0,v.Z)(ul,dn.nn.MAILING_ADDRESS,0),(0,v.Z)(ul,dn.nn.PRIVACY,0),(0,v.Z)(ul,dn.nn.THANK_YOU,0),ul);var dl=function(e){(0,se.Z)(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function a(e,t,n,o,s,u,c,l,h){var d,f,m;return(0,k.Z)(this,a),(m=r.call(this,e)).tracker=e,m.resolvedCheckoutData=t,m.currencyService=n,m.checkoutLocale=o,m.iframeWindow=s,m.url=u,m.checkoutOpenTimestamp=c,m.isMobile=l,m.env=h,m.currentScreenDataGetter=null,m.checkoutStateGetter=null,m.isTrackingClicks=!1,m.checkoutViewId=function(e){var t;return H()(t="".concat(e)).call(t,function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charAt(n);t=ll[t][r]}return t.toString()}(e))}(i()(d=(0,Ge.G)()).call(d,0,-1)),m.clickHandler=A()(f=m.handleClick).call(f,(0,hi.Z)(m)),m.tracker.initializePointerUsageTracking(m.iframeWindow),m}return(0,P.Z)(a,[{key:"pageViewId",get:function(){var e;return null===(e=this.tracker.page)||void 0===e?void 0:e.pageViewId}},{key:"showcase",get:function(){return this.resolvedCheckoutData.infrastructureParams.showcase}},{key:"dispose",value:function(){this.untrackClicks()}},{key:"track",value:function(e){this.showcase||(this.addTrackerData(e),this.tracker.track(e,{url:this.url}))}},{key:"ping",value:function(e){if(!this.showcase){var t=e||new rl;this.addTrackerData(t),this.tracker.ping(t,{url:this.url})}}},{key:"getCurrentScreenData",value:function(){if(!this.currentScreenDataGetter)throw new Error("currentScreenDataGetter is not defined");return this.currentScreenDataGetter()}},{key:"addTrackerData",value:function(e){var t,n,r,i,a;e.payload.checkoutCurrency&&(a=this.currencyService.getRate(e.payload.checkoutCurrency)),e.payload.checkoutAmount&&e.payload.checkoutCurrency&&(i=this.currencyService.convert(e.payload.checkoutAmount,e.payload.checkoutCurrency,"USD"));var o=this.getCurrentScreenData(),s=o.screenName,u=function(e,t,n,r){if(!function(e){var t;return st()(t=bt()(hl)).call(t,e)}(e))return{};switch(e){case cn.e.DONATE:return function(e,t,n){var r,i,a,o;return{frequency:{value:j()(e.donation),options:[y.oe.ONCE,y.oe.MONTHLY],editable:e.donation.canModifyRepeat},amountOptions:{selected:st()(r=e.donation.amountOptions).call(r,null!==(i=e.donation.amount)&&void 0!==i?i:0),values:e.donation.amountOptions,shown:e.donation.amountOptions.length>0},amount:{filled:!!e.donation.amount,value:null!==(a=e.donation.amount)&&void 0!==a?a:0,editable:e.donation.canModifyAmount},currency:{value:e.donation.currency,editable:e.donation.canSelectCurrency},tribute:{filled:!!e.tribute.name,type:e.tribute.show?e.tribute.labelType:null,shown:e.tribute.show},comment:{shown:e.comment.isEnabled,filled:!!e.comment.content},goal:{value:e.designation.goalKey,editable:e.designation.isEditable,shown:e.designation.show},askPage:{shown:n.getAskPageConfig().show},fundraisingPage:{shown:Boolean((null===(o=n.fundraisingPage)||void 0===o?void 0:o.key)&&t.askPageActiveTab===za.FUNDRAISER)}}}(t,n,r);case cn.e.UPSELL:return function(e){var t,n;return{amount:{value:e.upsell.fromAmount},currency:{value:e.currency},smallAmount:{shown:null!==e.lowMonthlyAmount,value:null!==(t=e.lowMonthlyAmount)&&void 0!==t?t:0},bigAmount:{value:null!==(n=e.highMonthlyAmount)&&void 0!==n?n:0}}}(t);case cn.e.PAYMENT_OPTIONS:return function(e,t,n){var r,i,a=he()(r=e.availableOptions).call(r,(function(t){return e.buttonOptions[t].show}));return{coverFees:{checked:e.isFeeCovered,fees:e.processingFee,total:e.total,currency:e.currency},frequency:j()(e),paymentMethods:a,askPage:{shown:n.getAskPageConfig().show},fundraisingPage:{shown:Boolean((null===(i=n.fundraisingPage)||void 0===i?void 0:i.key)&&t.askPageActiveTab===za.FUNDRAISER)}}}(t,n,r);case cn.e.GIFT_AID:return function(e){return{shown:!0,textarea:e.legalTextOverflowed}}(t);case cn.e.CREDIT_CARD:return function(e){return{number:{filled:e.filledFields[fa.g.CARD_NUMBER]},expiry:{filled:e.filledFields[fa.g.CARD_EXPIRY]},cvc:{filled:e.filledFields[fa.g.CARD_CVC]}}}(t);case cn.e.UK_BACS:return function(e){return{accountNumber:{filled:!!e.accountNumber},sortCode:{filled:!!e.sortCode}}}(t);case cn.e.ACH:return function(e){return{accountNumber:{filled:!!e.accountNumber},accountType:{value:e.accountType},holderName:{filled:!!e.accountHolderName},routingNumber:{filled:!!e.routingNumber}}}(t);case cn.e.ACH_GUIDE:return function(e){return{company:{name:e.companyName}}}(t);case cn.e.LINK_TO_BANK:return{buttons:["ach","plaid"]};case cn.e.DOUBLE:return function(e){var t;return{upsell:{currency:e.currency,currentAmount:e.total,matchingFromAmount:e.minimumMatchedAmount,matchingPromisedAmount:e.matchingPromisedAmount,matchingRatio:e.matchingRatio,proposedAmount:e.proposedAmount,proposedAmountBeforeFeeCovered:e.proposedAmountBeforeFeeCovered,show:e.showDTDUpsell},employer:{filled:!!e.employer.name,filledFromList:E()(t=e.companies).call(t,(function(t){return t.company_name===e.employer.name}))}}}(t);case cn.e.POST_DONATION_UPSELL:return function(e){var t,n;return{amount:{value:null!==(t=e.amount)&&void 0!==t?t:0},minAmount:{value:e.recurringMinAmount},total:{value:null!==(n=e.amount)&&void 0!==n?n:0},currency:{value:e.currency},period:{value:e.period}}}(t);case dn.nn.COMMENT:return function(e){return{comment:{filled:!!e.comment}}}(t);case dn.nn.PRIVACY:return function(e,t,n){var r;return{firstName:{filled:!!e.firstName},lastName:{filled:!!e.lastName},email:{filled:!!e.email,validated:!1,valid:null},phoneNumber:{shown:e.showPhone,required:e.phoneRequired,filled:!!e.phone},anonymous:{shown:e.showAnonymous,filled:e.anonymousChecked},onBehalfOf:{shown:e.onBehalfOf.isEnabled,filled:!!e.onBehalfOf.companyName},terms:{shown:e.termsAndConditions.isEnabled,checked:e.termsAndConditions.isAccepted},subscription:{shown:e.mailingListSubscription.show,checked:e.mailingListSubscription.checked},askPage:{shown:n.getAskPageConfig().show},fundraisingPage:{shown:Boolean((null===(r=n.fundraisingPage)||void 0===r?void 0:r.key)&&t.askPageActiveTab===za.FUNDRAISER)}}}(t,n,r);case dn.nn.MAILING_ADDRESS:return function(e){return{mailingAddressRequired:e.isRequired,city:{filled:!!e.city},country:{filled:!!e.countryCode,value:e.countryCode},line1:{filled:!!e.line1},line2:{filled:!!e.line2},postal:{filled:!!e.postal},region:{filled:!!e.region,value:e.region}}}(t);case dn.nn.THANK_YOU:return function(e){return{amount:{value:e.total},currency:{value:e.currency},email:{shown:e.sharing.showEmail},facebook:{shown:e.sharing.showFacebook},linkedin:{shown:e.sharing.showLinkedin},twitter:{shown:e.sharing.showTwitter}}}(t);default:throw new Error('Unknown screen name "'.concat(e,'"'))}}(s,o.screenData,this.getCheckoutStateData(),this.resolvedCheckoutData),c=this.resolvedCheckoutData.queryParams.member;c||(c=(null===(t=this.resolvedCheckoutData.fundraisingPage)||void 0===t?void 0:t.admin)||""),e.merge({widgetKey:this.resolvedCheckoutData.campaignSettings().key,checkoutLocale:this.checkoutLocale,elementReminderKey:this.resolvedCheckoutData.elementData.elementReminderKey,elementKey:this.resolvedCheckoutData.elementData.elementKey,elementType:this.resolvedCheckoutData.elementData.elementType,elementLocale:this.resolvedCheckoutData.elementData.elementLocale,checkoutViewId:this.checkoutViewId,checkoutOpenTime:this.checkoutOpenTimestamp,checkoutLifetime:V()()-this.checkoutOpenTimestamp,checkoutScreen:s,checkoutScreenData:Fe()(u),checkoutInUSDAmount:i,checkoutCurrencyRate:a,checkoutDefaultAmount:this.defaultAmount,elementParams:null===(n=this.resolvedCheckoutData.getExternalConfig().launcher)||void 0===n?void 0:n.elementData,splitTestName:this.resolvedCheckoutData.splitTest&&this.resolvedCheckoutData.splitTest.name||"",splitTestVariant:this.resolvedCheckoutData.splitTest&&this.resolvedCheckoutData.splitTest.variant||"",elementData:Fe()(this.resolvedCheckoutData.getExternalConfig().elementTrackingData),fundraisingPageKey:(null===(r=this.resolvedCheckoutData.fundraisingPage)||void 0===r?void 0:r.key)||"",fundraisingPageCustomerKey:c}),this.mergeEventTags(e)}},{key:"defaultAmount",get:function(){return this.getCheckoutStateData().donation.defaultAmount}},{key:"trackClicks",value:function(){if(this.isTrackingClicks)throw new Error("Already tracking clicks");this.iframeWindow.addEventListener("click",this.clickHandler,!0),this.isTrackingClicks=!0}},{key:"untrackClicks",value:function(){this.iframeWindow.removeEventListener("click",this.clickHandler),this.isTrackingClicks=!1}},{key:"checkoutDataSnapshot",get:function(){var e=this.getCheckoutStateData(),t=(0,v.Z)({},j()(e.donation),e.donation.amountOptions);return{payParams:{currency:e.donation.currency,repeat:j()(e.donation),amount:e.donation.amount,amountOptions:t},isTributeActive:e.tribute.isActive}}},{key:"handleClick",value:function(e){var t=e.target;if(t){var n=(0,Pa.FX)(t,(function(e){return e&&e.hasAttribute&&e.hasAttribute(a.ElementNameDataAttr)}));this.trackClickEvent(t,null==n?void 0:n.getAttribute(a.ElementNameDataAttr))}}},{key:"trackClickEvent",value:function(e,t){var n=this.resolvedCheckoutData.elementData,r=new cl(e),i=this.checkoutDataSnapshot,a=no(this.getCurrentScreenData().screenName,i.isTributeActive);this.track(new nl(i.payParams,n,a,t||"other",r))}},{key:"setCurrentScreenDataGetter",value:function(e){this.currentScreenDataGetter=e}},{key:"setCheckoutStateGetter",value:function(e){this.checkoutStateGetter=e}},{key:"getCheckoutStateData",value:function(){if(!this.checkoutStateGetter)throw new Error("checkoutStateGetter is not defined");return this.checkoutStateGetter()}},{key:"trackClick",value:function(e,t){this.trackClickEvent(t,e)}}]),a}(il);dl.ElementNameDataAttr="data-tracking-element-name";var fl=function(){function e(t,n,r,i,a,o){(0,k.Z)(this,e),this.embedTracker=t,this.debug=n,this.keysKeeper=r,this.targetWindow=i,this.globalWindow=a,this.params=o,this.unsubscribeFromUserInteraction=function(){return null};var s=this.createCoreInstances();this.flowManager=s.flowManager,this.intl=s.intl,this.trackerCheckout=s.trackerCheckout,this.experiments=s.experiments,this.currencyService=s.currencyService,this.resolvedCheckoutData=s.resolvedCheckoutData,this.checkoutAPIBridge=s.checkoutAPIBridge,this.checkoutRouter=s.checkoutRouter,this.logger=s.logger}return(0,P.Z)(e,[{key:"run",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.intl.setLocale((null==e?void 0:e.localeCode)||this.intl.locale);case 2:return this.checkoutRouter.init(),this.trackerCheckout.trackClicks(),this.experiments.init(),t.next=7,Hc(this.currencyService,this.resolvedCheckoutData,this.intl);case 7:return n=(null==e?void 0:e.initialScreen)||(r=this.resolvedCheckoutData,i=this.currencyService,a=void 0,o=void 0,o=r.getExternalConfig(),(null===(a=o.checkoutData)||void 0===a?void 0:a.screen)&&(0,wn.bZ)(o.checkoutData.screen)?o.checkoutData.screen:function(e){var t,n,r,i,a=e.campaign(),o=e.getExternalConfig(),s=a.tribute.show,u=null===(n=null===(t=o.checkoutData)||void 0===t?void 0:t.tribute)||void 0===n?void 0:n.inHonorOf,c=a.showComment,l=!1!==(null===(r=o.checkoutData)||void 0===r?void 0:r.modifyAmount),h=!1!==(null===(i=o.checkoutData)||void 0===i?void 0:i.modifyDesignation),d=a.defaultRepeat,f=a.displayGoal!==sn.AZ.WITHOUT&&a.goals.length>1,m=[on.Yq.DONATION_FORM,on.Yq.SIMPLE_FORM,on.Yq.BUTTON_GROUP,on.Yq.IMPACT_SLIDER],p=[y.Bx.ONLY_ONETIME,y.Bx.ONLY_MONTHLY],v=e.elementData.elementType;if(!v)return!1;var g=l&&!st()(m).call(m,v),k=h&&v!==on.Yq.DONATION_FORM,P=v!==on.Yq.DONATION_FORM&&!st()(p).call(p,d);return!(s&&!u||c||k&&f||g||P)}(r)&&function(e,t,n){var r,i,a,o=null===(r=e.checkoutData)||void 0===r?void 0:r.recurring;o||t.defaultRepeat!==y.Bx.ONLY_ONETIME||(o=on.dy.ONCE),o||t.defaultRepeat!==y.Bx.ONLY_MONTHLY||(o=on.dy.MONTHLY);var s=(null===(i=e.checkoutData)||void 0===i?void 0:i.amount)||0,u=(null===(a=e.checkoutData)||void 0===a?void 0:a.currency)||t.defaultCurrency;if(!o||!s||!u)return!1;var c=t.minAmount[o],l=an.g.convertMinAmount(n,c,t.defaultCurrency,u),h=s.toString().length>un.wn;return!(s<l||h)}(o,r.campaign(),i)?cn.e.PAYMENT_OPTIONS:void 0),t.next=10,this.flowManager.setInitialScreen(n).startDefaultFlow();case 10:case"end":return t.stop()}var r,i,a,o}),t,this)})))}},{key:"dispose",value:function(){this.unsubscribeFromUserInteraction(),this.trackerCheckout.dispose(),this.flowManager.dispose()}},{key:"createCoreInstances",value:function(){var e,t,n,r,i=Ln(this.params.externalConfig.queryParams||{}),a=zc.format(this.params.externalConfig.queryParams||{}),u={livemode:this.params.livemode,env:this.params.env,isIE:tn(),isInAppBrowser:E()(Et).call(Et,(function(e){return e.exec(St)})),isMobile:this.params.isMobile,showcase:this.params.showcase,isDevelopmentMode:(0,rn.b)(),isRTL:"rtl"===this.params.languageDirection},c=new el(this.params.resolvedConfig,this.params.embedCompanies,this.params.externalConfig,a,u,this.params.integrations,i,{cdnUrl:s},this.params.userMeta,this.params.infrastructureQueryParams,this.params.test),l=new Bc(this.keysKeeper,c,a,i),h=(e=this.params.currencyRates,t=c,n=this.params.sentryInstance,r=function(e,t){var n;return Z()(Z()({},e),Gr()(B()(n=si()(t)).call(n,(function(e){var n,r=(0,tt.Z)(e,1)[0];return[r,Number(null!==(n=t[r])&&void 0!==n?n:1)]}))))}(e,t.config().cryptoCurrencies),new Gc.M(r,n)),d=new Yt(h),f=function(e,t){var n=new gr(e,{defaultLocale:t.campaign().localization.defaultLocale,useCompanyInterfaceLocales:t.campaignSettings().config.localization.useCompanyInterfaceLocales,supportedLanguages:(0,Un.Z)(t.campaignSettings().config.localization.supportedLanguages)},{interfaceLocales:(0,Un.Z)(t.company().localization.interfaceLocales)}).getUILocale();return function(e){var t=e.dateFormatter,n=e.currencyFormatter,r=e.numberFormatter,i=e.availableLocales,a=void 0===i?[fr.DEFAULT_LOCALE]:i,o=e.translationLoader,s=e.locale,u=void 0===s?fr.DEFAULT_LOCALE:s,c=new vr(u,e.phrases),l=new yr(c,o);return new fr(l,t,n,r,{locale:u,availableLocales:a})}({dateFormatter:new sr(fr.DEFAULT_LOCALE),currencyFormatter:new or(fr.DEFAULT_LOCALE,tn()),numberFormatter:new Sr(fr.DEFAULT_LOCALE),availableLocales:Qn.dI,translationLoader:new Dr,locale:n})}(this.params.localeCode,c),m=new dl(this.embedTracker,c,h,f.locale,this.targetWindow,this.params.trackingUrls.checkout,this.params.checkoutOpenTimestamp,this.params.isMobile,this.params.env),p=new en(this.targetWindow);this.unsubscribeFromUserInteraction=p.subscribeOnUserInteraction((function(){m.ping()}));var v,y=m.checkoutViewId,g=(v={sentry:this.params.sentryInstance,createFundraiseupAddressProvider:function(e,t){return new Ht(e,t,y)},baseURL:o,locale:f.locale},new Ft(v.createFundraiseupAddressProvider,v.sentry,{locale:v.locale,baseURL:v.baseURL,fundraiseupAddressProviderHeaders:v.fundraiseupAddressProviderHeaders})),k=new tl(m,c,{baseURL:o,withCredentials:!0,headers:{"Content-Type":"text/plain; charset=utf-8"},token:y}),P=new Ye(new $t),S=c.company(),D=this.params.livemode?I.LIVE:I.TEST,b=Ur({publicKey:this.params.paymentMethods.stripePublicKey[D],targetWindow:this.targetWindow,locale:f.locale,stripeAccount:S.stripeAccount},this.params.sentryInstance),w=Ur({publicKey:this.params.paymentMethods.stripePublicKey[D],targetWindow:this.globalWindow,locale:f.locale,stripeAccount:S.stripeAccount},this.params.sentryInstance),A=new(O()),C=new Hr(c),N=function(e,t,n,r,i,a,o,s,u,c,l,h,d,f,m,p){return new Tc(m,e,t,n,r,i,a,o,s,u,c,l,h,d,f,p)}(c,k,f,m,this.debug,h,d,this.targetWindow,this.params.sentryInstance,this.params.paymentMethods,b,w,P,g,A,C),_=function(e,t){var n=bt()(He.l);if(!at()(n).call(n,(function(e){return He.l[e]===t})))throw new Error("Unsupported type ".concat(t," of storage"));return new qt(e,new Xt(t))}(Gt.EXPERIMENTS,He.l.OBJECT),T=new kt({companyKey:S.key,parentCompanyKey:S.parentKey,widgetKey:c.campaignSettings().key,tracker:m,experimentsSettings:Pt,user:c.user(),funStorage:_}),R=function(e){var t=e.userSession,n=e.livemode,r=e.window,i=e.tracker,a=e.currencyService,o=e.company,s=e.keysKeeper,u=e.campaignData,c={defaultCurrency:o.defaultCurrency,trackToMarketingPixels:o.trackToMarketingPixels};return new Qe(t,n,r,i,a,c,u,s)}({userSession:P,livemode:u.livemode,window:window,currencyService:h,tracker:this.embedTracker,keysKeeper:this.keysKeeper,company:{defaultCurrency:c.company().defaultCurrency,trackToMarketingPixels:c.company().trackToMarketingPixels},campaignData:{key:c.campaignSettings().key,name:c.campaignSettings().name,customHash:c.campaignSettings().customHash,xFactor:c.campaign().xFactor}});return{flowManager:N,intl:f,trackerCheckout:m,experiments:T,currencyService:h,resolvedCheckoutData:c,checkoutAPIBridge:C,checkoutRouter:l,logger:R}}}]),e}(),ml=n(52322),pl=n(28316),vl=n(58928);var yl=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(){var e;return(0,k.Z)(this,i),(e=r.apply(this,arguments)).state={hasError:!1},e}return(0,P.Z)(i,[{key:"componentDidCatch",value:function(e,t){if(!this.context)throw new Error("SentryService is not provided");this.context.captureException(e,{extra:{componentStack:t.componentStack}})}},{key:"render",value:function(){return this.state.hasError?(0,ml.jsx)("h1",{children:this.props.fallback||"something went wrong"},void 0):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),i}(p.Component);yl.contextType=vl.E;var gl=n(6277),kl=n(1027),Pl=n(24464),Sl=n(26328),El=(0,p.createContext)(!1),Dl=n(89677),bl=n(30832),wl=n(13861),Al=n(12209);function Cl(){var e=(0,wl.ix)(),t=(0,p.useState)(e.checkoutService),n=(0,tt.Z)(t,2),r=n[0],i=n[1];return(0,p.useEffect)((function(){return e.onFlowChanged((function(){i(e.checkoutService)}))}),[e]),r}function Nl(){var e=Cl(),t=(0,p.useState)((function(){return e.getState()})),n=(0,tt.Z)(t,2),r=n[0],i=n[1];return(0,p.useEffect)((function(){return i((function(t){var n=e.getState();return e.setAskPageActiveTab(t.askPageActiveTab),n})),e.onStateUpdate((function(){i(e.getState())}))}),[e]),r}var Ol,_l=n(32008),Tl=n(81427),Rl=function(e){var t=(0,Tl.Y)(),n=e.tab,r=e.setActiveTab;return(0,ml.jsxs)("div",Z()({className:"campaign-tabs",role:"tablist"},{children:[(0,ml.jsx)("button",Z()({type:"button",className:(0,gl.Z)("campaign-tab",{active:n===za.FUNDRAISER}),onClick:function(){return r(za.FUNDRAISER)},"data-qa":"p2p-component-button","data-tracking-element-name":"switchToFundraisingPageTab",role:"tab","aria-selected":n===za.FUNDRAISER},{children:t.translate("askPageScreen.reason")}),void 0),(0,ml.jsx)("button",Z()({type:"button",className:(0,gl.Z)("campaign-tab",{active:n===za.CAUSE}),onClick:function(){return r(za.CAUSE)},"data-qa":"ask-component-button","data-tracking-element-name":"switchToAskPageTab",role:"tab","aria-selected":n===za.CAUSE},{children:t.translate("askPageScreen.designation")}),void 0)]}),void 0)},Il=function(e){var t,n=(0,Sl.S)(),r=(0,_l.q)();return(0,ml.jsx)("div",Z()({className:r("campaign-links"),"data-qa":"ask-links"},{children:B()(t=e.links).call(t,(function(e,t){return(0,ml.jsxs)("span",Z()({className:(0,gl.Z)({"d-block":n,"mt-3":n&&t})},{children:[!n&&!!t&&(0,ml.jsx)("span",Z()({className:"px-1","aria-hidden":"true"},{children:""}),void 0),(0,ml.jsx)("a",Z()({href:e.url,className:r("campaign-link"),target:"_blank",rel:"noreferrer","data-tracking-element-name":"askPageLink"},{children:e.label}),void 0)]}),t)}))}),void 0)},xl=(0,p.memo)(Il),Zl=function(e){var t=(0,Sl.S)(),n=(0,_l.q)(),r=!!e.links.length;return(0,ml.jsxs)(ml.Fragment,{children:[!e.hideTitle&&(0,ml.jsx)("h2",{className:n("campaign-title"),"data-qa":"ask-title",dangerouslySetInnerHTML:{__html:e.title},dir:"auto"},void 0),e.showText&&(0,ml.jsx)("p",{"data-qa":"ask-message",className:(0,gl.Z)(n("campaign-text"),{"campaign-text-full":!r}),dangerouslySetInnerHTML:{__html:e.description},dir:"auto"},void 0),!t&&r&&(0,ml.jsx)("div",Z()({className:"mt-auto"},{children:(0,ml.jsx)(xl,{links:e.links},void 0)}),void 0)]},void 0)},Ll=n(92415),Ml=function(e){var t=(0,Ll.L)();return(0,ml.jsxs)("svg",Z()({className:(0,gl.Z)(e.className),"aria-hidden":!!e.hideFromReaders||void 0,fill:"none",height:"22",viewBox:"0 0 28 22",width:"28",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},{children:[(0,ml.jsxs)("filter",Z()({id:"a-".concat(t),colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"22",width:"26",x:"-1",y:"0"},{children:[(0,ml.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"},void 0),(0,ml.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"},void 0),(0,ml.jsx)("feOffset",{dy:"2"},void 0),(0,ml.jsx)("feGaussianBlur",{stdDeviation:"1.5"},void 0),(0,ml.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"},void 0),(0,ml.jsx)("feBlend",{in2:"BackgroundImageFix",mode:"normal",result:"effect1_dropShadow"},void 0),(0,ml.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow",mode:"normal",result:"shape"},void 0)]}),void 0),(0,ml.jsx)("clipPath",Z()({id:"b-".concat(t)},{children:(0,ml.jsx)("path",{d:"m0 0h28v22h-28z"},void 0)}),void 0),(0,ml.jsxs)("g",Z()({clipPath:"url(#b-".concat(t,")")},{children:[(0,ml.jsx)("g",Z()({filter:"url(#a-".concat(t,")")},{children:(0,ml.jsx)("path",{d:"m4.73585 0h18.26415s-3.1038 6.125-8.5 10.625c-5.39623 4.5-13.5 6.375-13.5 6.375s5.04717-3 6.5-8.5-2.76415-8.5-2.76415-8.5z",fill:"#fff"},void 0)}),void 0),(0,ml.jsx)("path",{clipRule:"evenodd",d:"m1 17s.94942-.5643 2.14324-1.6522c1.55871-1.4204 3.53405-3.7332 4.35676-6.8478.96396-3.64929-.56816-6.19797-1.7084-7.5-.57827-.660317-1.05575-1-1.05575-1h18.26415s-.1885.372-.5534 1c-1.1156 1.92025-3.8802 6.234-7.9466 9.625-3.4505 2.8774-8.0079 4.6815-10.84593 5.6085-1.60042.5227-2.65407.7665-2.65407.7665zm4.36967-2.4342-.09966.0379c1.27382-1.4602 2.55533-3.4198 3.19683-5.84831.80837-3.06027.03649-5.46295-.94928-7.08681-.1458-.24017-.29603-.46308-.44618-.66858h-.00652s-.29576-.309231-.47666-.490123c-.18089-.180893-.51163-.50974685-.51163-.50974685l15.86263-.00006508-.6517.99993493h-.0033c-.3427.56745-.7889 1.27069-1.3326 2.05554-1.4201 2.0498-3.4865 4.62867-6.092 6.80146-2.5764 2.1484-5.83497 3.6949-8.48993 4.7088z",fill:"#A3AEC0",fillRule:"evenodd"},void 0)]}),void 0)]}),void 0)},Fl=(0,p.memo)(Ml),Ul=n(76359),Bl=n(50504),Gl=function(e){return Math.round(1e3*e)/10},Hl=function(e){var t=e.fundraiser,n=e.userAmount,r=(0,Tl.Y)(),i=(0,Bl.S)(),a=(0,Ul.r)(),o=t.goalAmount||1,s=Math.min(100,Gl((t.donationsAmount||0)/o)),u=Gl(n/o),c=!!n,l=(c?s+u:s)>=100,h=u?Math.max(u,4):0,d=a&&c?Math.max(100-s-h,0):100;return(0,ml.jsxs)("div",Z()({className:e.className},{children:[(0,ml.jsx)("p",Z()({className:"subtitle-3 text-truncate","data-qa":"fundraiser-display-name"},{children:t.name}),void 0),(0,ml.jsx)("div",Z()({className:"my-1"},{children:(0,ml.jsxs)("div",Z()({className:"campaign-meter"},{children:[(0,ml.jsx)("div",{className:(0,gl.Z)("campaign-meter-progress-increase",{"campaign-meter-done":l}),style:{transform:i?"translateX(".concat(d,"%)"):"translateX(-".concat(d,"%)")}},void 0),(0,ml.jsx)("div",Z()({className:(0,gl.Z)("campaign-meter-progress",{"campaign-meter-hidden":!a,"campaign-meter-done":l}),style:{width:"".concat(s,"%"),borderLeft:i&&s>0&&s<100?"1px solid #fff":void 0,borderRight:!i&&s>0&&s<100?"1px solid #fff":void 0}},{children:(s>20||!c)&&(0,ml.jsxs)("div",Z()({className:(0,gl.Z)("campaign-meter-percent",{"campaign-meter-percent-right":s<20}),"data-qa":"raised-percent"},{children:[s,"%"]}),void 0)}),void 0)]}),void 0)}),void 0),(0,ml.jsxs)("div",Z()({className:"body-3 d-flex justify-content-between"},{children:[(0,ml.jsx)("div",Z()({className:"pr-1","data-qa":"fundraiser-raised-amount"},{children:r.translate("common.fundraisingPageMeter.raisedAmountText",{amount:r.formatCurrency(t.donationsAmount||0,{currency:t.currency||"USD"})})}),void 0),(0,ml.jsx)("div",Z()({className:"pl-1 text-right","data-qa":"fundraiser-goal-amount"},{children:r.translate("common.fundraisingPageMeter.goalAmountText",{amount:r.formatCurrency(t.goalAmount||0,{currency:t.currency||"USD"})})}),void 0)]}),void 0)]}),void 0)},Kl=window.devicePixelRatio>1?"128x":"64x",Vl=function(e){var t=e.fundraiser,n=(0,p.useMemo)((function(){var e,n,r=null===(n=t.image)||void 0===n?void 0:n.uuid;return r?H()(e="https://ucarecdn.com/".concat(r,"/-/resize/")).call(e,Kl,"/-/format/auto/"):null}),[t]);return(0,ml.jsxs)("div",Z()({className:"pb-3"},{children:[(0,ml.jsxs)("div",Z()({className:"campaign-quote-bubble"},{children:[(0,ml.jsx)("div",Z()({className:"campaign-quote-bubble-text","data-qa":"fundraiser-message"},{children:t.message}),void 0),(0,ml.jsx)(Fl,{className:"campaign-quote-bubble-edge",hideFromReaders:!0},void 0)]}),void 0),(0,ml.jsxs)("div",Z()({className:"d-flex align-items-center"},{children:[n&&(0,ml.jsx)("div",Z()({className:"mr-3"},{children:(0,ml.jsx)("div",{className:"campaign-fundraiser-photo",style:{backgroundImage:'url("'.concat(n,'")')}},void 0)}),void 0),(0,ml.jsx)(Hl,{className:"flex-grow-1 min-w-0",fundraiser:t,userAmount:e.userAmount},void 0)]}),void 0)]}),void 0)},Yl=window.devicePixelRatio>1,ql=function(){var e,t,n=(0,_l.q)(),r=(0,Dl.U)(),i=Cl(),a=(0,p.useCallback)((function(e){i.setAskPageActiveTab(e),i.syncUpdateCheckoutState()}),[i]),o=function(){var e=(0,wl.ix)(),t=(0,p.useState)((function(){return e.getCurrentFlow("useCurrentScreen.useState").getCurrentScreen().name})),n=(0,tt.Z)(t,2),r=n[0],i=n[1];return(0,p.useEffect)((function(){return e.onScreenChanged((function(){i(e.getCurrentFlow("useCurrentScreen.onScreenChanged").getCurrentScreen().name)}))}),[e]),r}(),s=Nl(),u=(0,bl.n)(),c=(0,p.useMemo)((function(){return u.getAskPageConfig(Yl)}),[u]),l=(0,Sl.S)(),h=u.fundraisingPage,d=!!l&&st()(e=i.mobileScreensWithoutAskTitle).call(e,o),f=!l||st()(t=i.mobileScreensWithAskText).call(t,o),m=f||!d,v=!!h&&c.show,y=!h||s.askPageActiveTab===za.CAUSE,g=h&&s.askPageActiveTab===za.FUNDRAISER,k=(0,p.useMemo)((function(){return h&&h.currency?r.convert(s.donation.amount||0,s.donation.currency,h.currency):0}),[s.donation.amount,s.donation.currency,r,h]),P=(0,p.useRef)(null),S=(0,p.useRef)(null);!function(e,t){var n=(0,Pl.R)(),r=(0,Sl.S)(),i=(0,p.useContext)(El),a=(0,p.useCallback)((function(){if(r&&!i){var t=e.current;if(!t)throw new Error("scrollRef was not passed");var a=window.pageYOffset||n.pageYOffset,o=t.offsetTop;o>a||(t.scrollIntoView(!0),window.scrollTo(0,o||1))}}),[e,n,r,i]);(0,p.useEffect)(a,[t,a])}(m?P:S,o);var E=(0,p.useState)(!0),D=(0,tt.Z)(E,2),b=D[0],w=D[1],A=(0,p.useState)(!1),C=(0,tt.Z)(A,2),N=C[0],O=C[1],_=(0,p.useRef)(null),T=(0,wl.ix)(),R=(0,p.useCallback)((function(e,t){var n,r=e.getCurrentFlow(t).getCurrentScreen().name;w(st()(n=e.checkoutService.screensWithoutAskOverlay).call(n,r))}),[]);(0,p.useEffect)((function(){return R(T,"Campaign.onScreenChanged"),T.onScreenChanged((function(){R(T,"Campaign.onScreenChanged")}))}),[T,R]);var I=(0,Al.r)(_);return(0,ml.jsxs)("div",Z()({className:(0,gl.Z)(n("campaign"),{"p-rel":!b&&!l}),onMouseEnter:function(){return O(!0)},onMouseLeave:function(){return O(!1)},ref:S},{children:[m&&(0,ml.jsxs)("div",Z()({className:n("campaign-image-holder")},{children:[(0,ml.jsx)("div",{className:n("campaign-image"),style:{backgroundImage:"url('".concat(c.mainImage,"')")},"data-qa":"ask-image","data-testid":"campaign-preview"},void 0),v&&(0,ml.jsx)(Rl,{tab:s.askPageActiveTab,setActiveTab:a},void 0)]}),void 0),(0,ml.jsx)("div",Z()({className:n("campaign-header"),"data-qa":"ask-company-name"},{children:c.logoImage?(0,ml.jsx)("img",{src:c.logoImage,alt:c.companyName,className:n("campaign-header-logo"),"data-testid":"campaign-logo"},void 0):(0,ml.jsx)("p",Z()({className:n("campaign-header-name"),dir:"auto",title:c.companyName,"data-testid":"campaign-name"},{children:c.companyName}),void 0)}),void 0),m&&(0,ml.jsxs)("div",Z()({ref:P,className:(0,gl.Z)(n("campaign-body"),{"justify-content-center":s.askPageActiveTab===za.FUNDRAISER}),role:h?"tabpanel":""},{children:[y&&(0,ml.jsx)(Zl,{title:c.title,description:c.text,links:c.links,hideTitle:d,showText:f},void 0),g&&(0,ml.jsx)(Vl,{fundraiser:h,userAmount:k},void 0)]}),void 0),(0,ml.jsx)(kl.Z,Z()({classNames:"fade",nodeRef:_,in:!b&&!N&&!l,addEndListener:I,mountOnEnter:!0,unmountOnExit:!0},{children:(0,ml.jsx)("div",{ref:_,className:"campaign-faded-overlay"},void 0)}),void 0)]}),void 0)},Wl=n(75311),jl=n(41310);function Xl(){return Xl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xl.apply(this,arguments)}var zl,Ql=function(e,t){return p.createElement("svg",Xl({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),Ol||(Ol=p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.20802 1.34699C6.9536 1.11697 6.62093 0.992846 6.27802 0.999987C5.91602 0.999987 5.60602 1.11599 5.34802 1.34699C5.08902 1.57899 4.96002 1.85699 4.96002 2.18099C4.96002 2.50499 5.09002 2.78299 5.34802 3.01499L15.398 12L5.34802 20.985C5.08902 21.217 4.96002 21.495 4.96002 21.819C4.96002 22.143 5.11502 22.421 5.34802 22.653C5.60602 22.884 5.91602 23 6.25202 23C6.56202 23 6.89802 22.884 7.15602 22.676L19.04 12.023L7.20802 1.34699Z",fill:"currentColor"})))},Jl=(0,p.forwardRef)(Ql),$l=(0,p.memo)(Jl),eh=[Wl.A.CLICK],th=function(e){var t=(0,Sl.S)(),n=(0,Bl.S)(),r=(0,_l.q)(),i=(0,p.useState)(!1),a=(0,tt.Z)(i,2),o=a[0],s=a[1],u=(0,p.useRef)(null),c=(0,p.useRef)(null);return(0,ml.jsxs)("li",Z()({className:(0,gl.Z)(r("faq-link-item"),e.className),"data-qa":e.qa},{children:[(0,ml.jsxs)("button",Z()({ref:c,type:"button",className:(0,gl.Z)(r("faq-link"),{"font-weight-600":o&&t}),onClick:function(){return s(!o)}},{children:[t&&(0,ml.jsx)("span",Z()({className:"icon-slot icon-slot-10 mr-2 flex-shrink-0"},{children:(0,ml.jsx)("span",Z()({className:"p-abs centered font-size-10"},{children:(0,ml.jsx)($l,{className:(0,gl.Z)("icon d-block faq-link-icon",{"icon-rotate-90":!n&&o,"icon-rotate-180":n&&!o,"icon-rotate-270":n&&o})},void 0)}),void 0)}),void 0),(0,ml.jsx)("span",Z()({className:"faq-link-title"},{children:e.title}),void 0)]}),void 0),t?(0,ml.jsx)(kl.Z,Z()({nodeRef:u,in:o,timeout:200,classNames:"fade",mountOnEnter:!0,unmountOnExit:!0},{children:(0,ml.jsx)("div",Z()({"data-qa":e.qa?"".concat(e.qa,"-popover"):"",ref:u,className:"body-3 py-2 pl-5 flex-shrink-0"},{children:e.children}),void 0)}),void 0):(0,ml.jsx)(jl.N,Z()({triggerRef:c,trigger:eh,maxWidth:"312px"},{children:(0,ml.jsxs)("div",Z()({"data-qa":e.qa?"".concat(e.qa,"-popover"):"","aria-live":c?"polite":"off"},{children:[(0,ml.jsx)("p",Z()({className:"subtitle-4"},{children:e.title}),void 0),(0,ml.jsx)("div",Z()({className:"body-3 mt-1"},{children:e.children}),void 0)]}),void 0)}),void 0)]}),void 0)},nh=(0,p.memo)(th),rh=n(90868),ih=function(e){var t,n=(0,Tl.Y)(),r=(0,Sl.S)(),i=(0,_l.q)(),a=(0,bl.n)(),o=a.campaign(),s=a.company(),u=(0,rh.a)(845),c=st()(t=[y.C9.UNITED_STATES,y.C9.CANADA,y.C9.MEXICO]).call(t,s.country)&&s.nonProfit,l=o.defaultRepeat!==y.Bx.ONLY_ONETIME&&s.donorPortal.canCancelSubscription;return(0,ml.jsx)("div",Z()({className:"fixed-container"},{children:(0,ml.jsxs)("ul",Z()({className:i("faq-links")},{children:[(0,ml.jsxs)(nh,Z()({title:n.translate("faq.isDonationSecure.title"),qa:"is-donation-secure"},{children:[(0,ml.jsx)("p",Z()({className:"faq-link-text"},{children:n.translate("faq.isDonationSecure.message.part-1")}),void 0),(0,ml.jsx)("p",Z()({className:"faq-link-text"},{children:n.translate("faq.isDonationSecure.message.part-2")}),void 0),(0,ml.jsx)("p",Z()({className:"faq-link-text"},{children:n.translate("faq.isDonationSecure.message.part-3")}),void 0)]}),void 0),c&&(0,ml.jsxs)(ml.Fragment,{children:[e.showAskPage&&!u&&!r&&(0,ml.jsx)("li",Z()({className:"body-4 text-white opacity-80","aria-hidden":"true"},{children:""}),void 0),(0,ml.jsxs)(nh,Z()({title:n.translate("faq.isTaxDeductible.title"),qa:"is-tax-deductible"},{children:[(0,ml.jsx)("p",Z()({className:"faq-link-text"},{children:n.translate("faq.isTaxDeductible.message.part-1")}),void 0),(0,ml.jsx)("p",Z()({className:"faq-link-text"},{children:n.translate("faq.isTaxDeductible.message.part-2")}),void 0)]}),void 0)]},void 0),l&&(0,ml.jsxs)(ml.Fragment,{children:[e.showAskPage&&!u&&!r&&(0,ml.jsx)("li",Z()({className:"body-4 text-white opacity-80","aria-hidden":"true"},{children:""}),void 0),(0,ml.jsx)(nh,Z()({title:n.translate("faq.cancelRecurringDonation.title"),qa:"cancel-recurring-donation"},{children:(0,ml.jsx)("p",Z()({className:"faq-link-text"},{children:n.translate("faq.cancelRecurringDonation.message")}),void 0)}),void 0)]},void 0)]}),void 0)}),void 0)},ah=(0,p.memo)(ih);function oh(){return oh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oh.apply(this,arguments)}var sh,uh=function(e,t){return p.createElement("svg",oh({width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),zl||(zl=p.createElement("g",{opacity:.8},p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 16C0 7.16344 7.16344 0 16 0C24.8366 0 32 7.16344 32 16C32 24.8366 24.8366 32 16 32C7.16344 32 0 24.8366 0 16ZM21.5303 10.4697C21.8232 10.7626 21.8232 11.2374 21.5303 11.5303L17.0607 16L21.5303 20.4697C21.8232 20.7626 21.8232 21.2374 21.5303 21.5303C21.2374 21.8232 20.7626 21.8232 20.4697 21.5303L16 17.0607L11.5303 21.5303C11.2374 21.8232 10.7626 21.8232 10.4697 21.5303C10.1768 21.2374 10.1768 20.7626 10.4697 20.4697L14.9393 16L10.4697 11.5303C10.1768 11.2374 10.1768 10.7626 10.4697 10.4697C10.7626 10.1768 11.2374 10.1768 11.5303 10.4697L16 14.9393L20.4697 10.4697C20.7626 10.1768 21.2374 10.1768 21.5303 10.4697Z",fill:"currentColor"}))))},ch=(0,p.forwardRef)(uh),lh=(0,p.memo)(ch);function hh(){return hh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hh.apply(this,arguments)}var dh=function(e,t){return p.createElement("svg",hh({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t},e),sh||(sh=p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.416 19.563C2.27894 19.6947 2.16953 19.8524 2.09419 20.0269C2.01884 20.2015 1.97907 20.3893 1.9772 20.5793C1.97533 20.7694 2.0114 20.9579 2.0833 21.1339C2.1552 21.3099 2.26148 21.4697 2.39592 21.6041C2.53036 21.7385 2.69027 21.8447 2.86626 21.9165C3.04226 21.9883 3.23082 22.0243 3.42089 22.0223C3.61097 22.0203 3.79874 21.9805 3.97322 21.905C4.14769 21.8296 4.30536 21.7201 4.437 21.583L2.417 19.563H2.416ZM21.584 4.437C21.843 4.1672 21.9859 3.8066 21.982 3.43262C21.9782 3.05864 21.8279 2.70108 21.5633 2.43668C21.2988 2.17229 20.9412 2.02214 20.5672 2.01846C20.1932 2.01478 19.8327 2.15786 19.563 2.417L21.583 4.437H21.584ZM9.979 12L2.416 4.437C2.27894 4.3053 2.16953 4.14757 2.09419 3.97305C2.01884 3.79854 1.97907 3.61075 1.9772 3.42067C1.97533 3.2306 2.0114 3.04206 2.0833 2.8661C2.1552 2.69014 2.26148 2.53029 2.39592 2.39591C2.53036 2.26153 2.69027 2.15533 2.86626 2.08352C3.04226 2.0117 3.23082 1.97573 3.42089 1.97769C3.61097 1.97966 3.79874 2.01952 3.97322 2.09496C4.14769 2.17039 4.30536 2.27987 4.437 2.417L12 9.978L19.563 2.415L21.583 4.436L14.022 12L21.585 19.563C21.844 19.8328 21.9869 20.1934 21.983 20.5674C21.9792 20.9414 21.8289 21.2989 21.5643 21.5633C21.2998 21.8277 20.9422 21.9779 20.5682 21.9815C20.1942 21.9852 19.8337 21.8421 19.564 21.583L12 14.022L4.437 21.585L2.417 19.564L9.978 12H9.979Z",fill:"currentColor"})))},fh=(0,p.forwardRef)(dh),mh=(0,p.memo)(fh),ph=function(e){var t=(0,Sl.S)(),n=(0,_l.q)(),r=(0,Tl.Y)();return(0,ml.jsx)("button",Z()({type:"button","aria-label":r.translate("common.closeButtonAriaLabel"),className:n("modal-close"),onClick:e.onClick,"data-qa":"global-close","data-tracking-element-name":"closeButton"},{children:t?(0,ml.jsx)("span",Z()({className:"icon-slot icon-slot-28 d-block"},{children:(0,ml.jsx)("span",Z()({className:"p-abs centered"},{children:(0,ml.jsx)(mh,{className:"icon-fill d-block","aria-hidden":"true"},void 0)}),void 0)}),void 0):(0,ml.jsx)(lh,{"aria-hidden":"true"},void 0)}),void 0)},vh=(0,p.memo)(ph),yh=["button","input","select","textarea","iframe","object","embed","a","[tabindex]","[href]","[contenteditable]"].join(", "),gh=n(9358);var kh,Ph=n(98466),Sh=[Wl.A.HOVER],Eh=[Wl.A.CLICK],Dh=function(e){var t=(0,Tl.Y)(),n=(0,Sl.S)(),r=(0,_l.q)(),i=(0,p.useRef)(null),a=(0,Al.r)(i);return(0,ml.jsx)(kl.Z,Z()({nodeRef:i,in:e.show,classNames:(0,gl.Z)("slide-up"),unmountOnExit:!0,mountOnEnter:!0,addEndListener:a},{children:(0,ml.jsxs)(ml.Fragment,{children:[(0,ml.jsx)(jl.N,Z()({triggerRef:i,trigger:n?Eh:Sh,placement:"bottom",offset:n?void 0:-13,maxWidth:"266px"},{children:(0,ml.jsx)("div",Z()({"aria-live":i?"polite":"off"},{children:t.translate("common.tributeBadge.popoverText")}),void 0)}),void 0),(0,ml.jsxs)("div",Z()({ref:i,className:(0,gl.Z)({"no-animation":n},r("tribute-badge")),"data-qa":"tribute-badge","data-tracking-element-name":"tributeBadge"},{children:[(0,ml.jsx)("p",Z()({className:"text-truncate"},{children:t.translate("common.tributeBadge.labelText")}),void 0),(0,ml.jsx)("p",Z()({className:"font-weight-500 text-truncate"},{children:e.name}),void 0)]}),void 0)]},void 0)}),void 0)},bh=n(18972),wh=function(e){var t,n=e.children,r=e.currentScreen,i=(0,bh.g)(),a=(0,_l.q)(),o=Nl(),s=Cl(),u=o.tribute,c=u.isEnabled&&u.isActive&&!!u.name&&!st()(t=s.screensWithoutTributeBadge).call(t,r)&&!i;return(0,ml.jsxs)(ml.Fragment,{children:[(0,ml.jsx)(Dh,{name:u.name,show:c},void 0),(0,ml.jsx)("div",Z()({className:a("flow")},{children:n}),void 0)]},void 0)},Ah=(0,p.forwardRef)((function(e,t){var n=e.children,r=e.hide,i=e.className,a=(0,_l.q)();return(0,ml.jsx)("div",Z()({className:(0,gl.Z)(a("flow-slide"),i,{"flow-slide-hidden":r}),ref:t},{children:n}),void 0)})),Ch=function(e){var t=e.alwaysMount,n=e.show,r=e.Screen,i=e.screenDirection,a=e.animationDisabled,o=e.onScreenEntered,s=(0,p.useRef)(null),u=(0,p.useState)(!n),c=(0,tt.Z)(u,2),l=c[0],h=c[1],d=!n&&l,f=(0,p.useCallback)((function(){h(!1)}),[]),m=(0,p.useCallback)((function(){o()}),[o]),v=(0,p.useCallback)((function(){h(!0)}),[]),y=(0,Al.r)(s);return(0,ml.jsx)(kl.Z,Z()({in:n,classNames:i,addEndListener:y,onEnter:f,onEntered:m,onExited:v,nodeRef:s,mountOnEnter:!t,unmountOnExit:!t},{children:function(e){return(0,ml.jsx)(Ah,Z()({hide:d,ref:s,className:a?"no-animation":""},{children:(0,ml.jsx)(p.Suspense,Z()({fallback:(0,ml.jsx)("span",{},void 0)},{children:(0,ml.jsx)(r,{transitionEntered:"entered"===e},void 0)}),void 0)}),void 0)}}),void 0)};!function(e){e.NEXT="next",e.PREVIOUS="previous"}(kh||(kh={}));var Nh=function(){var e,t=(0,Sl.S)(),n=(0,bh.g)(),r=(0,wl.ix)(),i=(0,Ul.r)(),a=(0,p.useState)("next"),o=(0,tt.Z)(a,2),s=o[0],u=o[1],c=(0,p.useState)(r.getCurrentFlow("RawFlow.useState").getCurrentScreen().name),l=(0,tt.Z)(c,2),h=l[0],d=l[1],f=(0,p.useState)(!0),m=(0,tt.Z)(f,2),v=m[0],y=m[1],g=(0,p.useState)((0,Un.Z)(r.checkoutService.alwaysRenderedScreens)),k=(0,tt.Z)(g,2),P=k[0],S=k[1],D=(0,p.useState)(),b=(0,tt.Z)(D,2),w=b[0],A=b[1],C=(0,p.useCallback)((function(e){i&&r.checkoutService.trackCheckoutScreenView(r.getCurrentFlow("RawFlow.trackScreenView").getCurrentScreen().name,e)}),[r,i]);(0,p.useEffect)((function(){i&&C()}),[C,i]),(0,p.useEffect)((function(){return r.onScreenChanged((function(e){var t=r.getCurrentFlow("RawFlow.onScreenChanged").getCurrentScreen().name;h!==t&&(A(e.createdAt),y(!1),u((null==e?void 0:e.direction)===Ui.l.BACKWARD?"previous":"next"),d(t),S((function(e){var t=r.checkoutService.alwaysRenderedScreens;return e.length!==t.length||E()(t).call(t,(function(t){return!st()(e).call(e,t)}))?(0,Un.Z)(t):e})))}))}),[h,r]),(0,p.useEffect)((function(){var e=r.flowType;bn(e);var t=r.onFlowChanged((function(e){bn(e)}));return t}),[r]);var N=(0,p.useCallback)((function(){w&&(y(!0),C(w))}),[C,w]);return(0,ml.jsx)(wh,Z()({currentScreen:h},{children:(0,ml.jsxs)(Ph.z.Provider,Z()({value:v},{children:[B()(e=si()(En)).call(e,(function(e){var r=(0,tt.Z)(e,2),i=r[0],a=r[1];return!st()(P).call(P,i)&&(0,ml.jsx)(Ch,{show:i===h,screenDirection:s,Screen:a,alwaysMount:!1,animationDisabled:t||n,onScreenEntered:N},i)})),B()(P).call(P,(function(e){return(0,ml.jsx)(Ch,{show:e===h,Screen:En[e],screenDirection:s,alwaysMount:!0,animationDisabled:t||n,onScreenEntered:N},e)}))]}),void 0)}),void 0)},Oh=(0,p.memo)(Nh),_h=n(50496),Th=n(1834);var Rh={enter:400,exit:200},Ih=function(){var e;!function(){var e=(0,Tl.Y)(),t=(0,wl.ix)(),n=(0,p.useState)((function(){return t.getCurrentFlow("usePreventClosing.useState").getCurrentScreen().name})),r=(0,tt.Z)(n,2),i=r[0],a=r[1];(0,p.useEffect)((function(){return t.onScreenChanged((function(){a(t.getCurrentFlow("usePreventClosing.onScreenChanged").getCurrentScreen().name)}))}),[t,i]);var o=(0,p.useCallback)((function(t){var n=e.translate("closeTabDialog.text");if(!function(e){var t;return E()(t=Tc.unrestrictedExitScreens).call(t,(function(t){return t===e}))}(i))return(t||window.event).returnValue=n,n}),[e,i]);(0,p.useEffect)((function(){window.addEventListener("beforeunload",o);var e=function(){return window.removeEventListener("beforeunload",o)};return t.checkoutService.setRemoveCloseGuard(e),e}),[t.checkoutService,o])}();var t=function(){var e=(0,bl.n)(),t=Nl();return!e.infrastructureParams.showcase&&(!e.infrastructureParams.isMobile||t.showCloseButton)}(),n=function(){var e=(0,wl.ix)(),t=(0,bl.n)(),n=t.infrastructureParams.isMobile,r=t.infrastructureParams.showcase,i=(0,p.useState)((function(){return!r})),a=(0,tt.Z)(i,2),o=a[0],s=a[1],u=function(e,t,n){var r,i=e.getCurrentFlow("useShouldShowFaqLinks.onScreenChanged").getCurrentScreen().name,a=!st()(r=e.checkoutService.mobileScreensWithoutFaqLinks).call(r,i),o=e.checkoutService.showFAQLinks;s(t?o&&a:o)};return(0,p.useEffect)((function(){if(!r){var t=e.onScreenChanged((function(){u(e,n)}));return u(e,n),t}}),[e,n,r]),o}(),r=(0,Pl.R)(),a=(0,Sl.S)(),o=(0,bh.g)(),s=(0,_l.q)(),u=function(){var e=this,t=(0,Sl.S)(),n=(0,p.useState)(!1),r=(0,tt.Z)(n,2),i=r[0],a=r[1],o=(0,p.useState)(!1),s=(0,tt.Z)(o,2),u=s[0],c=s[1],l=(0,gh.DD)(),h=(0,p.useState)(!1),d=(0,tt.Z)(h,2),v=d[0],y=d[1],g=(0,wl.ix)(),k=(0,p.useCallback)((function(){return(0,m.mG)(e,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g.canClose(t)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,g.checkoutService.saveCheckoutClosePublicParams();case 5:c(!1);case 6:case"end":return e.stop()}}),e)})))}),[g,t]);(0,p.useEffect)((function(){var t=function(){return c(!0)},n=function(t){return(0,m.mG)(e,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(t.shouldReopen||!1),e.next=3,k();case 3:case"end":return e.stop()}}),e)})))};return l.on(gh.fC.SHOULD_SHOW,t),l.on(gh.fC.SHOULD_HIDE,n),function(){l.removeListener(gh.fC.SHOULD_SHOW,t),l.removeListener(gh.fC.SHOULD_HIDE,n)}}),[k,l]);var P=(0,p.useCallback)((function(){g.checkoutService.trackCheckoutClose(g.getCurrentFlow("useShow.handleCloseTransitionExited").getCurrentScreen().name),l.emit(gh.fC.WAS_HIDDEN,{shouldReopen:i})}),[l,g,i]),S=(0,p.useCallback)((function(){y(!0),g.checkoutService.trackCheckoutView()}),[g]);return function(e){var t=e.close,n=(0,Pl.R)(),r=(0,wl.ix)();(0,p.useEffect)((function(){var e=n.parent;Zc(n)||(e.history.pushState({state:"loop"},""),e.history.pushState({state:"initState"},""));var i=function(i){var a;if(i.target===e&&!Zc(n)){var o=i.state&&i.state.state||i.state;if(st()(a=["loop","initState"]).call(a,o)){var s=r.getCurrentFlow("useHistoryListener.handlePopState"),u=s.getCurrentScreen().name===dn.nn.THANK_YOU;"loop"!==o||u||e.history.pushState({state:"initState"},""),s.isCurrentScreenFirst()||s.isCurrentScreenLast()||u?t():r.checkoutService.canGoBack&&s.prev()}}};return e.addEventListener("popstate",i),function(){return e.removeEventListener("popstate",i)}}),[n,r,t])}({close:k}),{show:u,entered:v,handleOpenTransitionEntered:S,handleCloseTransitionExited:P,handleCloseClick:k}}(),c=u.show,l=u.entered,h=u.handleOpenTransitionEntered,d=u.handleCloseClick,v=u.handleCloseTransitionExited,y=(0,p.useRef)(null),g=(0,p.useRef)(null),k=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,p.useState)(),r=(0,tt.Z)(n,2),a=r[0],o=r[1],s=(0,p.useRef)(null),u=(0,p.useRef)(null),c=(0,p.useCallback)((function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!s.current)throw new Error("Trap start element ref was not passed");if(!u.current)throw new Error("Trap stop element ref was not passed");if(!e.current)throw new Error("Root element ref was not passed");var n=e.current.querySelectorAll(yh),r=i()([]).call(n);r=he()(r).call(r,(function(e){return e!==s.current&&e!==u.current})),t&&(r=ol()(r).call(r)),r.length&&r[0].focus()}),[e]),l=(0,p.useCallback)((function(e){if(!t){if(!s.current)throw new Error("Trap start element ref was not passed");if(!u.current)throw new Error("Trap stop element ref was not passed");e.target===s.current&&c(a!==u.current),e.target===u.current&&c(a===s.current)}}),[c,a,t]),h=(0,p.useCallback)((function(e){t||o(e.target)}),[t]);return{trapStartRef:s,trapStopRef:u,handleFocus:l,handleBlur:h}}(y,a),P=k.handleBlur,S=k.handleFocus,D=k.trapStartRef,b=k.trapStopRef,w=(0,bl.n)(),A=(0,wl.ix)(),C=w.getAskPageConfig(),N=C.show||!!w.fundraisingPage,O=(0,p.useState)(N),_=(0,tt.Z)(O,2),T=_[0],R=_[1],I=null===(e=w.showcase)||void 0===e?void 0:e.isAskPageTab,x=w.infrastructureParams.livemode,L=C.showLinks;return(0,p.useEffect)((function(){var e=function(e){e.code===Th.G.ESC&&d()};return r.document.addEventListener("keyup",e),function(){return r.document.removeEventListener("keyup",e)}}),[d,r.document]),(0,p.useEffect)((function(){var e=A.onScreenChanged((function(){var e,t=A.getCurrentFlow("Wrapper.onScreenChanged").getCurrentScreen().name,n=!st()(e=A.checkoutService.mobileScreensWithoutAskPage).call(e,t);R(a?n&&N:N)}));return e}),[A,a,N]),(0,ml.jsx)(ml.Fragment,{children:(0,ml.jsx)(Ul.s.Provider,Z()({value:l},{children:(0,ml.jsx)(kl.Z,Z()({in:c,timeout:Rh,classNames:a||o?{}:"modal",nodeRef:y,onEntered:h,onExited:v,unmountOnExit:!0},{children:(0,ml.jsx)("div",Z()({className:(0,gl.Z)(T?"has-campaign":"no-campaign",s("modal")),ref:y,onFocus:S,onBlur:P},{children:(0,ml.jsxs)(_h.Og.Provider,Z()({value:y},{children:[(0,ml.jsx)("span",{ref:D,tabIndex:0,"aria-hidden":!0},void 0),t&&(0,ml.jsx)(vh,{onClick:d},void 0),(0,ml.jsx)("div",Z()({className:s("modal-dialog")},{children:(0,ml.jsx)("div",Z()({className:(0,gl.Z)(s("modal-content"),{"pb-10":!x&&!a&&!o,"my-0":o})},{children:(0,ml.jsxs)("div",Z()({className:(0,gl.Z)(s("widget"),{"my-0":o,"pb-10":!x&&a})},{children:[(0,ml.jsxs)("div",Z()({className:s("widget-main")},{children:[o&&I?(0,ml.jsx)("div",Z()({className:s("widget-campaign"),style:{display:"block"},"data-testid":"campaign"},{children:(0,ml.jsxs)(ml.Fragment,{children:[T&&(0,ml.jsx)(ql,{},void 0),(0,ml.jsxs)("div",Z()({className:"p-abs top-left bottom-right z-index-1"},{children:[!T&&(0,ml.jsx)("div",{className:"p-abs border-radius-16",style:{top:0,left:"12px",width:"468px",height:"580px",border:"2px dashed #fff"}},void 0),(0,ml.jsx)("div",{className:"p-abs border-left-radius-16",style:{top:0,right:0,width:"20px",height:"580px",background:"#f5f5f7"}},void 0)]}),void 0)]},void 0)}),void 0):T&&(0,ml.jsx)("div",Z()({className:s("widget-campaign"),"data-testid":"campaign"},{children:(0,ml.jsx)(ql,{},void 0)}),void 0),(0,ml.jsx)("div",Z()({className:s("widget-form"),style:{display:o&&I?"none":""},ref:g},{children:(0,ml.jsx)(_h.pG.Provider,Z()({value:g},{children:(0,ml.jsx)(Oh,{},void 0)}),void 0)}),void 0)]}),void 0),n&&(0,ml.jsxs)("div",Z()({className:s("widget-aside")},{children:[(0,ml.jsx)(ah,{showAskPage:T},void 0),a&&T&&L&&(0,ml.jsx)("div",Z()({className:"fixed-container"},{children:(0,ml.jsx)(xl,{links:C.links},void 0)}),void 0)]}),void 0)]}),void 0)}),void 0)}),void 0),(0,ml.jsx)("span",{ref:b,tabIndex:0,"aria-hidden":!0},void 0)]}),void 0)}),void 0)}),void 0)}),void 0)},void 0)},xh=(0,p.createContext)(null),Zh=n(83830),Lh=n(38002),Mh=function(e){var t=e.onMounted;return(0,p.useEffect)((function(){t()}),[t]),(0,ml.jsx)(p.StrictMode,{children:(0,ml.jsx)(vl.E.Provider,Z()({value:e.sentry},{children:(0,ml.jsx)(yl,Z()({fallback:(0,ml.jsx)("div",{children:"fallback content"},void 0)},{children:(0,ml.jsx)(Pl.E.Provider,Z()({value:e.iframeWindow},{children:(0,ml.jsx)(wl.Sb.Provider,Z()({value:e.flowManager},{children:(0,ml.jsx)(bl.D.Provider,Z()({value:e.resolvedCheckoutData},{children:(0,ml.jsx)(gh.RA.Provider,Z()({value:e.viewEventEmitter},{children:(0,ml.jsx)(Lh.f.Provider,Z()({value:e.intl},{children:(0,ml.jsx)(Zh.f.Provider,Z()({value:e.tracker},{children:(0,ml.jsx)(xh.Provider,Z()({value:e.experiments},{children:(0,ml.jsx)(Dl.X.Provider,Z()({value:e.currencyService},{children:(0,ml.jsx)(Sl.E.Provider,Z()({value:e.isMobile},{children:(0,ml.jsx)(Ih,{},void 0)}),void 0)}),void 0)}),void 0)}),void 0)}),void 0)}),void 0)}),void 0)}),void 0)}),void 0)}),void 0)}),void 0)},void 0)},Fh=function(){function e(t,n,r,i,a,o){(0,k.Z)(this,e),this.container=t,this.iframe=n,this.eventEmitter=r,this.sentry=i,this.debug=a,this.checkoutCore=o,this.renderKey=(0,Ge.G)()}return(0,P.Z)(e,[{key:"iframeNode",get:function(){return this.iframe.iframeNode}},{key:"targetWindow",get:function(){var e=this.iframe.iframeWindow;if(!e)throw new Error("No window in iframe");return e}},{key:"open",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null==e?void 0:e.preloadFirstScreen)){t.next=3;break}return t.next=3,this.preloadFirstScreen();case 3:return t.next=5,this.render();case 5:this.iframe.showDocument(),this.iframe.open(),this.show();case 8:case"end":return t.stop()}}),t,this)})))}},{key:"close",value:function(){this.iframe.close(),this.unmount(),this.iframe.destroy(),this.eventEmitter.removeAllListeners()}},{key:"onHide",value:function(e){return this.eventEmitter.on(gh.fC.WAS_HIDDEN,e),this}},{key:"render",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){var t=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new(Nt())((function(e,n){try{pl.render((0,ml.jsx)(Mh,{onMounted:function(){return t.logCheckoutOpeningTime(),e()},viewEventEmitter:t.eventEmitter,flowManager:t.checkoutCore.flowManager,intl:t.checkoutCore.intl,sentry:t.sentry,tracker:t.checkoutCore.trackerCheckout,experiments:t.checkoutCore.experiments,iframeWindow:t.targetWindow,isMobile:t.checkoutCore.resolvedCheckoutData.infrastructureParams.isMobile,currencyService:t.checkoutCore.currencyService,resolvedCheckoutData:t.checkoutCore.resolvedCheckoutData},t.renderKey),t.container)}catch(e){n(e)}})));case 1:case"end":return e.stop()}}),e)})))}},{key:"show",value:function(){this.eventEmitter.emit(gh.fC.SHOULD_SHOW)}},{key:"unmount",value:function(){pl.unmountComponentAtNode(this.container)?this.debug.log("Checkout UI (React) is unmounted"):this.debug.log("Nothing to unmount")}},{key:"regenerateKey",value:function(){return this.renderKey=(0,Ge.G)(),this.renderKey}},{key:"logCheckoutOpeningTime",value:function(){var e=V()()-this.checkoutCore.trackerCheckout.checkoutOpenTimestamp;this.debug.log("checkout opening time:onMounted","".concat(e," ms"))}},{key:"preloadFirstScreen",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,An(this.checkoutCore.flowManager.flowType,this.checkoutCore.flowManager.getCurrentFlow("renderCheckout.preloadFirstScreen").getCurrentScreen().name,this.sentry);case 2:case"end":return e.stop()}}),e,this)})))}}]),e}();function Uh(e,t){void 0!==t&&function(n){var r,i;function a(){i||(i=!0,n())}rt()(r=["interactive","complete"]).call(r,t.readyState)>=0?n():(i=!1,t.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))}((function(){var n=!0,r=!1,i=null,a={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function o(e){return!!(e&&e!==t&&"HTML"!==e.nodeName&&"BODY"!==e.nodeName&&"classList"in e&&"contains"in e.classList)}function s(e){e.classList.contains("focus-visible")||(e.classList.add("focus-visible"),e.setAttribute("data-focus-visible-added",""))}function u(e){n=!1}function c(){t.addEventListener("mousemove",l),t.addEventListener("mousedown",l),t.addEventListener("mouseup",l),t.addEventListener("pointermove",l),t.addEventListener("pointerdown",l),t.addEventListener("pointerup",l),t.addEventListener("touchmove",l),t.addEventListener("touchstart",l),t.addEventListener("touchend",l)}function l(e){"html"!==e.target.nodeName.toLowerCase()&&(n=!1,t.removeEventListener("mousemove",l),t.removeEventListener("mousedown",l),t.removeEventListener("mouseup",l),t.removeEventListener("pointermove",l),t.removeEventListener("pointerdown",l),t.removeEventListener("pointerup",l),t.removeEventListener("touchmove",l),t.removeEventListener("touchstart",l),t.removeEventListener("touchend",l))}t.addEventListener("keydown",(function(e){o(t.activeElement)&&s(t.activeElement),n=!0}),!0),t.addEventListener("mousedown",u,!0),t.addEventListener("pointerdown",u,!0),t.addEventListener("touchstart",u,!0),t.addEventListener("focus",(function(e){var t,r,i;o(e.target)&&(n||(r=(t=e.target).type,"INPUT"==(i=t.tagName)&&a[r]&&!t.readOnly||"TEXTAREA"==i&&!t.readOnly||t.isContentEditable))&&s(e.target)}),!0),t.addEventListener("blur",(function(t){var n;o(t.target)&&(t.target.classList.contains("focus-visible")||t.target.hasAttribute("data-focus-visible-added"))&&(r=!0,e.clearTimeout(i),i=q()((function(){r=!1,e.clearTimeout(i)}),100),(n=t.target).hasAttribute("data-focus-visible-added")&&(n.classList.remove("focus-visible"),n.removeAttribute("data-focus-visible-added")))}),!0),t.addEventListener("visibilitychange",(function(e){"hidden"==t.visibilityState&&(r&&(n=!0),c())}),!0),c(),t.body.classList.add("js-focus-visible")}))}var Bh=function(){function e(t){(0,k.Z)(this,e),this.onLoadHandlers=[],this.ready=!1,this.node=t.node,this.overrideTemplate=t.overrideTemplate,this.fonts=t.fonts||"",this.styles=t.styles||"",this.id=t.id||"",this.title=t.title,this.initialize=t.initialize,this.scripts=t.scripts||[],this.metaTags=t.metaTags||[],this.isMobile=t.isMobile||!1,this.env=t.env,this.iframe=document.createElement("iframe"),this.addEventListeners(),t.initialStyles&&this.setStyles(t.initialStyles),this.setIframeAttributes()}return(0,P.Z)(e,[{key:"resize",value:function(t){if(t.height){var n=e.getSizeInCssUnit(t.height),r=t.minHeight?e.getSizeInCssUnit(t.minHeight):n,i=t.maxHeight?e.getSizeInCssUnit(t.maxHeight):n;this.iframe.setAttribute("height",n),this.iframe.style.setProperty("height",n,"important"),this.iframe.style.setProperty("min-height",r,"important"),this.iframe.style.setProperty("max-height",i,"important")}if(t.width){var a=e.getSizeInCssUnit(t.width),o=t.minWidth?e.getSizeInCssUnit(t.minWidth):a,s=t.maxWidth?e.getSizeInCssUnit(t.maxWidth):a;this.iframe.setAttribute("width",a),this.iframe.style.setProperty("width",a,"important"),this.iframe.style.setProperty("min-width",o,"important"),this.iframe.style.setProperty("max-width",s,"important")}}},{key:"showDocument",value:function(){e.isContentDocumentAvailable(this.iframe.contentDocument)&&this.iframe.contentDocument.body.setAttribute("style","")}},{key:"setStyles",value:function(e){var t=this;b()(e).call(e,(function(e){var n=(0,tt.Z)(e,2),r=n[0],i=n[1];t.iframe.style.setProperty(r,String(i),"important")}))}},{key:"removeStyles",value:function(t){var n=this;e.isContentDocumentAvailable(this.iframe.contentDocument)&&b()(t).call(t,(function(e){n.iframe.style.removeProperty(e)}))}},{key:"appendElement",value:function(t){e.isContentDocumentAvailable(this.iframe.contentDocument)&&(Uh(this.iframe.contentWindow,this.iframe.contentDocument),this.iframe.contentDocument.body.appendChild(t))}},{key:"addOnLoadHandler",value:function(e){if(this.ready)return e();this.onLoadHandlers.push(e)}},{key:"addDocumentEventListener",value:function(t,n){e.isContentDocumentAvailable(this.iframe.contentDocument)&&this.iframe.contentDocument.addEventListener(t,n)}},{key:"removeDocumentEventListener",value:function(t,n){e.isContentDocumentAvailable(this.iframe.contentDocument)&&this.iframe.contentDocument.removeEventListener(t,n)}},{key:"findElement",value:function(t){return e.isContentDocumentAvailable(this.iframe.contentDocument)?this.iframe.contentDocument.querySelector(t):null}},{key:"matchMedia",value:function(t){return e.isContentWindowAvailable(this.iframe.contentWindow)?this.iframe.contentWindow.matchMedia(t):null}},{key:"iframeNode",get:function(){return this.iframe}},{key:"setGlobalData",value:function(t){if(e.isContentWindowAvailable(this.iframe.contentWindow)){for(var n=0,r=si()(t);n<r.length;n++){var i=(0,tt.Z)(r[n],2),a=i[0],o=i[1];this.iframe.contentWindow[a]=o}return!0}return!1}},{key:"iframeWindow",get:function(){return this.iframe.contentWindow}},{key:"iframeDocument",get:function(){return this.iframe.contentDocument}},{key:"setIframeAttributes",value:function(){this.iframe.setAttribute("title",this.title),this.iframe.setAttribute("src","about:blank"),this.iframe.setAttribute("frameborder","0"),this.iframe.setAttribute("marginheight","0"),this.iframe.setAttribute("marginwidth","0"),this.iframe.setAttribute("width","1"),this.iframe.setAttribute("height","1"),this.id&&this.iframe.setAttribute("id",this.id)}},{key:"addEventListeners",value:function(){var e=this;this.iframe.addEventListener("load",(function(){var t;e.initialize&&e.iframe.contentWindow&&e.iframe.contentDocument&&e.initialize(e.iframe.contentWindow,e.iframe.contentDocument),e.ready=!0,b()(t=e.onLoadHandlers).call(t,(function(e){return e()}))}))}},{key:"getIframeTemplate",value:function(){var e,t,n,r,i,a,o=function(e){var t;return B()(t=bt()(e)).call(t,(function(t){var n;return H()(n="".concat(t,'="')).call(n,e[t],'"')})).join(" ")},s=B()(e=this.scripts).call(e,(function(e){return"<script ".concat(o(e),"><\/script>")})).join(""),u=B()(t=this.metaTags).call(t,(function(e){return"<meta ".concat(o(e),">")})).join("");return this.overrideTemplate?this.overrideTemplate({title:this.title,styles:this.styles,fonts:this.fonts,scripts:s,metaTags:u,isMobile:this.isMobile}):H()(n=H()(r=H()(i=H()(a='\n      <!DOCTYPE html>\n      <html style="overflow: hidden;" lang="en">\n          <head>\n              <meta charset="utf-8">\n              <meta http-equiv="X-UA-Compatible" content="IE=edge">\n              '.concat(u,"\n              <title>")).call(a,this.title,"</title>\n              <style>")).call(i,this.styles,"</style>\n              <style>")).call(r,this.fonts,"</style>\n              ")).call(n,s,'\n          </head>\n          <body style="opacity: 0;"></body>\n      </html>\n    ')}}],[{key:"isContentDocumentAvailable",value:function(e){return!!e||(console.warn("ContentDocument is not available"),!1)}},{key:"isContentWindowAvailable",value:function(e){return!!e||(console.warn("ContentWindow is not available"),!1)}},{key:"getSizeInCssUnit",value:function(e){var t=String(e);return/^\d+$/.test(t)?"".concat(t,"px"):t}}]),e}();var Gh,Hh,Kh,Vh,Yh,qh,Wh,jh,Xh,zh,Qh,Jh,$h,ed,td,nd,rd,id,ad,od,sd,ud,cd,ld,hd,dd,fd,md,pd,vd,yd,gd,kd,Pd,Sd,Ed,Dd,bd,wd,Ad,Cd,Nd,Od,_d=function(e){(0,se.Z)(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,ce.Z)(t);if(n){var i=(0,ce.Z)(this).constructor;e=oe()(r,arguments,i)}else e=r.apply(this,arguments);return(0,ue.Z)(this,e)});function i(e,t){var n;return(0,k.Z)(this,i),(n=r.call(this,e)).htmlElementStyleManager=t,n.render(),n}return(0,P.Z)(i,[{key:"isIE11",get:function(){return tn()}},{key:"render",value:function(){var e=document.documentElement;this.isIE11&&(e=document.body),this.env!==y.CB.PRODUCTION&&this.env!==y.CB.STAGING&&(e=document.body),this.isMobile?(this.containerDiv=document.createElement("div"),this.overlay=document.createElement("div"),this.overlay.setAttribute("id","fun-mobile-overlay-container"),this.containerDiv.setAttribute("id","fun-iframe-container"),this.containerDiv.appendChild(this.iframe),e.appendChild(this.overlay),e.appendChild(this.containerDiv)):this.node?(this.htmlElementStyleManager.setStyle("border: 0 !important; height: 612px !important; width: 100% !important; margin: 0 auto !important; padding: 0 !important; border-radius: 0 !important; display: block !important;",this.iframe),this.node.appendChild(this.iframe)):e.appendChild(this.iframe),this.setParentViewPort(),Bh.isContentWindowAvailable(this.iframe.contentWindow)&&(this.iframe.contentWindow.document.open("text/html","replace"),this.iframe.contentWindow.document.write(this.getIframeTemplate()),Uh(this.iframe.contentWindow,this.iframe.contentWindow.document),this.iframe.contentWindow.document.close())}},{key:"open",value:function(){this.htmlElementStyleManager.saveOriginalStyles(document.documentElement),this.htmlElementStyleManager.saveOriginalStyles(document.body),this.node||(this.isMobile&&this.containerDiv&&this.overlay&&(this.htmlElementStyleManager.setStyle("display: block !important;margin: 0 !important;padding: 0 !important;float: none !important;visibility: visible !important;opacity: 1 !important;position: absolute !important;width: 100% !important;height: 100% !important;top: 0 !important; left: 0 !important; right: 0 !important; bottom: 0 !important; background: #f5f5f5 !important;z-index: 2147483647 !important;"+(this.isIE11?"":"transform: translateZ(100px) !important;"),this.containerDiv),this.htmlElementStyleManager.setStyle("position: fixed !important;top: 0 !important;left: 0 !important;right: 0 !important;bottom: 0 !important;margin: 0 !important;padding: 0 !important;background: #f5f5f5 !important;z-index: 2147483646 !important;"+(this.isIE11?"":"transform: translateZ(99px) !important;"),this.overlay)),this.htmlElementStyleManager.setStyle(this.isMobile?"display: block !important;border: none !important;margin: 0 !important;padding: 0 !important;width: 100% !important;height: 100% !important;":function(e){return"display: block !important;margin: 0 !important;padding: 0 !important;border: 0 !important; width: 100% !important; height: 100% !important; position: fixed !important; opacity: 1 !important; top: 0 !important; left: 0 !important; right: 0 !important; bottom: 0 !important; "+(e?"":"transform: translateZ(100px) !important;")+"z-index: 2147483647 !important;"}(this.isIE11),this.iframe),this.resize({width:"100%",height:"100%"}),this.node||(this.htmlElementStyleManager.appendStyle(this.isMobile?"all: initial !important;position: static !important;margin: 0 !important;padding: 0 !important;min-height: 0 !important;min-width: 0 !important;width: auto !important;height: 100% !important;-webkit-overflow-scrolling: auto !important;":"overflow: hidden !important;",document.documentElement),this.htmlElementStyleManager.appendStyle(this.isMobile?"all: initial !important;overflow: auto !important;position: static !important;display: block !important;min-height: 0 !important;min-width: 0 !important;height: 100% !important;width: auto !important;margin: 0 !important;padding: 0 !important;-webkit-overflow-scrolling: auto !important;":"padding-right: 0 !important;",document.body)),this.setGlobalStyles())}},{key:"close",value:function(){this.htmlElementStyleManager.setStyle("border: 0 !important; width: 1px !important; height: 1px !important; position: fixed !important; opacity: 0 !important;",this.iframe),this.removeGlobalStyles(),this.htmlElementStyleManager.restoreOriginalStyles(document.documentElement),this.htmlElementStyleManager.restoreOriginalStyles(document.body),this.restoreParentViewPort()}},{key:"destroy",value:function(){this.iframe.remove(),this.containerDiv&&(this.containerDiv.remove(),this.containerDiv=void 0),this.overlay&&(this.overlay.remove(),this.overlay=void 0)}},{key:"setParentViewPort",value:function(){if(!this.node){this.viewport=i.getViewport("width=device-width, initial-scale=1, shrink-to-fit=no");var e=this.viewport,t=document.querySelector("meta[name=viewport]");t?(this.parentViewport=t,this.parentViewport.remove()):this.parentViewport=i.getViewport(""),document.head.appendChild(e)}}},{key:"restoreParentViewPort",value:function(){this.node||(this.viewport&&(this.viewport.remove(),this.viewport=void 0),this.parentViewport&&(document.head.appendChild(this.parentViewport),this.parentViewport=void 0))}},{key:"setGlobalStyles",value:function(){if(this.isMobile){this.headStyle=document.createElement("style");var e=this.headStyle;e.appendChild(document.createTextNode("body > *:not(#fun-iframe-container){ position: fixed !important; }")),document.head.appendChild(e)}}},{key:"removeGlobalStyles",value:function(){this.headStyle&&this.headStyle.remove()}},{key:"setIframeAttributes",value:function(){(0,et.Z)((0,ce.Z)(i.prototype),"setIframeAttributes",this).call(this),this.iframe.setAttribute("allowpaymentrequest","true"),this.iframe.setAttribute("allow","payment"),Zc(window)&&this.iframe.setAttribute("src",location.origin)}}],[{key:"getViewport",value:function(e){var t=document.createElement("meta");return t.setAttribute("name","viewport"),t.setAttribute("content",e),t}}]),i}(Bh),Td=H()(Gh=H()(Hh=H()(Kh=H()(Vh=H()(Yh=H()(qh=H()(Wh=H()(jh=H()(Xh=H()(zh=H()(Qh=H()(Jh=H()($h=H()(ed=H()(td=H()(nd=H()(rd=H()(id=H()(ad=H()(od=H()(sd=H()(ud=H()(cd=H()(ld=H()(hd=H()(dd=H()(fd=H()(md=H()(pd=H()(vd=H()(yd=H()(gd=H()(kd=H()(Pd=H()(Sd=H()(Ed=H()(Dd=H()(bd=H()(wd=H()(Ad=H()(Cd=H()(Nd=H()(Od="\n/* ibm-plex-sans-100 - vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic */\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: normal;\n  font-weight: 100;\n  src: url(".concat(n(52297),") format('woff2'),\n       url(")).call(Od,n(33332),") format('woff');\n}\n/* ibm-plex-sans-100italic - vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic */\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: italic;\n  font-weight: 100;\n  src: url(")).call(Nd,n(51366),") format('woff2'),\n       url(")).call(Cd,n(4645),") format('woff');\n}\n/* ibm-plex-sans-200 - vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic */\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: normal;\n  font-weight: 200;\n  src: url(")).call(Ad,n(96010),") format('woff2'),\n       url(")).call(wd,n(45077),") format('woff');\n}\n/* ibm-plex-sans-200italic - vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic */\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: italic;\n  font-weight: 200;\n  src: url(")).call(bd,n(54427),") format('woff2'),\n       url(")).call(Dd,n(11855),") format('woff');\n}\n/* ibm-plex-sans-300 - vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic */\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: normal;\n  font-weight: 300;\n  src: url(")).call(Ed,n(89001),") format('woff2'),\n       url(")).call(Sd,n(17144),") format('woff');\n}\n/* ibm-plex-sans-300italic - vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic */\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: italic;\n  font-weight: 300;\n  src: url(")).call(Pd,n(55182),") format('woff2'),\n       url(")).call(kd,n(91264),") format('woff');\n}\n/* ibm-plex-sans-regular - vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic */\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: normal;\n  font-weight: 400;\n  src: url(")).call(gd,n(25182),") format('woff2'),\n       url(")).call(yd,n(258),") format('woff');\n}\n/* ibm-plex-sans-italic - vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic */\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: italic;\n  font-weight: 400;\n  src: url(")).call(vd,n(55942),") format('woff2'),\n       url(")).call(pd,n(89288),") format('woff');\n}\n/* ibm-plex-sans-500 - vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic */\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: normal;\n  font-weight: 500;\n  src: url(")).call(md,n(24906),") format('woff2'),\n       url(")).call(fd,n(98082),") format('woff');\n}\n/* ibm-plex-sans-500italic - vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic */\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: italic;\n  font-weight: 500;\n  src: url(")).call(dd,n(57295),") format('woff2'),\n       url(")).call(hd,n(54537),") format('woff');\n}\n/* ibm-plex-sans-600 - vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic */\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: normal;\n  font-weight: 600;\n  src: url(")).call(ld,n(64949),") format('woff2'),\n       url(")).call(cd,n(16217),") format('woff');\n}\n/* ibm-plex-sans-600italic - vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic */\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: italic;\n  font-weight: 600;\n  src: url(")).call(ud,n(40555),") format('woff2'),\n       url(")).call(sd,n(93061),") format('woff');\n}\n/* ibm-plex-sans-700 - vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic */\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: normal;\n  font-weight: 700;\n  src: url(")).call(od,n(46508),") format('woff2'),\n       url(")).call(ad,n(64475),") format('woff');\n}\n/* ibm-plex-sans-700italic - vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic */\n@font-face {\n  font-family: 'IBM Plex Sans';\n  font-style: italic;\n  font-weight: 700;\n  src: url(")).call(id,n(60979),") format('woff2'),\n       url(")).call(rd,n(96838),") format('woff');\n}\n/* ibm-plex-sans-arabic-100 - latin_arabic */\n@font-face {\n  font-family: 'IBM Plex Sans Arabic';\n  font-style: normal;\n  font-weight: 100;\n  src: url(")).call(nd,n(75455),") format('woff2'),\n       url(")).call(td,n(22872),") format('woff');\n}\n/* ibm-plex-sans-arabic-200 - latin_arabic */\n@font-face {\n  font-family: 'IBM Plex Sans Arabic';\n  font-style: normal;\n  font-weight: 200;\n  src: url(")).call(ed,n(42060),") format('woff2'),\n       url(")).call($h,n(17853),") format('woff');\n}\n/* ibm-plex-sans-arabic-300 - latin_arabic */\n@font-face {\n  font-family: 'IBM Plex Sans Arabic';\n  font-style: normal;\n  font-weight: 300;\n  src: url(")).call(Jh,n(64535),") format('woff2'),\n       url(")).call(Qh,n(14317),") format('woff');\n}\n/* ibm-plex-sans-arabic-regular - latin_arabic */\n@font-face {\n  font-family: 'IBM Plex Sans Arabic';\n  font-style: normal;\n  font-weight: 400;\n  src: url(")).call(zh,n(64204),") format('woff2'),\n       url(")).call(Xh,n(38048),") format('woff');\n}\n/* ibm-plex-sans-arabic-500 - latin_arabic */\n@font-face {\n  font-family: 'IBM Plex Sans Arabic';\n  font-style: normal;\n  font-weight: 500;\n  src: url(")).call(jh,n(30062),") format('woff2'),\n       url(")).call(Wh,n(48463),") format('woff');\n}\n/* ibm-plex-sans-arabic-600 - latin_arabic */\n@font-face {\n  font-family: 'IBM Plex Sans Arabic';\n  font-style: normal;\n  font-weight: 600;\n  src: url(")).call(qh,n(60511),") format('woff2'),\n       url(")).call(Yh,n(69180),") format('woff');\n}\n/* ibm-plex-sans-arabic-700 - latin_arabic */\n@font-face {\n  font-family: 'IBM Plex Sans Arabic';\n  font-style: normal;\n  font-weight: 700;\n  src: url(")).call(Vh,n(86703),") format('woff2'),\n       url(")).call(Kh,n(6527),") format('woff');\n}\n/* sacramento-v12-latin-ext_latin-regular */\n@font-face {\n  font-family: 'Sacramento';\n  font-style: normal;\n  font-weight: 400;\n  src: url(")).call(Hh,n(6786),") format('woff2'),\n       url(")).call(Gh,n(9997),") format('woff');\n}\n");function Rd(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r,i;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Zd(e.languageDirection);case 2:return n=t.sent,r=hr(e.localeCode),i=new _d({node:e.node,styles:n,fonts:Td,isMobile:e.isMobile,title:e.iframe.title,id:e.iframe.id,env:e.env,overrideTemplate:function(t){var n,i,a,o,s,u,c;return H()(n=H()(i=H()(a=H()(o=H()(s=H()(u=H()(c="\n        <!DOCTYPE html>\n        <html ".concat((null==t?void 0:t.isMobile)?"":'class="desktop-view"',' lang="')).call(c,r,'" dir="')).call(u,e.languageDirection,'">\n          <head>\n              <meta charset="utf-8">\n              <meta http-equiv="X-UA-Compatible" content="IE=edge">\n              ')).call(s,null==t?void 0:t.metaTags,"\n              <title>")).call(o,null==t?void 0:t.title,"</title>\n              <style>")).call(a,null==t?void 0:t.styles,"</style>\n              <style>")).call(i,null==t?void 0:t.fonts,"</style>\n              ")).call(n,null==t?void 0:t.scripts,'\n          </head>\n\n          <body style="opacity: 0;">\n            <div id="root" class="donation-form" role="application" aria-label="Donation Form"></div>\n          </body>\n        </html>\n    ')}},e.htmlElementStyleManager),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})))}function Id(e,t){var n=t.findElement(e);if(!n)throw new Error('No element with id "root"');return n}function xd(e){if(!e.iframeDocument||!e.iframeWindow)throw new Error("No window or document in iframe");return{target:e.iframeWindow,global:window}}function Zd(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("rtl"!==e){t.next=4;break}return t.next=3,n.e(739).then(n.t.bind(n,80360,23));case 3:case 6:return t.abrupt("return",t.sent.default);case 4:return t.next=6,n.e(6580).then(n.t.bind(n,15197,23));case 7:case"end":return t.stop()}}),t)})))}function Ld(e){var t=function(){if("undefined"==typeof Reflect||!oe())return!1;if(oe().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(oe()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,ce.Z)(e);if(t){var i=(0,ce.Z)(this).constructor;n=oe()(r,arguments,i)}else n=r.apply(this,arguments);return(0,ue.Z)(this,n)}}var Md=function(e){(0,se.Z)(n,e);var t=Ld(n);function n(e,r,i,a,o,s,u,c){var l;return(0,k.Z)(this,n),(l=t.call(this,e,r)).checkoutUI=e,l.embedTracker=i,l.debug=a,l.keysKeeper=o,l.targetWindow=s,l.globalWindow=u,l.params=c,l}return(0,P.Z)(n,[{key:"update",value:function(e){return(0,m.mG)(this,void 0,void 0,f().mark((function t(){var n,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.checkoutCore.dispose(),n=new fl(this.embedTracker,this.debug,this.keysKeeper,this.targetWindow,this.globalWindow,Z()(Z()({},this.params),{resolvedConfig:this.convertShowcaseConfigToCheckoutConfig(e)})),r=this.isFlowTypeChanged(n),this.checkoutCore=n,t.next=6,n.run({initialScreen:e.initialScreen});case 6:return t.next=8,this.checkoutUI.replaceCore(this.checkoutCore,{forceRender:r});case 8:case"end":return t.stop()}}),t,this)})))}},{key:"convertShowcaseConfigToCheckoutConfig",value:function(e){return function(e){return Z()({},e,{widgets:[Z()(Z()({},e.widget),{config:Z()(Z()({},e.widget.config),{experimentsSettings:{desktop:{},mobile:{}},trend:{once:0,monthly:0}})}),{}],companies:[e.company],config:Z()(Z()({},e.serverConfig),{router:!1,cryptoCurrencies:{GALA:"1",RAD:"1",GRT:"1",ETHG:"1",CRV:"1",TOKE:"1",QNT:"1",MANA:"1",GUSD:"1",API3:"1",UNI:"1",BTC:"1",FET:"1",CTX:"1",YFI:"1",SPELL:"1",MIM:"1",COMP:"1",BNT:"1",BCH:"1",AMP:"1",MASK:"1",ELON:"1",AXS:"1",CVC:"1",STORJ:"1",UMA:"1",RLY:"1",MC:"1",KP3R:"1",LDO:"1",DAI:"1",ZEC:"1",USDC:"1",RNDR:"1",OXT:"1",BAL:"1",KNC:"1",SUSHI:"1",REN:"1",FTM:"1",ASH:"1",CUBE:"1",MCO2:"1",AUDIO:"1",SHIB:"1",SKL:"1",LUNA:"1",AAVE:"1",XTZ:"1",FIL:"1",SNX:"1",ANKR:"1",ENS:"1",SAND:"1",UST:"1",DOGE:"1",MKR:"1",SLP:"1",LINK:"1",BAT:"1",ENJ:"1",ETH:"1",PAXG:"1",WCFG:"1",LTC:"1",BTCG:"1",ZRX:"1",MIR:"1",BOND:"1",NMR:"1","1INCH":"1",LRC:"1",RARE:"1",ALCX:"1",SOL:"1",SBR:"1",RAY:"1",APE:"1",MPL:"1",RBN:"1",LUSD:"1",LQTY:"1",FRAX:"1",FXS:"1",INDEX:"1",DPI:"1",JAM:"1",QRDO:"1",CHZ:"1",FIDA:"1",REVV:"1",METIS:"1",GMT:"1",ZBC:"1",GFI:"1",ORCA:"1",ALI:"1",TRU:"1",DOT:"1",ERN:"1"}}),data:{},goals:[],fundraisingPages:[],user:{address:Z()(Z()({},e.user.address),{region:""})}})}(e)}},{key:"isFlowTypeChanged",value:function(e){return this.checkoutCore.resolvedCheckoutData.defaultFlowType!==e.resolvedCheckoutData.defaultFlowType}}]),n}(F),Fd=function(e){(0,se.Z)(n,e);var t=Ld(n);function n(){return(0,k.Z)(this,n),t.apply(this,arguments)}return(0,P.Z)(n,[{key:"replaceCore",value:function(e,t){return(0,m.mG)(this,void 0,void 0,f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.checkoutCore=e,!(null==t?void 0:t.forceRender)){n.next=5;break}return n.next=4,this.forceRender();case 4:return n.abrupt("return");case 5:return n.next=7,this.render();case 7:return n.next=9,this.checkoutCore.flowManager.restart();case 9:case"end":return n.stop()}}),n,this)})))}},{key:"forceRender",value:function(){return(0,m.mG)(this,void 0,void 0,f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.regenerateKey(),e.next=3,this.render();case 3:this.show();case 4:case"end":return e.stop()}}),e,this)})))}}]),n}(Fh);function Ud(e,t,n,r){return(0,m.mG)(this,void 0,void 0,f().mark((function i(){var a,o,s,u,c,l,h;return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return(a=t.createInstance("ShowcaseCheckout")).log("checkoutCreateParams",r),i.next=4,Rd(r);case 4:return o=i.sent,s=Id("#root",o),u=xd(o),c=new fl(e,a,n,u.target,u.global,r),l=new Fd(s,o,new(O()),r.sentryInstance,a,c),h=new Md(l,c,e,a,n,u.target,u.global,r),i.next=12,c.run({initialScreen:r.initialScreen,localeCode:c.resolvedCheckoutData.campaign().localization.defaultLocale});case 12:return i.next=14,l.open({preloadFirstScreen:!0});case 14:return a.log("Opened"),i.abrupt("return",h);case 16:case"end":return i.stop()}}),i)})))}var Bd=function(e,t,n,r){return(0,m.mG)(void 0,void 0,void 0,f().mark((function i(){return f().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!r.showcase){i.next=2;break}return i.abrupt("return",Ud(e,t,n,r));case 2:return i.abrupt("return",Gd(e,t,n,r));case 3:case"end":return i.stop()}}),i)})))};function Gd(e,t,n,r){var i;return(0,m.mG)(this,void 0,void 0,f().mark((function a(){var o,s,u,c,l,h,d,m,p,v;return f().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(o=t.createInstance("Checkout")).log("checkoutCreateParams",r),a.next=4,Rd(r);case 4:if(s=a.sent,u=Id("#root",s),c=xd(s),l=null===(i=r.infrastructureQueryParams)||void 0===i?void 0:i._fundraiseup_country,r.livemode||!l){a.next=15;break}return a.next=11,T(l);case 11:h=a.sent,r.resolvedConfig.config.currencies.countryCurrencies=h.countryCurrencies,r.resolvedConfig.config.currencies.langCurrencies=h.langCurrencies,r.resolvedConfig.user.address.countryCode=l;case 15:return d=new fl(e,o,n,c.target,c.global,r),m=new Fh(u,s,new(O()),r.sentryInstance,o,d),p=new C(c.global),v=new F(m,d,p),a.next=21,d.run();case 21:return v.initialize(),a.next=24,m.onHide((function(e){v.destroy({shouldReopen:e.shouldReopen}),d.checkoutRouter.clearUrl(),o.log("Closed")})).open({preloadFirstScreen:!0});case 24:return p.hideAll(),o.log("Opened"),a.abrupt("return",v);case 27:case"end":return a.stop()}}),a)})))}(0,l.k)().provide(h.V.CHECKOUT_2,(function(){return Bd}))},38002:function(e,t,n){"use strict";n.d(t,{f:function(){return r}});var r=(0,n(2784).createContext)(null)},30723:function(e,t,n){"use strict";n.d(t,{RN:function(){return i},EG:function(){return a},Fm:function(){return o},Vs:function(){return s}});var r=n(60401);function i(e,t,n){switch(n){case r.oe.DAILY:return e.translate("creditCardScreen.payButtonLabel.daily",{amount:t});case r.oe.MONTHLY:return e.translate("creditCardScreen.payButtonLabel.monthly",{amount:t});case r.oe.ANNUAL:return e.translate("creditCardScreen.payButtonLabel.annual",{amount:t});case r.oe.BIMONTHLY:return e.translate("creditCardScreen.payButtonLabel.bimonthly",{amount:t});case r.oe.BIWEEKLY:return e.translate("creditCardScreen.payButtonLabel.biweekly",{amount:t});case r.oe.ONCE:return e.translate("creditCardScreen.payButtonLabel.once",{amount:t});case r.oe.WEEKLY:return e.translate("creditCardScreen.payButtonLabel.weekly",{amount:t});case r.oe.QUARTERLY:return e.translate("creditCardScreen.payButtonLabel.quarterly",{amount:t});case r.oe.SEMIANNUAL:return e.translate("creditCardScreen.payButtonLabel.semiannual",{amount:t});default:throw new Error('Unknown repeat "'.concat(n,'"'))}}function a(e,t){switch(t){case r.oe.DAILY:return e.translate("paymentMethodScreen.perDay");case r.oe.WEEKLY:return e.translate("paymentMethodScreen.perWeek");case r.oe.BIWEEKLY:return e.translate("paymentMethodScreen.per2Weeks");case r.oe.MONTHLY:return e.translate("paymentMethodScreen.perMonth");case r.oe.BIMONTHLY:return e.translate("paymentMethodScreen.per2Months");case r.oe.QUARTERLY:return e.translate("paymentMethodScreen.perQuarter");case r.oe.SEMIANNUAL:return e.translate("paymentMethodScreen.per6Months");case r.oe.ANNUAL:return e.translate("paymentMethodScreen.perYear");default:return""}}function o(e,t){switch(t){case r.oe.DAILY:return e.translate("donateForm.donateButton.daily");case r.oe.WEEKLY:return e.translate("donateForm.donateButton.weekly");case r.oe.BIWEEKLY:return e.translate("donateForm.donateButton.biweekly");case r.oe.MONTHLY:return e.translate("donateForm.donateButton.monthly");case r.oe.BIMONTHLY:return e.translate("donateForm.donateButton.bimonthly");case r.oe.QUARTERLY:return e.translate("donateForm.donateButton.quarterly");case r.oe.SEMIANNUAL:return e.translate("donateForm.donateButton.semiannual");case r.oe.ANNUAL:return e.translate("donateForm.donateButton.annual");default:return e.translate("donateForm.donateButton.once")}}function s(e,t){switch(t){case r.oe.ONCE:return e.translate("donateForm.giveOnce");case r.oe.DAILY:return e.translate("donateForm.daily");case r.oe.WEEKLY:return e.translate("donateForm.weekly");case r.oe.BIWEEKLY:return e.translate("donateForm.biweekly");case r.oe.MONTHLY:return e.translate("donateForm.monthly");case r.oe.BIMONTHLY:return e.translate("donateForm.bimonthly");case r.oe.QUARTERLY:return e.translate("donateForm.quarterly");case r.oe.SEMIANNUAL:return e.translate("donateForm.semiannual");case r.oe.ANNUAL:return e.translate("donateForm.annual");default:throw new Error('Unknown repeat "'.concat(t,'"'))}}},81427:function(e,t,n){"use strict";n.d(t,{Y:function(){return a}});var r=n(2784),i=n(38002);function a(){var e=(0,r.useContext)(i.f);if(!e)throw new Error("IntlService is not provided");return e}},42346:function(e,t,n){"use strict";var r=n(20261),i=n(91494),a=n(44900),o=n(98189);(this&&this.__awaiter||function(e,t,n,r){return new(n||(n=o))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))})(void 0,void 0,void 0,r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==window.ResizeObserver){e.next=6;break}return window.ResizeObserver=function(){function e(){i(this,e)}return a(e,[{key:"observe",value:function(){}},{key:"unobserve",value:function(){}},{key:"disconnect",value:function(){}}]),e}(),e.next=4,n.e(9127).then(n.bind(n,99127));case 4:t=e.sent,window.ResizeObserver=t.ResizeObserver;case 6:case"end":return e.stop()}}),e)})))},5760:function(e,t,n){"use strict";n.d(t,{M:function(){return I}});var r=n(19146),i=n.n(r),a=n(58238),o=n(46093),s=n(69e3),u=n(97047),c=n(76552),l=n(20261),h=n.n(l),d=n(50418),f=n.n(d),m=n(33093),p=n.n(m),v=n(5163),y=n(45835),g=n.n(y),k=n(78765),P=n.n(k),S=n(99794),E=n.n(S),D=n(50381),b=n.n(D),w=n(42461),A=n.n(w),C=n(17238),N=function(){function e(t,n){(0,a.Z)(this,e),this.rates=t,this.sentry=n}return(0,o.Z)(e,[{key:"setData",value:function(e,t,n){this._currencyData=e,t&&(this._countriesData=t),n&&(this._pppexData=n)}},{key:"currencyData",get:function(){if(!this._currencyData)throw new Error("Currency data was not set");return this._currencyData}},{key:"countriesData",get:function(){if(!this._countriesData)throw new Error("Countries data was not set");return this._countriesData}},{key:"pppexData",get:function(){if(!this._pppexData)throw new Error("Pppex data was not set");return this._pppexData}},{key:"getCryptoCurrency",value:function(e){var t=this.currencyData[e];if(!t)throw new Error("Currency ".concat(e," was not found"));if(t.type!==C.x.CRYPTO)throw new Error("Currency ".concat(e," is not a crypto"));return t}},{key:"getSymbol",value:function(e){return this.currencyData[e]?this.currencyData[e].symbol:""}},{key:"getName",value:function(e){return this.currencyData[e]?this.currencyData[e].name:""}},{key:"getDigits",value:function(e){return this.currencyData[e]?this.currencyData[e].digits:2}},{key:"getCountryCurrency",value:function(e){return this.countriesData[e]?this.countriesData[e][0]:"USD"}},{key:"getRate",value:function(e){return this.rates[e]||1}},{key:"convert",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;return this.convertBase(e,t,n,r,i)}},{key:"convertBase",value:function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0;if(!g()(e)){var o=new Error("amount should be a finite number");return null===(r=this.sentry)||void 0===r||r.captureException(o),console.error(o),0}if(0===e)return 0;if(t===n)return e;var s=this.currencyData[t].type===C.x.FIAT,u=this.currencyData[n].type===C.x.FIAT,c=this.getDigits(t),l=this.getDigits(n),h=this.calcRate(t,n,s,u);return i&&a&&s&&u&&(e=this.toAiAmount(e,a)),Math.ceil(e/Math.pow(10,c)*h*Math.pow(10,l))}},{key:"round",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Math.ceil(P()(e+1))-t,r=5*Math.pow(10,Math.max(n-3,0)+t);return Math.ceil(e/r)*r}},{key:"toFloatUnformattedStr",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=this.getDigits(t);return(e/Math.pow(10,r)).toFixed(n)}},{key:"toFloat",value:function(e,t){var n=this.getDigits(t);return e/Math.pow(10,n)}},{key:"fromFloat",value:function(e,t){var n=this.getDigits(t);return Math.round(e*Math.pow(10,n))}},{key:"ceil",value:function(e,t){return this.fromFloat(Math.ceil(this.toFloat(e,t)),t)}},{key:"getMinAmount",value:function(e){return this.convert(70,"USD",e)}},{key:"toInt",value:function(e,t){if(!E()(e))throw new Error("amount should be a finite number");var n=this.getDigits(t);return e*Math.pow(10,n)}},{key:"getCurrencyCodesBySource",value:function(e){var t,n=this;return b()(t=A()(this.currencyData)).call(t,(function(t){var r;return p()(r=n.currencyData[t].sources).call(r,e)}))}},{key:"calcRate",value:function(e,t,n,r){var i=this.getRate(e),a=this.getRate(t);return n&&r?a/i:n&&!r?1/(i*a):!n&&r?i*a:i/a}},{key:"toAiAmount",value:function(e,t){return e*(this.pppexData[t]||1)/(this.rates[this.getCountryCurrency(t)]||1)}}]),e}(),O=n(11354),_=n(59222),T=JSON.parse('{"AF":20.876,"AL":44.171,"DZ":36.376,"AO":179.639,"AG":1.693,"AR":33.984,"AM":211.465,"AW":1.146,"AU":1.441,"AT":0.834,"AZ":0.402,"BS":1.013,"BH":0.19,"BD":36.165,"BB":1.936,"BY":0.725,"BE":0.81,"BZ":1.13,"BJ":207.152,"BT":24.336,"BO":3.562,"BA":0.688,"BW":5.06,"BR":2.209,"BN":0.449,"BG":0.684,"BF":202.655,"BI":990.124,"KH":1457.73,"CM":218.493,"CA":1.207,"CV":45.249,"CF":342.456,"TD":207.804,"CL":406.003,"CN":3.52,"CO":1383.4,"KM":216.398,"CG":176.245,"CD":1134.92,"CR":410.149,"HR":3.495,"CY":0.601,"CZ":13.223,"DK":7.264,"DJ":99.792,"DM":1.891,"DO":22.633,"EC":0.513,"EG":4.705,"SV":0.484,"GQ":251.86,"ER":13.144,"EE":0.591,"ET":13.212,"FJ":1.226,"FI":0.898,"FR":0.781,"GA":237.606,"GM":14.567,"GE":1.017,"DE":0.78,"GH":1.994,"GR":0.58,"GD":1.85,"GT":4.46,"GN":4523.45,"GW":247.936,"GY":98.732,"HT":45.728,"HN":12.546,"HK":5.951,"HU":140.221,"IS":148.711,"IN":19.641,"ID":4463.57,"CI":219.071,"IR":31645.47,"IQ":380.783,"IE":0.81,"IL":3.913,"IT":0.709,"JM":81.651,"JP":93.16,"JO":0.327,"KZ":126.481,"KE":58.035,"KI":1.066,"KW":0.128,"KG":24.773,"LA":2965.74,"LV":0.518,"LB":950.817,"LS":6.32,"LR":0.492,"LY":1.014,"LT":0.472,"LU":0.902,"MO":5.601,"MK":20.325,"MG":1094.11,"MW":256.198,"MY":1.447,"MV":10.413,"ML":217.567,"MT":0.581,"MH":1.004,"MR":109.144,"MU":16.736,"MX":9.564,"FM":1.007,"MD":8.3,"MN":894.314,"ME":0.381,"MA":3.484,"MZ":25.655,"MM":337.072,"NA":7.74,"NR":0.93,"NP":40.472,"NL":0.789,"NZ":1.499,"NI":12.779,"NE":216.989,"NG":143.081,"NO":8.865,"OM":0.144,"PK":34.607,"PW":1.08,"PA":0.608,"PG":2.279,"PY":2708.29,"PE":1.629,"PH":19.227,"PL":1.737,"PT":0.606,"PR":0.774,"QA":1.885,"RO":1.94,"RU":26.345,"RW":333.208,"KN":1.628,"LC":1.996,"VC":1.696,"WS":2.026,"SM":0.672,"ST":13974.8,"SA":1.455,"SN":222.155,"RS":43.614,"SC":7.801,"SL":3633.43,"SG":0.839,"SK":0.478,"SI":0.598,"SB":8.541,"SO":0.354,"ZA":7.022,"KR":821.995,"SS":39.562,"ES":0.64,"LK":54.405,"SD":45.294,"SR":3.395,"SZ":5.932,"SE":8.849,"CH":1.204,"TW":13.523,"TJ":2.509,"TZ":829.091,"TH":12.112,"TL":0.574,"TG":220.248,"TO":1.716,"TT":3.384,"TN":0.827,"TR":2.329,"TM":1.607,"TV":1.345,"UG":1202.79,"UA":11.407,"AE":2.043,"GB":0.695,"US":1,"UY":27.653,"UZ":2011.07,"VU":125.439,"VE":36256188267.646,"VN":8115.42,"YE":266.579,"ZM":5.222,"ZW":2.178}');var R=["GBP"],I=function(e){(0,s.Z)(l,e);var t,n,r=(t=l,n=function(){if("undefined"==typeof Reflect||!i())return!1;if(i().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var a=(0,c.Z)(this).constructor;e=i()(r,arguments,a)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function l(){var e;return(0,a.Z)(this,l),(e=r.apply(this,arguments)).currencyDataLoader=new O.I,e}return(0,o.Z)(l,[{key:"loadFiat",value:function(e){var t=this.currencyDataLoader.loadFiat(e),n=_,r=T,i=f()(f()({},t),this._currencyData);this.setData(i,n,r)}},{key:"loadCrypto",value:function(){return(0,v.mG)(this,void 0,void 0,h().mark((function e(){var t,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.currencyDataLoader.loadCrypto();case 2:t=e.sent,n=f()(f()({},t),this._currencyData),this.setData(n);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"convertFeeCurrency",value:function(e,t,n,r){var i=Math.abs(r||1);return this.convertBase(e,t,n)*i}}],[{key:"currencyCodeFilter",value:function(e,t){return t&&p()(R).call(R,e)?"":e}}]),l}(N)},76297:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(58238),i=n(46093),a=function(){function e(t){(0,r.Z)(this,e),this.resolvedCheckoutData=t}return(0,i.Z)(e,[{key:"collectTo",value:function(e){return this}},{key:"reset",value:function(e){return this}},{key:"validate",value:function(){return{isValid:!0}}}]),e}()},4444:function(e,t,n){"use strict";n.d(t,{F:function(){return l}});var r=n(19146),i=n.n(r),a=n(46093),o=n(58238),s=n(69e3),u=n(97047),c=n(76552);var l=function(e){(0,s.Z)(l,e);var t,n,r=(t=l,n=function(){if("undefined"==typeof Reflect||!i())return!1;if(i().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,c.Z)(t);if(n){var a=(0,c.Z)(this).constructor;e=i()(r,arguments,a)}else e=r.apply(this,arguments);return(0,u.Z)(this,e)});function l(e){var t;return(0,o.Z)(this,l),(t=r.call(this,"DataPoint Validation Failed")).validationResult=e,t}return(0,a.Z)(l)}((0,n(77425).Z)(Error))},32008:function(e,t,n){"use strict";n.d(t,{q:function(){return s}});var r=n(29406),i=n.n(r),a=n(2784),o=n(26328);function s(){var e=(0,o.S)();return(0,a.useCallback)((function(t){var n,r;return i()(n=i()(r="".concat(t," ")).call(r,t,"-")).call(n,e?"mobile":"desktop")}),[e])}},20980:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var r=n(41893),i=n(54496),a=n.n(i),o=n(2784);function s(e){var t=(0,o.useRef)(),n=(0,o.useRef)(e);(0,o.useEffect)((function(){n.current=e}),[e]);var i=(0,o.useCallback)((function(){window.clearTimeout(t.current)}),[]),s=(0,o.useCallback)((function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(),o?t.current=a()((function(){n.current.apply(n,(0,r.Z)(e))}),o):n.current.apply(n,(0,r.Z)(e))}),[i]);return(0,o.useEffect)((function(){return i}),[i]),{set:s,clear:i}}},90868:function(e,t,n){"use strict";n.d(t,{a:function(){return o}});var r=n(21364),i=n(2784),a=function(e){return window.matchMedia("(max-width: ".concat(e,"px)"))};function o(e){var t=(0,i.useRef)(a(e)),n=(0,i.useState)(a(e).matches),o=(0,r.Z)(n,2),s=o[0],u=o[1];return(0,i.useEffect)((function(){var e=t.current,n=function(e){u(e.matches)};return e.addListener(n),function(){return e.removeListener(n)}}),[]),s}},92415:function(e,t,n){"use strict";n.d(t,{L:function(){return a}});var r=n(22438),i=n(2784);function a(){var e=(0,i.useRef)();return void 0===e.current&&(e.current=(0,r.G)()),e.current}},22319:function(e,t,n){"use strict";function r(e){return!!e&&/^(([^<>()\\[\]\\.,;:\s@"]+(\.[^<>()\\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e))}n.d(t,{o:function(){return r}})},89045:function(e,t,n){"use strict";function r(e,t){return!!e&&(e.length>=t&&/^(?!anonymous$)([^!_@#$%^*+=~[\]{};:\\|?`]+$)/i.test(e))}n.d(t,{O:function(){return r}})},83248:function(e,t,n){"use strict";var r;n.d(t,{B:function(){return r}}),function(e){e.DONOR_PORTAL_SUBSCRIPTION_EDITOR="donorPortalSubscriptionEditor",e.DASHBOARD_SUBSCRIPTION_EDITOR="dashboardSubscriptionEditor",e.WIDGET="widget",e.VIRTUAL_TERMINAL="virtualTerminal"}(r||(r={}))},79168:function(e,t,n){"use strict";n.d(t,{m:function(){return r},P:function(){return i}});var r={EQ:9},i={MIN:8,MAX:17}},63598:function(e,t,n){"use strict";n.d(t,{z:function(){return r},P:function(){return i}});var r={MIN:6,MAX:6},i={MIN:4,MAX:17}},11354:function(e,t,n){"use strict";n.d(t,{I:function(){return l}});var r=n(58238),i=n(46093),a=n(20261),o=n.n(a),s=n(5163),u=n(17238),c=n(76271),l=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"loadFiat",value:function(t){var n=c;return e.formatFiatCurrencies(n,t)}},{key:"loadCrypto",value:function(){return(0,s.mG)(this,void 0,void 0,o().mark((function t(){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getCryptoCurrencies();case 2:return n=t.sent,t.abrupt("return",e.formatCryptoCurrencies(n));case 4:case"end":return t.stop()}}),t)})))}}],[{key:"formatFiatCurrencies",value:function(e,t){t||(t={translate:function(){return null}});var n={};for(var r in e){var i=e[r];n[r]={name:t.translate("currencies.".concat(r))||i.name,code:r,symbol:i.symbol,digits:i.digits,type:u.x.FIAT,sources:[u.x.FIAT]}}return n}},{key:"formatCryptoCurrencies",value:function(e){var t={};for(var n in e){var r=e[n];t[n]={name:r.name,code:n,symbol:r.symbol,digits:r.digits,protocol:r.protocol,networkName:r.networkName,network:r.network,provider:r.provider,type:u.x.CRYPTO,sources:r.provider}}return t}},{key:"getCryptoCurrencies",value:function(){return(0,s.mG)(this,void 0,void 0,o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve().then(n.t.bind(n,61695,19));case 2:return t=e.sent,e.abrupt("return",t.default);case 4:case"end":return e.stop()}}),e)})))}}]),e}()},17238:function(e,t,n){"use strict";var r;n.d(t,{x:function(){return r}}),function(e){e.FIAT="fiat",e.CRYPTO="crypto"}(r||(r={}))},36791:function(e,t,n){"use strict";var r,i;n.d(t,{l:function(){return r},v:function(){return i}}),function(e){e[e.BACKWARD=1]="BACKWARD",e[e.FORWARD=2]="FORWARD"}(r||(r={})),function(e){e.SCREEN_CHANGED="screenChanged",e.FLOW_CHANGED="flowChanged",e.DONE="done",e.LOCKED="locked",e.UNLOCKED="unlocked"}(i||(i={}))},18873:function(e,t,n){"use strict";n.d(t,{v:function(){return h}});var r=n(58238),i=n(46093),a=n(29406),o=n.n(a),s=n(87636),u=n.n(s),c=n(10161),l=n.n(c),h=function(){function e(){(0,r.Z)(this,e),this.emitter=new(l())}return(0,i.Z)(e,[{key:"on",value:function(e,t){var n=this;return this.emitter.on(e,t),function(){return n.emitter.off(e,t)}}},{key:"once",value:function(e,t){return this.emitter.once(e,t),this}},{key:"emit",value:function(e){for(var t,n,r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return(t=this.emitter).emit.apply(t,o()(n=[e]).call(n,i)),this}},{key:"removeAllListeners",value:function(){var e=this,t=this.emitter.eventNames();return u()(t).call(t,(function(t){e.emitter.removeListener(t)})),this}}]),e}()},58351:function(e,t,n){"use strict";function r(e,t,n,r){return(Number(e)||0).toLocaleString(r||"en-US",{style:"decimal",currency:"USD",minimumFractionDigits:t||0,maximumFractionDigits:n||0})}n.d(t,{V:function(){return r}})},20419:function(e,t,n){"use strict";n.d(t,{o:function(){return c}});var r=n(79131),i=n.n(r),a=n(50381),o=n.n(a),s=n(90899),u=n.n(s);function c(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",a=function(e){return"string"==typeof e?i()(e).call(e):e},s=function(e){return"string"==typeof e||"number"==typeof e},c=function(e){return""!==e};return o()(t=u()(n=o()(e).call(e,s)).call(n,a)).call(t,c).join(r)}},66376:function(e,t,n){"use strict";var r;function i(){return void 0===r&&(r=!1),r}n.d(t,{b:function(){return i}})},65356:function(e,t,n){"use strict";n.d(t,{FE:function(){return u},cQ:function(){return c},eU:function(){return l},md:function(){return h},I_:function(){return d},Wj:function(){return f},IM:function(){return m},pe:function(){return p},jk:function(){return v},ly:function(){return y},eC:function(){return g}});var r,i,a=n(41893),o=(n(28936),n(33093),n(29406)),s=n.n(o),u=(n(60401),{monthly:[2e4,1e4,5e3,3e3,1e3,500],once:[1e5,5e4,25e3,1e4,5e3,2500]}),c="paymentSession",l=["FUNEDHHVNJW","FUNKMYHJMXH"],h=s()(r=[]).call(r,l,["FUNLBKUYDEZ","FUNUVPLDMLV","FUNFKNXGXKG","FUNWQEUHTGN","FUNFYSFJXNC","FUNCWPSFCBQ","FUNMVFKMLTR","FUNWSVAATTZ","FUNHHSYQJPZ","FUNZVTJSNEJ"]),d=s()(i=[]).call(i,(0,a.Z)(h),["FUNJWSATRTP","FUNYUWGKCTF"]),f=["FUNTAKCSRBQ","FUNDHUVGVRM","FUNTDXTJWVU","FUNYPBWVSUG","FUNSDVRDYZG","FUNFHDQQGTX","FUNRCDNMFBT","FUNVCMPHHVJ","FUNNKADXHCT","FUNECBPMXUZ","FUNAQZAWMVW","FUNZFTZNMLZ","FUNRSJFKCHE","FUNHDVWWBNK","FUNPRFLUSNV","FUNMZPETBHL","FUNWXRXMDEW","FUNKKNMUPJP","FUNCLGAZFZK","FUNCBHXJBEP","FUNAVXNXJPK","FUNYFSRHNDW","FUNFCBTMVQF","FUNWCSJPYHW","FUNRAJUTCDV","FUNDTTKRVJK","FUNBGPSRHMF","FUNMWTUSCVU","FUNHSDENLSG","FUNVCERETGL"],m=["FUNSELXNXSF"],p=["FUNYIFKUPWF"],v=["FUNZNBDQWGF"],y=["FUNUIBOWUOI"],g=["FUNWIIJDIHV"]},3018:function(e,t,n){"use strict";var r,i,a,o,s,u,c,l,h,d,f,m,p,v,y,g,k,P,S,E,D,b,w,A,C,N,O,_,T;n.d(t,{GZ:function(){return c},Ey:function(){return l},rL:function(){return g},El:function(){return k},OQ:function(){return b},oe:function(){return w},Cl:function(){return O}}),function(e){e.BITCOIN="bitcoin",e.ETHEREUM="ethereum",e.BITCOINCASH="bitcoincash",e.LITECOIN="litecoin",e.ZCASH="zcash",e.FILECOIN="filecoin",e.DOGECOIN="dogecoin",e.TEZOS="tezos",e.SOLANA="solana",e.POLKADOT="polkadot"}(r||(r={})),function(e){e.PENDING="pending",e.FAILED="failed",e.SUCCESS="success",e.REFUNDED="refunded"}(i||(i={})),function(e){e.ACH_VERIFICATION_REQUIRED="ach_verification_required",e.INCOMPLETE="incomplete",e.RETRYING="retrying",e.WAITING_FOR_TRANSFER="waiting_for_transfer",e.PAYPAL_ACTION_REQUIRED="paypal_action_required",e.ACCOUNT_CLOSED="account_closed",e.ACCOUNT_FROZEN="account_frozen",e.AUTHENTICATION_REQUIRED="authentication_required",e.BANK_ACCOUNT_RESTRICTED="bank_account_restricted",e.CARD_DECLINED="card_declined",e.CREDIT_CARD_ACTION_REQUIRED="credit_card_action_required",e.DEBIT_NOT_AUTHORIZED="debit_not_authorized",e.EXPIRED_CARD="expired_card",e.INCORRECT_CVC="incorrect_cvc",e.INCORRECT_NUMBER="incorrect_number",e.INCORRECT_ZIP="incorrect_zip",e.INSUFFICIENT_FUNDS="insufficient_funds",e.INVALID_ACCOUNT_NUMBER="invalid_account_number",e.NO_ACCOUNT="no_account",e.PARAMETER_INVALID_INTEGER="parameter_invalid_integer",e.PROCESSING_ERROR="processing_error",e.RESOURCE_MISSING="resource_missing",e.ACH_VERIFICATION_FAILED="ach_verification_failed",e.ACH_VERIFICATION_EXPIRED="ach_verification_expired",e.FUN_VERIFICATION_CANCEL="fun_verification_cancel",e.SUBSCRIPTION_CANCELLED_BY_COMPANY="subscription_cancelled_by_company",e.SUBSCRIPTION_CANCELLED_BY_CUSTOMER="subscription_cancelled_by_customer",e.SUBSCRIPTION_SKIPPED_BY_COMPANY="subscription_skipped_by_company",e.SUBSCRIPTION_SKIPPED_BY_CUSTOMER="subscription_skipped_by_customer",e.PAYMENT_METHOD_INVALIDATED="payment_method_invalidated",e.FAILED_BY_TERMINATION_FLOW="failed_by_termination_flow",e.NOT_ELIGIBLE="not_eligible",e.UNKNOWN_REASON="unknown_reason"}(a||(a={})),function(e){e.FAIL="fail",e.FAIL_NOT_ELIGIBLE="fail_not_eligible",e.WAIT_FOR_TRANSFER="wait_for_transfer",e.SUCCEED="succeed"}(o||(o={})),function(e){e.PENDING="pending",e.SUCCESS="success",e.FAILED="failed"}(s||(s={})),function(e){e.ACH="ach",e.GOOGLE_PAY="android_pay",e.APPLE_PAY="apple_pay",e.CLICK_TO_PAY="masterpass",e.PLAID="plaid"}(u||(u={})),function(e){e.CARD="creditCard",e.APPLE_PAY="applePay",e.GOOGLE_PAY="googlePay",e.CLICK_TO_PAY="clickToPay",e.ACH="ach",e.PLAID="plaid",e.PAYPAL="paypal",e.PAYPAL_AGREEMENT="paypalAgreement",e.VENMO="venmo",e.AU_BECS="auBecsDebit",e.UK_BACS="ukBacs",e.ACSS="acss",e.SEPA="sepa",e.IDEAL="ideal",e.CRYPTO="crypto",e.STOCK="stock"}(c||(c={})),function(e){e.CARD="card",e.BANK_ACCOUNT="bank_account",e.PAYPAL="paypal",e.VENMO="venmo",e.SOURCE="source",e.AU_BECS="au_becs_debit",e.UK_BACS="bacs_debit",e.ACSS="acss_debit",e.SEPA="sepa_debit",e.IDEAL="ideal",e.CRYPTO="crypto",e.STOCK="stock"}(l||(l={})),function(e){e.CHARGEABLE="chargeable",e.NEW="new",e.VERIFICATION_FAILED="verification_failed",e.VERIFIED="verified",e.VALIDATED="validated",e.ERRORED="errored"}(h||(h={})),function(e){e.STRIPE="stripe",e.PAYPAL="paypal",e.PLAID="plaid",e.GEMINI="gemini",e.COINBASE="coinbase",e.COINBASE_COMMERCE="coinbaseCommerce"}(d||(d={})),function(e){e.STRIPE_TOKEN="stripeToken",e.CLICK_TO_PAY="clickToPay",e.STRIPE_PAYMENT_METHOD="stripePaymentMethod"}(f||(f={})),function(e){e.ACTIVE="active",e.CANCELLED="cancelled",e.FAILED="failed"}(m||(m={})),function(e){e.RETRYING="retrying",e.ACH_VERIFICATION_REQUIRED="ach_verification_required",e.SCHEDULED="scheduled",e.PAUSED="paused",e.CANCELLED_BY_COMPANY="cancelled_by_company",e.CANCELLED_BY_CUSTOMER="cancelled_by_customer",e.CANCELLED_BY_TERMINATION_FLOW="cancelled_by_termination_flow",e.ACH_VERIFICATION_FAILED="ach_verification_failed",e.ACH_VERIFICATION_EXPIRED="ach_verification_expired",e.PAYMENT_METHOD_INVALIDATED="payment_method_invalidated",e.FAILED_BY_INSUFFICIENT="failed_by_insufficient_data"}(p||(p={})),function(e){e.CARD="card",e.BANK_ACCOUNT="bank_account",e.AU_BECS="au_becs_debit",e.UK_BACS="bacs_debit",e.ACSS="acss_debit",e.SEPA="sepa_debit"}(v||(v={})),function(e){e.VISA="Visa",e.VISA_ELECTRON="Visa Electron",e.MASTER_CARD="MasterCard",e.AMERICAN_EXPRESS="American Express",e.DINERS_CLUB="Diners Club",e.DISCOVER="Discover",e.JCB="JCB"}(y||(y={})),function(e){e.VISA="visa",e.AMERICAN_EXPRESS="amex",e.MASTERCARD="mastercard",e.DISCOVER="discover"}(g||(g={})),function(e){e[e.STANDARD=290]="STANDARD",e[e.NON_PROFIT=220]="NON_PROFIT"}(k||(k={})),function(e){e[e.AUTO=-1]="AUTO",e[e.NEVER=0]="NEVER",e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.THREE=3]="THREE",e[e.FOUR=4]="FOUR",e[e.FIVE=5]="FIVE",e[e.SIX=6]="SIX"}(P||(P={})),function(e){e.NEW="new",e.VALIDATED="validated",e.VERIFIED="verified",e.FAILED="verification_failed",e.ERRORED="errored"}(S||(S={})),function(e){e.INDIVIDUAL="individual",e.COMPANY="company"}(E||(E={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.DISABLED="disabled"}(D||(D={})),function(e){e.REQUIRES_ACTION="requires_action",e.REQUIRES_CONFIRMATION="requires_confirmation",e.REQUIRES_PAYMENT_METHOD="requires_payment_method",e.REQUIRES_CAPTURE="requires_capture",e.PROCESSING="processing",e.SUCCEEDED="succeeded",e.CANCELLED="canceled"}(b||(b={})),function(e){e.ONCE="once",e.DAILY="daily",e.WEEKLY="weekly",e.BIWEEKLY="biweekly",e.MONTHLY="monthly",e.BIMONTHLY="bimonthly",e.QUARTERLY="quarterly",e.SEMIANNUAL="semiannual",e.ANNUAL="annual"}(w||(w={})),function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(A||(A={})),function(e){e.ACH_VERIFICATION_REQUIRED="ach_verification_required",e.ACH_VERIFICATION_FAILED="ach_verification_failed",e.ACH_VERIFICATION_CANCELLED="ach_verification_cancelled",e.ACH_VERIFICATION_EXPIRED="ach_verification_expired",e.UNKNOWN_ERROR="unknown_error",e.DEACTIVATED_ON_PROVIDER_SIDE="deactivated_on_provider_side",e.ACCOUNT_CLOSED="account_closed",e.ACCOUNT_FROZEN="account_frozen",e.AUTHENTICATION_REQUIRED="authentication_required",e.BANK_ACCOUNT_RESTRICTED="bank_account_restricted",e.CARD_DECLINED="card_declined",e.DEBIT_NOT_AUTHORIZED="debit_not_authorized",e.EXPIRED_CARD="expired_card",e.FUN_VERIFICATION_CANCEL="fun_verification_cancel",e.INCORRECT_CVC="incorrect_cvc",e.INCORRECT_NUMBER="incorrect_number",e.INCORRECT_ZIP="incorrect_zip",e.INSUFFICIENT_FUNDS="insufficient_funds",e.INVALID_ACCOUNT_NUMBER="invalid_account_number",e.NO_ACCOUNT="no_account",e.PROCESSING_ERROR="processing_error",e.RESOURCE_MISSING="resource_missing",e.MANDATE_INACTIVE="mandate_inactive",e.STRIPE_CUSTOMER_REQUIRED="stripe_customer_required"}(C||(C={})),function(e){e.PAYMENT_METHOD_INVALIDATED="fun_payment_method_invalidated",e.CHARGE_VERIFICATION_CANCELLED="fun_verification_cancel",e.PAYMENT_METHOD_VERIFICATION_EXPIRED="fun_verification_expired",e.PAYMENT_METHOD_VERIFICATION_FAILED="fun_verification_failed",e.CHARGE_VERIFICATION_CANCELLED_BY_COMPANY="fun_verification_cancel_by_company",e.CHARGE_VERIFICATION_CANCELLED_BY_SUPPORTER="fun_verification_cancel_by_supporter",e.PAYMENT_WAS_CANCELLED="fun_payment_was_cancelled",e.ACCOUNT_WAS_TERMINATED="fun_account_was_terminated"}(N||(N={})),function(e){e.MONEY="money",e.STOCK="stock",e.CRYPTO="crypto"}(O||(O={})),function(e){e.UPDATE_SUBSCRIPTION_CUSTOMER_ADDRESS="update_subscription_customer_address",e.UPDATE_SUBSCRIPTION_QUESTIONS="update_subscription_questions",e.UPDATE_CHARGE_RECEIPT="update_charge_receipt",e.UPDATE_SUBSCRIPTION_AMOUNT="update_subscription_amount"}(_||(_={})),function(e){e.PAYPAL_ERROR="PAYPAL_ERROR",e.PAYPAL_REQUEST_ERROR="PAYPAL_REQUEST_ERROR",e.REFUND_FAILED_INSUFFICIENT_FUNDS="REFUND_FAILED_INSUFFICIENT_FUNDS",e.USER_ACCOUNT_RESTRICTED="USER_ACCOUNT_RESTRICTED",e.INTERNAL="INTERNAL",e.UNAVAILABLE="UNAVAILABLE"}(T||(T={}))},73449:function(e,t,n){"use strict";n.d(t,{Ch:function(){return r},pK:function(){return i},V6:function(){return c}});var r,i,a=n(33415),o=n.n(a),s=n(33093),u=n.n(s);function c(e){if(!e)return!1;var t=o()(r);return u()(t).call(t,e)}!function(e){e.NONE="",e.MR="Mr",e.MX="Mx",e.MRS="Mrs",e.MISS="Miss",e.MS="Ms",e.SIR="Sir",e.DR="Dr",e.REV="Rev"}(r||(r={})),function(e){e[e.MIN=1]="MIN",e[e.MAX=40]="MAX"}(i||(i={}))},28055:function(e,t,n){"use strict";var r,i,a,o,s,u,c,l,h,d,f,m,p,v;n.d(t,{Yq:function(){return r},dy:function(){return m}}),function(e){e.REMINDER="reminder",e.DONATE_BUTTON="donateButton",e.STICKY_BUTTON="stickyButton",e.IMAGE_CARD="imageCard",e.TEXT_LINK="textLink",e.DONATION_FORM="donationForm",e.SIMPLE_FORM="simpleForm",e.GOAL_METER="goalMeter",e.STAT_COUNTER="statCounter",e.IMPACT_SLIDER="impactSlider",e.DONATION_LEVELS="donationLevels",e.BUTTON_GROUP="buttonGroup",e.FLOATING_BUTTON="floatingButton",e.MESSAGE_BAR="messageBar",e.TOP_SUPPORTERS="topSupporters",e.SOCIAL_PROOF="socialProof",e.QR_CODE="qrCode",e.RECENT_DONATIONS="recentDonations",e.P2P_BUTTON="p2pButton",e.P2P_LINK="p2pLink",e.TOP_FUNDRAISERS="topFundraisers",e.DONOR_MAP="donorMap",e.LIGHTBOX="lightbox",e.FUNDRAISING_PAGE_LINK="fundraisingPageLink",e.LINK="link",e.DIRECT_LINK="direct",e.DEBUG_PANEL="debugPanel",e.TEST_MODE_PANEL="testModePanel",e.SPLIT_TESTING="splitTesting"}(r||(r={})),function(e){e.BUTTONS="buttons",e.DATA="data",e.FORMS="forms",e.LINKS="links",e.LISTS="lists",e.OVERLAYS="overlays"}(i||(i={})),function(e){e.MOBILE="Mobile",e.DESKTOP="Desktop"}(a||(a={})),r.FUNDRAISING_PAGE_LINK,r.LINK,r.DIRECT_LINK,r.DEBUG_PANEL,r.TEST_MODE_PANEL,r.SPLIT_TESTING,r.DONATE_BUTTON,r.STICKY_BUTTON,r.IMAGE_CARD,r.DONATION_FORM,r.SIMPLE_FORM,r.GOAL_METER,r.IMPACT_SLIDER,r.DONATION_LEVELS,r.BUTTON_GROUP,r.MESSAGE_BAR,r.TOP_SUPPORTERS,r.SOCIAL_PROOF,r.RECENT_DONATIONS,r.P2P_BUTTON,r.P2P_LINK,r.TOP_FUNDRAISERS,r.LIGHTBOX,r.REMINDER,r.STICKY_BUTTON,r.SOCIAL_PROOF,r.MESSAGE_BAR,r.FLOATING_BUTTON,r.LIGHTBOX,r.STICKY_BUTTON,r.MESSAGE_BAR,r.LIGHTBOX,r.REMINDER,r.SOCIAL_PROOF,r.GOAL_METER,r.STAT_COUNTER,function(e){e.LEFT="left",e.LEFT_TOP="left-top",e.LEFT_CENTER="left-center",e.LEFT_BOTTOM="left-bottom",e.RIGHT="right",e.RIGHT_TOP="right-top",e.RIGHT_CENTER="right-center",e.RIGHT_BOTTOM="right-bottom",e.CENTER="center",e.TOP_LEFT="top-left",e.TOP_CENTER="top-center",e.TOP_RIGHT="top-right",e.BOTTOM_LEFT="bottom-left",e.BOTTOM_CENTER="bottom-center",e.BOTTOM_RIGHT="bottom-right"}(o||(o={})),function(e){e.NO="no",e.CHECKOUT="checkout",e.CUSTOM="custom"}(s||(s={})),function(e){e.IMPACT_TO_AMOUNT="impactToAmount",e.AMOUNT_TO_IMPACT="amountToImpact"}(u||(u={})),function(e){e.AMOUNT="amount",e.LEVEL="level"}(c||(c={})),r.DONATE_BUTTON,r.DONATION_FORM,r.SIMPLE_FORM,r.STICKY_BUTTON,r.REMINDER,r.IMAGE_CARD,r.TEXT_LINK,r.BUTTON_GROUP,r.GOAL_METER,r.STAT_COUNTER,r.IMPACT_SLIDER,r.P2P_BUTTON,r.P2P_LINK,r.TOP_FUNDRAISERS,r.TOP_SUPPORTERS,r.QR_CODE,r.SOCIAL_PROOF,r.RECENT_DONATIONS,r.DONATION_LEVELS,r.MESSAGE_BAR,r.DONOR_MAP,r.LIGHTBOX,function(e){e.TOP="top",e.BOTTOM="bottom",e.BEFORE_CONTENT="beforeContent"}(l||(l={})),function(e){e.ALL="all",e.SELECTED="selected"}(h||(h={})),function(e){e.AFTER_BEGIN="afterbegin",e.BEFORE_END="beforeend"}(d||(d={})),function(e){e.ALL="all",e.DESKTOP_ONLY="desktopOnly",e.MOBILE_ONLY="mobileOnly"}(f||(f={})),function(e){e.ONCE="once",e.MONTHLY="monthly"}(m||(m={})),function(e){e.FULL_NAME="fullName",e.SHORTED_FULL_NAME="shortedFullName",e.FIRST_NAME="firstName",e.HIDE="hide"}(p||(p={})),function(e){e.SPECIFIC_CURRENCY="specificCurrency",e.DONOR_CURRENCY="donorCurrency",e.DONATION_CURRENCY="donationCurrency"}(v||(v={}))},60401:function(e,t,n){"use strict";n.d(t,{GZ:function(){return E.GZ},oe:function(){return E.oe},Ey:function(){return E.Ey},CB:function(){return r},xR:function(){return d},C9:function(){return m},h2:function(){return s},Tl:function(){return l},$W:function(){return c},__:function(){return h},Bx:function(){return u}});var r,i,a,o,s,u,c,l,h,d,f,m,p,v,y,g,k,P,S=n(28936),E=n(3018);!function(e){e.DEVELOPMENT="development",e.PRODUCTION="production",e.STAGING="staging",e.TESTING="testing"}(r||(r={})),function(e){e.PAN_ONLY="PAN_ONLY",e.CRYPTOGRAM_3DS="CRYPTOGRAM_3DS"}(a||(a={})),function(e){e.AMEX="AMEX",e.DISCOVER="DISCOVER",e.JCB="JCB",e.MASTERCARD="MASTERCARD",e.VISA="VISA"}(o||(o={})),function(e){e.IN_HONOR_MEMORY="inHonorMemory",e.DEDICATION="dedication"}(s||(s={})),function(e){e.DEFAULT_MONTHLY="defaultMonthly",e.ONLY_MONTHLY="onlyMonthly",e.DEFAULT_ONETIME="defaultOnetime",e.ONLY_ONETIME="onlyOnetime"}(u||(u={})),function(e){e.RECURRING="recurring",e.ONE_TIME="one-time",e.ALL="all"}(c||(c={})),function(e){e.REDIRECT="redirect",e.THANK_YOU_SCREEN="thankYouScreen"}(l||(l={})),function(e){e.DEFAULT_YES="defaultYes",e.DEFAULT_NO="defaultNo",e.ONLY_YES="onlyYes",e.ONLY_NO="onlyNo"}(h||(h={})),function(e){e.DESKTOP="desktop",e.MOBILE="mobile"}(d||(d={})),function(e){e.DISABLED="disabled",e.DRY_RUN="dry-run",e.ENABLED="enabled"}(f||(f={})),function(e){e.AUSTRALIA="AU",e.AUSTRIA="AT",e.BELGIUM="BE",e.BRAZIL="BR",e.BULGARIA="BG",e.CANADA="CA",e.CYPRUS="CY",e.CZECH_REPUBLIC="CZ",e.DENMARK="DK",e.ESTONIA="EE",e.FINLAND="FI",e.FRANCE="FR",e.GERMANY="DE",e.GREECE="GR",e.HONG_KONG="HK",e.HUNGARY="HU",e.INDIA="IN",e.INDONESIA="ID",e.IRELAND="IE",e.ITALY="IT",e.JAPAN="JP",e.LATVIA="LV",e.LITHUANIA="LT",e.LUXEMBOURG="LU",e.MALAYSIA="MY",e.MALTA="MT",e.MEXICO="MX",e.NETHERLANDS="NL",e.NEW_ZEALAND="NZ",e.NORWAY="NO",e.POLAND="PL",e.PORTUGAL="PT",e.ROMANIA="RO",e.SINGAPORE="SG",e.SLOVAKIA="SK",e.SLOVENIA="SI",e.SPAIN="ES",e.SWEDEN="SE",e.SWITZERLAND="CH",e.UNITED_KINGDOM="GB",e.UNITED_STATES="US",e.GIBRALTAR="GI",e.LIECHTENSTEIN="LI",e.PHILIPPINES="PH"}(m||(m={})),function(e){e.LIVE="live",e.TEST="test"}(p||(p={})),function(e){e.CLOSE="close",e.CLICK="click",e.KEYDOWN="keydown",e.DIRTY="dirty",e.INPUT="input",e.LOADING="loading",e.MOUNTED="mounted",e.PAGE_CREATED="page:created",e.TEAM_CREATED="team:created",e.SUGGESTION_SELECTED="suggestion-selected",e.READY="ready",e.SUBMIT="submit",e.UPDATE="update",e.UPDATED="updated",e.CREATE="create",e.ARCHIVE="archive",e.UNARCHIVE="unarchive",e.ADD="add",e.SAVE="save",e.SAVED="saved",e.CHANGE="change",e.DUPLICATE="duplicate",e.REMOVE="remove",e.UPDATE_LOADING="update:loading"}(v||(v={})),function(e){e.TEXT="text",e.EMAIL="email"}(y||(y={})),function(e){e.WEBSITE="website",e.VIRTUAL_TERMINAL="virtualTerminal",e.DONOR_PORTAL="donorPortal",e.DASHBOARD="dashboard",e.RECURRING_MIGRATION="recurringMigration"}(g||(g={})),function(e){e.DONOR_PORTAL="donorPortal",e.PARTNER_PORTAL="partnerPortal",e.DASHBOARD="dashboard"}(k||(k={})),function(e){e.DAY_7="7d",e.MONTH="1m",e.MONTH_3="3m",e.YEAR_TO_DAY="ytd",e.YEAR="1y",e.YEAR_5="5y"}(P||(P={})),i={},(0,S.Z)(i,P.DAY_7,"Last 7 days"),(0,S.Z)(i,P.MONTH,"Last month"),(0,S.Z)(i,P.MONTH_3,"Last three months"),(0,S.Z)(i,P.YEAR_TO_DAY,"Year-to-date"),(0,S.Z)(i,P.YEAR,"Last year"),(0,S.Z)(i,P.YEAR_5,"Last five years")},46301:function(e,t,n){"use strict";n.d(t,{c0:function(){return u},uZ:function(){return c},dI:function(){return y},nx:function(){return v}});var r,i,a,o,s,u,c,l=n(28936);!function(e){e.EN_US="en-US",e.EN_GB="en-GB",e.EN_CA="en-CA",e.FR_CA="fr-CA",e.FR_FR="fr-FR",e.ES="es",e.NL="nl",e.NO="no",e.DE="de",e.FI_FI="fi-FI",e.AR_001="ar-001",e.SV="sv",e.IT="it",e.PT_PT="pt-PT",e.PT_BR="pt-BR",e.ZH_CN="zh-CN",e.ZH_TW="zh-TW",e.JA="ja",e.KO="ko",e.HU="hu",e.DA="da",e.RU_RU="ru-RU"}(u||(u={})),function(e){e.EN="en",e.ES="es",e.FR="fr",e.NL="nl",e.NO="no",e.DE="de",e.FI="fi",e.AR="ar",e.SV="sv",e.IT="it",e.PT="pt",e.ZH="zh",e.JA="ja",e.KO="ko",e.HU="hu",e.DA="da",e.RU="ru"}(c||(c={}));var h,d,f,m,p,v,y=[u.EN_US,u.EN_GB,u.EN_CA,u.FR_CA,u.FR_FR,u.ES,u.NL,u.NO,u.DE,u.FI_FI,u.SV,u.IT,u.PT_PT,u.PT_BR,u.AR_001,u.ZH_CN,u.ZH_TW,u.JA,u.KO,u.HU,u.DA,u.RU_RU];c.EN,c.FR,c.ES,c.NL,c.NO,c.DE,c.FI,c.AR,c.SV,c.IT,c.PT,c.ZH,c.JA,c.KO,c.HU,c.DA,c.RU,function(e){e.LOCALE="locale",e.PREFERRED_LOCALE="preferredLocale"}(h||(h={})),"fundraiseup_".concat(h.PREFERRED_LOCALE),function(e){e.EN="English",e.ES="Spanish",e.FR="French",e.NL="Dutch",e.NO="Norwegian",e.DE="German",e.FI="Finnish",e.AR="Arabic",e.SV="Swedish",e.IT="Italian",e.PT="Portuguese",e.ZH="Chinese",e.JA="Japanese",e.KO="Korean",e.HU="Hungarian",e.DA="Danish",e.RU="Russian"}(d||(d={})),r={},(0,l.Z)(r,c.EN,d.EN),(0,l.Z)(r,c.ES,d.ES),(0,l.Z)(r,c.FR,d.FR),(0,l.Z)(r,c.NL,d.NL),(0,l.Z)(r,c.NO,d.NO),(0,l.Z)(r,c.DE,d.DE),(0,l.Z)(r,c.FI,d.FI),(0,l.Z)(r,c.AR,d.AR),(0,l.Z)(r,c.SV,d.SV),(0,l.Z)(r,c.IT,d.IT),(0,l.Z)(r,c.PT,d.PT),(0,l.Z)(r,c.ZH,d.ZH),(0,l.Z)(r,c.JA,d.JA),(0,l.Z)(r,c.KO,d.KO),(0,l.Z)(r,c.HU,d.HU),(0,l.Z)(r,c.DA,d.DA),(0,l.Z)(r,c.RU,d.RU),i={},(0,l.Z)(i,c.EN,u.EN_US),(0,l.Z)(i,c.ES,u.ES),(0,l.Z)(i,c.FR,u.FR_CA),(0,l.Z)(i,c.NL,u.NL),(0,l.Z)(i,c.NO,u.NO),(0,l.Z)(i,c.DE,u.DE),(0,l.Z)(i,c.FI,u.FI_FI),(0,l.Z)(i,c.AR,u.AR_001),(0,l.Z)(i,c.SV,u.SV),(0,l.Z)(i,c.IT,u.IT),(0,l.Z)(i,c.PT,u.PT_PT),(0,l.Z)(i,c.ZH,u.ZH_TW),(0,l.Z)(i,c.JA,u.JA),(0,l.Z)(i,c.KO,u.KO),(0,l.Z)(i,c.HU,u.HU),(0,l.Z)(i,c.DA,u.DA),(0,l.Z)(i,c.RU,u.RU_RU),function(e){e.EN_US="English (USA)",e.EN_GB="English (Great Britain)",e.EN_CA="English (Canada)",e.FR_CA="French (Canada)",e.FR_FR="French (France)",e.ES="Spanish",e.NL="Dutch",e.NO="Norwegian",e.DE="German",e.FI_FI="Finnish",e.AR_001="Arabic (World)",e.SV="Swedish",e.IT="Italian",e.PT_PT="Portuguese (Portugal)",e.PT_BR="Portuguese (Brazil)",e.ZH_CN="Chinese Simplified",e.ZH_TW="Chinese Traditional",e.JA="Japanese",e.KO="Korean",e.HU="Hungarian",e.DA="Danish",e.RU_RU="Russian"}(f||(f={})),function(e){e.EN_US="English (USA)",e.EN_GB="English (Great Britain)",e.EN_CA="English (Canada)",e.FR_CA="Franais (Canada)",e.FR_FR="Franais (France)",e.ES="Espaol",e.NL="Nederlands",e.NO="Norsk",e.DE="Deutsch",e.FI_FI="Suomi",e.AR_100=" ",e.SV="Svenska",e.IT="Italiano",e.PT_PT="Portugus (Portugal)",e.PT_BR="Portugus (Brazil)",e.ZH_CN="",e.ZH_TW="",e.JA="",e.KO="",e.HU="Magyar",e.DA="Dansk",e.RU_RU=""}(m||(m={})),function(e){e.EN_US="English",e.EN_GB="English",e.EN_CA="English",e.FR_CA="French",e.FR_FR="French",e.ES="Spanish",e.NL="Dutch",e.NO="Norwegian",e.DE="German",e.FI_FI="Finnish",e.AR_001="Arabic",e.SV="Swedish",e.IT="Italian",e.PT_PT="Portuguese",e.PT_BR="Portuguese",e.ZH_CN="Chinese",e.ZH_TW="Chinese",e.JA="Japanese",e.KO="Korean",e.HU="Hungarian",e.DA="Danish",e.RU_RU="Russian"}(p||(p={})),a={},(0,l.Z)(a,u.EN_US,f.EN_US),(0,l.Z)(a,u.EN_GB,f.EN_GB),(0,l.Z)(a,u.EN_CA,f.EN_CA),(0,l.Z)(a,u.FR_CA,f.FR_CA),(0,l.Z)(a,u.FR_FR,f.FR_FR),(0,l.Z)(a,u.ES,f.ES),(0,l.Z)(a,u.NL,f.NL),(0,l.Z)(a,u.NO,f.NO),(0,l.Z)(a,u.DE,f.DE),(0,l.Z)(a,u.FI_FI,f.FI_FI),(0,l.Z)(a,u.AR_001,f.AR_001),(0,l.Z)(a,u.SV,f.SV),(0,l.Z)(a,u.IT,f.IT),(0,l.Z)(a,u.PT_PT,f.PT_PT),(0,l.Z)(a,u.PT_BR,f.PT_BR),(0,l.Z)(a,u.ZH_CN,f.ZH_CN),(0,l.Z)(a,u.ZH_TW,f.ZH_TW),(0,l.Z)(a,u.JA,f.JA),(0,l.Z)(a,u.KO,f.KO),(0,l.Z)(a,u.HU,f.HU),(0,l.Z)(a,u.DA,f.DA),(0,l.Z)(a,u.RU_RU,f.RU_RU),o={},(0,l.Z)(o,u.EN_US,p.EN_US),(0,l.Z)(o,u.EN_GB,p.EN_GB),(0,l.Z)(o,u.EN_CA,p.EN_CA),(0,l.Z)(o,u.FR_CA,p.FR_CA),(0,l.Z)(o,u.FR_FR,p.FR_FR),(0,l.Z)(o,u.ES,p.ES),(0,l.Z)(o,u.NL,p.NL),(0,l.Z)(o,u.NO,p.NO),(0,l.Z)(o,u.DE,p.DE),(0,l.Z)(o,u.FI_FI,p.FI_FI),(0,l.Z)(o,u.AR_001,p.AR_001),(0,l.Z)(o,u.SV,p.SV),(0,l.Z)(o,u.IT,p.IT),(0,l.Z)(o,u.PT_PT,p.PT_PT),(0,l.Z)(o,u.PT_BR,p.PT_BR),(0,l.Z)(o,u.ZH_CN,p.ZH_CN),(0,l.Z)(o,u.ZH_TW,p.ZH_TW),(0,l.Z)(o,u.JA,p.JA),(0,l.Z)(o,u.KO,p.KO),(0,l.Z)(o,u.HU,p.HU),(0,l.Z)(o,u.DA,p.DA),(0,l.Z)(o,u.RU_RU,p.RU_RU),s={},(0,l.Z)(s,u.EN_US,m.EN_US),(0,l.Z)(s,u.EN_GB,m.EN_GB),(0,l.Z)(s,u.EN_CA,m.EN_CA),(0,l.Z)(s,u.FR_CA,m.FR_CA),(0,l.Z)(s,u.FR_FR,m.FR_FR),(0,l.Z)(s,u.ES,m.ES),(0,l.Z)(s,u.NL,m.NL),(0,l.Z)(s,u.NO,m.NO),(0,l.Z)(s,u.DE,m.DE),(0,l.Z)(s,u.FI_FI,m.FI_FI),(0,l.Z)(s,u.AR_001,m.AR_100),(0,l.Z)(s,u.SV,m.SV),(0,l.Z)(s,u.IT,m.IT),(0,l.Z)(s,u.PT_PT,m.PT_PT),(0,l.Z)(s,u.PT_BR,m.PT_BR),(0,l.Z)(s,u.ZH_CN,m.ZH_CN),(0,l.Z)(s,u.ZH_TW,m.ZH_TW),(0,l.Z)(s,u.JA,m.JA),(0,l.Z)(s,u.KO,m.KO),(0,l.Z)(s,u.HU,m.HU),(0,l.Z)(s,u.DA,m.DA),(0,l.Z)(s,u.RU_RU,m.RU_RU),function(e){e.LONG="long",e.SHORT="short"}(v||(v={}))},47080:function(e,t,n){"use strict";var r,i,a;n.d(t,{yx:function(){return i}}),function(e){e[e.MIN=80]="MIN",e[e.MAX=250]="MAX"}(r||(r={})),function(e){e.NONE="none",e.HONOR="honor",e.MEMORY="memory"}(i||(i={})),function(e){e.POSTAL_CARD="card",e.LETTER="letter"}(a||(a={}))},80942:function(e,t,n){"use strict";var r,i,a,o,s,u,c,l;n.d(t,{WI:function(){return o},AZ:function(){return s}}),function(e){e.EMAIL="email",e.ADDRESS="address",e.NOT_SHARE="not_share"}(r||(r={})),function(e){e.RELATIVE="relative"}(i||(i={})),function(e){e.TWO_WEEKS="2weeks",e.ONE_MONTH="1month",e.THREE_MONTHS="3months"}(a||(a={})),function(e){e.ASC="asc",e.DESC="desc"}(o||(o={})),function(e){e.WITHOUT="without",e.SELECT="select"}(s||(s={})),function(e){e.MONTHLY="monthly",e.ONCE="one-time"}(u||(u={})),function(e){e.DEFAULT="default",e.BLUE="blue",e.RED="red",e.BLACK="black",e.ORANGE="orange",e.YELLOW="yellow"}(c||(c={})),function(e){e.ENABLED="enabled",e.DISABLED="disabled"}(l||(l={}))},22872:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans-arabic/ibm-plex-sans-arabic-v7-latin_arabic-100.1602d9294904065d41da.woff"},75455:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans-arabic/ibm-plex-sans-arabic-v7-latin_arabic-100.3dfa5e0208641702229d.woff2"},17853:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans-arabic/ibm-plex-sans-arabic-v7-latin_arabic-200.5c19fb217274f6a5e408.woff"},42060:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans-arabic/ibm-plex-sans-arabic-v7-latin_arabic-200.e253181f65af06d12169.woff2"},14317:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans-arabic/ibm-plex-sans-arabic-v7-latin_arabic-300.0a7b7f8656a6101f299c.woff"},64535:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans-arabic/ibm-plex-sans-arabic-v7-latin_arabic-300.5b4a0db766877ffce8fd.woff2"},48463:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans-arabic/ibm-plex-sans-arabic-v7-latin_arabic-500.c25ac893b9fd915a781b.woff"},30062:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans-arabic/ibm-plex-sans-arabic-v7-latin_arabic-500.6bfa7c2e6aabd3d863d9.woff2"},69180:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans-arabic/ibm-plex-sans-arabic-v7-latin_arabic-600.62ad5ee820ceafac9e10.woff"},60511:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans-arabic/ibm-plex-sans-arabic-v7-latin_arabic-600.6962453e98b05c138c4d.woff2"},6527:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans-arabic/ibm-plex-sans-arabic-v7-latin_arabic-700.2d45fc7a0e0e5d34013a.woff"},86703:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans-arabic/ibm-plex-sans-arabic-v7-latin_arabic-700.28064d407907887d4007.woff2"},38048:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans-arabic/ibm-plex-sans-arabic-v7-latin_arabic-regular.cd0d70fceacc37561597.woff"},64204:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans-arabic/ibm-plex-sans-arabic-v7-latin_arabic-regular.58c5172c3cd2caeecdb2.woff2"},33332:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-100.b9a7f80d24e6b33969ab.woff"},52297:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-100.b1e927fa6c9e0e17a566.woff2"},4645:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-100italic.7bc62f994adc1c40d47d.woff"},51366:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-100italic.6c223a61db0c30977b6a.woff2"},45077:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-200.405dfd4134be9f059d1f.woff"},96010:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-200.84f0666a3aada125493b.woff2"},11855:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-200italic.2c8313118ba61b663e79.woff"},54427:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-200italic.0c4f963e6bdfa2e90887.woff2"},17144:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-300.c63ea762193d5c90bc6e.woff"},89001:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-300.18af0386fbc300c30bc0.woff2"},91264:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-300italic.90201acb4e5591c63a80.woff"},55182:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-300italic.73b58b83694bc1e93736.woff2"},98082:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-500.d94eaadc1070343e6d33.woff"},24906:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-500.e17268930006027a6a07.woff2"},54537:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-500italic.7b3ea3d6caf0f3a68b62.woff"},57295:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-500italic.067204f30a09d7d17ff9.woff2"},16217:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-600.6a83ec5143b3476f0a22.woff"},64949:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-600.60bddc71096815d0d15a.woff2"},93061:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-600italic.e4a17b132ed8f434d89d.woff"},40555:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-600italic.313c20b3e284c02af745.woff2"},64475:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-700.358bfd995d5488cfeb44.woff"},46508:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-700.a858bab2f594ef47e251.woff2"},96838:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-700italic.bd51b2cd19b974f07c40.woff"},60979:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-700italic.c1ca7861fd408c55b05d.woff2"},89288:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-italic.b470ed42c231fd0793a0.woff"},55942:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-italic.ae0df2d584fc405fdb31.woff2"},258:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-regular.c493df9d423fa3cc5d89.woff"},25182:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/ibm-plex-sans/ibm-plex-sans-v8-vietnamese_latin-ext_latin_greek_cyrillic-ext_cyrillic-regular.c4db12b4fb0be67f4f37.woff2"},9997:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/sacramento/sacramento-v12-latin-ext_latin-regular.9e067f5a9c1482eb1f4e.woff"},6786:function(e,t,n){"use strict";e.exports=n.p+"src/fonts/sacramento/sacramento-v12-latin-ext_latin-regular.3e68e132fecb3a99bd30.woff2"},10763:function(e){"use strict";e.exports=JSON.parse('{"u":"URL","ck":"companyKey","cd":"clientId","ct":"clientTime","cz":"clientTimeZone","lo":"clientLocale","ek":"elementKey","el":"elementLocale","er":"elementReminderKey","ey":"elementType","ep":"elementParams","et":"eventType","te":"customEventType","ev":"customEventData","ed":"elementData","eg":"eventTags","pv":"pageViewId","pl":"pageViewLifetime","r":"referer","rh":"resolutionHeight","rw":"resolutionWidth","t":"title","hl":"uaHistoryLength","wk":"widgetKey","wh":"windowHeight","wx":"windowScrollX","wy":"windowScrollY","ww":"windowWidth","cv":"checkoutViewId","ce":"checkoutError","co":"checkoutOpenTime","cl":"checkoutLifetime","cs":"checkoutScreen","sd":"checkoutScreenData","cc":"checkoutClickElement","fp":"clickDOMPath","fh":"clickAHref","ft":"clickText","dk":"chargeCampaignKey","dd":"chargeKey","du":"chargeInUSDAmount","di":"chargeInDefaultCurrencyAmount","da":"chargeAmount","dc":"chargeCurrency","df":"chargeFeeCovered","dm":"chargePaymentMethod","dr":"chargeIsRecurring","dn":"chargeHasComment","dh":"chargeHasTribute","dg":"chargeGoal","st":"splitTestName","sv":"splitTestVariant","up":"uaFingerprint","pm":"paymentMethod","ws":"widgetSession","lm":"livemode","fv":"funSnippetVersion","fe":"funEmbedRelease","lc":"checkoutLocale","cr":"checkoutIsRecurring","cy":"checkoutCurrency","ca":"checkoutAmount","cu":"checkoutInUSDAmount","yr":"checkoutCurrencyRate","fa":"checkoutDefaultAmount","cp":"checkoutPresets","ps":"pageScripts","ol":"clientOnLine","dt":"clientDoNotTrack","pr":"clientDevicePixelRatio","rm":"clientDeviceMemory","hc":"clientHardwareConcurrency","nt":"clientConnectionType","nd":"clientConnectionDownlink","nr":"clientConnectionRTT","ne":"clientConnectionEffectiveType","bc":"clientBatteryCharging","bt":"clientBatteryChargingTime","bd":"clientBatteryDischargingTime","bl":"clientBatteryLevel","de":"dataLayerEventName","dp":"dataLayerParams","fn":"pixelEventName","fs":"pixelEventData","gk":"fundraisingGroupKey","pk":"fundraisingPageKey","pc":"fundraisingPageCustomerKey","ec":"eventComment","ba":"uaIsInApp","uw":"uaWebdriver","rd":"duration","se":"source","sk":"supporterKey","ak":"agentKey","pu":"pointingDeviceIsUsed"}')},61695:function(e){"use strict";e.exports=JSON.parse('{"BTC":{"name":"Bitcoin","code":"BTC","symbol":"","digits":8,"network":"bitcoin","provider":["gemini","coinbaseCommerce"],"protocol":"","networkName":"Bitcoin","coin":true},"ETH":{"name":"Ethereum","code":"ETH","symbol":"","digits":8,"network":"ethereum","provider":["gemini","coinbaseCommerce"],"protocol":"ERC-20","networkName":"Ethereum","coin":true},"USDT":{"name":"Tether USD","code":"USDT","symbol":"","digits":8,"network":"ethereum","provider":["coinbaseCommerce"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"USDC":{"name":"USD Coin","code":"USDC","symbol":"","digits":8,"network":"ethereum","provider":["gemini","coinbaseCommerce"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"SOL":{"name":"Solana","code":"SOL","symbol":"","digits":8,"network":"solana","provider":["gemini"],"protocol":"","networkName":"Solana","coin":true},"DOT":{"name":"Polkadot","code":"DOT","symbol":"","digits":8,"network":"polkadot","provider":["gemini"],"protocol":"","networkName":"Polkadot","coin":true},"DOGE":{"name":"Dogecoin","code":"DOGE","symbol":"","digits":8,"network":"dogecoin","provider":["gemini","coinbaseCommerce"],"protocol":"","networkName":"Dogecoin","coin":true},"MATIC":{"name":"Polygon","code":"MATIC","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"DAI":{"name":"Dai","code":"DAI","symbol":"","digits":8,"network":"ethereum","provider":["gemini","coinbaseCommerce"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"SHIB":{"name":"Shiba Inu","code":"SHIB","symbol":"","digits":8,"network":"ethereum","provider":["gemini","coinbaseCommerce"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"LTC":{"name":"Litecoin","code":"LTC","symbol":"","digits":8,"network":"litecoin","provider":["gemini","coinbaseCommerce"],"protocol":"","networkName":"Litecoin","coin":true},"BCH":{"name":"Bitcoin Cash","code":"BCH","symbol":"","digits":8,"network":"bitcoincash","provider":["gemini","coinbaseCommerce"],"protocol":"","networkName":"Bitcoin Cash","coin":true},"APE":{"name":"ApeCoin","code":"APE","symbol":"","digits":8,"network":"ethereum","provider":["gemini","coinbaseCommerce"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"XTZ":{"name":"Tezos","code":"XTZ","symbol":"","digits":8,"network":"tezos","provider":["gemini"],"protocol":"","networkName":"Tezos","coin":true},"AAVE":{"name":"Aave","code":"AAVE","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"1INCH":{"name":"1inch","code":"1INCH","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ALCX":{"name":"Alchemix","code":"ALCX","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ALI":{"name":"Alethea AI","code":"ALI","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"AMP":{"name":"Amp","code":"AMP","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ANKR":{"name":"Ankr Network","code":"ANKR","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"API3":{"name":"API3","code":"API3","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ASH":{"name":"Burn","code":"ASH","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"AUDIO":{"name":"Audius","code":"AUDIO","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"AXS":{"name":"Axie Infinity","code":"AXS","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"BAL":{"name":"Balancer","code":"BAL","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"BAT":{"name":"Basic Attention Token","code":"BAT","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"BNT":{"name":"Bancor Network","code":"BNT","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"BOND":{"name":"BarnBridge","code":"BOND","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"BTCG":{"name":"Bitcoin Galaxy","code":"BTCG","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"CHZ":{"name":"Chiliz","code":"CHZ","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"COMP":{"name":"Compound","code":"COMP","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"CRV":{"name":"Curve","code":"CRV","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"CTX":{"name":"Cryptex Finance","code":"CTX","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"CUBE":{"name":"Somnium Space","code":"CUBE","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"CVC":{"name":"Civic","code":"CVC","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"DPI":{"name":"DeFi Pulse Index","code":"DPI","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"EFIL":{"name":"Ethereum Wrapped Filecoin","code":"EFIL","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ELON":{"name":"Dogelon Mars","code":"ELON","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ENJ":{"name":"Enjin Coin","code":"ENJ","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ENS":{"name":"Ethereum Name Service","code":"ENS","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ERN":{"name":"Ethernity Chain","code":"ERN","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ETHG":{"name":"Ethereum Gold","code":"ETHG","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"FET":{"name":"Fetch.ai","code":"FET","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"FIDA":{"name":"Bonfida","code":"FIDA","symbol":"","digits":8,"network":"solana","provider":["gemini"],"protocol":"","networkName":"Solana","coin":false},"FIL":{"name":"Filecoin","code":"FIL","symbol":"","digits":8,"network":"filecoin","provider":["gemini"],"protocol":"","networkName":"Filecoin","coin":true},"FRAX":{"name":"Frax","code":"FRAX","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"FTM":{"name":"Fantom","code":"FTM","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"FXS":{"name":"Frax Share","code":"FXS","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"GALA":{"name":"Gala","code":"GALA","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"GMT":{"name":"STEPN","code":"GMT","symbol":"","digits":8,"network":"solana","provider":["gemini"],"protocol":"","networkName":"Solana","coin":false},"GFI":{"name":"Goldfinch","code":"GFI","symbol":"","digits":8,"network":"solana","provider":["gemini"],"protocol":"","networkName":"Solana","coin":false},"GRT":{"name":"The Graph","code":"GRT","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"GUSD":{"name":"Gemini dollar","code":"GUSD","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"INDEX":{"name":"Index Cooperative","code":"INDEX","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"INJ":{"name":"Injective","code":"INJ","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"JAM":{"name":"Geojam","code":"JAM","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"KNC":{"name":"Kyber Network","code":"KNC","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"KP3R":{"name":"Keep3rV1","code":"KP3R","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"LDO":{"name":"Lido DAO Token","code":"LDO","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"LINK":{"name":"Chainlink","code":"LINK","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"LPT":{"name":"Livepeer","code":"LPT","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"LRC":{"name":"Loopring","code":"LRC","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"LUNA":{"name":"Terra","code":"LUNA","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"LUSD":{"name":"Liquity USD","code":"LUSD","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"LQTY":{"name":"Liquity","code":"LQTY","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"MANA":{"name":"Decentraland","code":"MANA","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"MASK":{"name":"Mask Network","code":"MASK","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"MC":{"name":"Merit Circle","code":"MC","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"MCO2":{"name":"Moss Carbon Credit","code":"MCO2","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"METIS":{"name":"Metis","code":"METIS","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"MIM":{"name":"Magic Internet Money","code":"MIM","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"MIR":{"name":"Mirror Protocol","code":"MIR","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"MKR":{"name":"Maker","code":"MKR","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"MPL":{"name":"Maple Finance","code":"MPL","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"NMR":{"name":"Numeraire","code":"NMR","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"OXT":{"name":"Orchid","code":"OXT","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ORCA":{"name":"Orca","code":"ORCA","symbol":"","digits":8,"network":"solana","provider":["gemini"],"protocol":"","networkName":"Solana","coin":false},"PAXG":{"name":"PAX Gold","code":"PAXG","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"QNT":{"name":"Quant","code":"QNT","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"QRDO":{"name":"Qredo","code":"QRDO","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"RAD":{"name":"Radicle","code":"RAD","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"RARE":{"name":"SuperRare","code":"RARE","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"RAY":{"name":"Raydium","code":"RAY","symbol":"","digits":8,"network":"solana","provider":["gemini"],"protocol":"","networkName":"Solana","coin":false},"REN":{"name":"Ren","code":"REN","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"REVV":{"name":"REVV","code":"REVV","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"RBN":{"name":"Ribbon Finance","code":"RBN","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"RLY":{"name":"Rally","code":"RLY","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"RNDR":{"name":"Render Token","code":"RNDR","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"SAND":{"name":"The Sandbox","code":"SAND","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"SBR":{"name":"Saber","code":"SBR","symbol":"","digits":8,"network":"solana","provider":["gemini"],"protocol":"","networkName":"Solana","coin":false},"SKL":{"name":"Skale","code":"SKL","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"SLP":{"name":"Smooth Love Potion","code":"SLP","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"SNX":{"name":"Synthetix","code":"SNX","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"SPELL":{"name":"Spell Token","code":"SPELL","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"STORJ":{"name":"Storj","code":"STORJ","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"SUSHI":{"name":"SushiSwap","code":"SUSHI","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"TOKE":{"name":"Tokemak","code":"TOKE","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"TRU":{"name":"TrueFi","code":"TRU","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"UMA":{"name":"Uma","code":"UMA","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"UNI":{"name":"Uniswap","code":"UNI","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"UST":{"name":"TerraUSD","code":"UST","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"WCFG":{"name":"Wrapped Centrifuge","code":"WCFG","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"YFI":{"name":"Yearn.finance","code":"YFI","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false},"ZBC":{"name":"Zebec Protocol","code":"ZBC","symbol":"","digits":8,"network":"solana","provider":["gemini"],"protocol":"","networkName":"Solana","coin":false},"ZEC":{"name":"Zcash","code":"ZEC","symbol":"","digits":8,"network":"zcash","provider":["gemini"],"protocol":"","networkName":"Zcash","coin":true},"ZRX":{"name":"0x","code":"ZRX","symbol":"","digits":8,"network":"ethereum","provider":["gemini"],"protocol":"ERC-20","networkName":"Ethereum","coin":false}}')},76271:function(e){"use strict";e.exports=JSON.parse('{"SHP":{"name":"St. Helena Pound","code":"SHP","symbol":"","digits":2},"EUR":{"name":"Euro","code":"EUR","symbol":"","digits":2},"AED":{"name":"United Arab Emirates Dirham","code":"AED","symbol":"","digits":2},"AFN":{"name":"Afghan Afghani","code":"AFN","symbol":"","digits":2},"XCD":{"name":"East Caribbean Dollar","code":"XCD","symbol":"$","digits":2},"ALL":{"name":"Albanian Lek","code":"ALL","symbol":"","digits":2},"AMD":{"name":"Armenian Dram","code":"AMD","symbol":"","digits":2},"AOA":{"name":"Angolan Kwanza","code":"AOA","symbol":"Kz","digits":2},"ARS":{"name":"Argentine Peso","code":"ARS","symbol":"$","digits":2},"USD":{"name":"US Dollar","code":"USD","symbol":"$","digits":2},"AUD":{"name":"Australian Dollar","code":"AUD","symbol":"$","digits":2},"ANG":{"name":"Netherlands Antillean Guilder","code":"ANG","symbol":"","digits":2},"AWG":{"name":"Aruban Florin","code":"AWG","symbol":"","digits":2},"AZN":{"name":"Azerbaijani Manat","code":"AZN","symbol":"","digits":2},"BAM":{"name":"Bosnia-Herzegovina Convertible Mark","code":"BAM","symbol":"KM","digits":2},"BBD":{"name":"Barbadian Dollar","code":"BBD","symbol":"$","digits":2},"INR":{"name":"Indian Rupee","code":"INR","symbol":"","digits":2},"PKR":{"name":"Pakistani Rupee","code":"PKR","symbol":"Rs","digits":2},"BDT":{"name":"Bangladeshi Taka","code":"BDT","symbol":"","digits":2},"XOF":{"name":"West African CFA Franc","code":"XOF","symbol":"","digits":0},"BGN":{"name":"Bulgarian Lev","code":"BGN","symbol":"","digits":2},"BIF":{"name":"Burundian Franc","code":"BIF","symbol":"","digits":0},"BMD":{"name":"Bermudan Dollar","code":"BMD","symbol":"$","digits":2},"MYR":{"name":"Malaysian Ringgit","code":"MYR","symbol":"RM","digits":2},"BND":{"name":"Brunei Dollar","code":"BND","symbol":"$","digits":2},"BOB":{"name":"Bolivian Boliviano","code":"BOB","symbol":"Bs","digits":2},"BRL":{"name":"Brazilian Real","code":"BRL","symbol":"R$","digits":2},"BSD":{"name":"Bahamian Dollar","code":"BSD","symbol":"$","digits":2},"NOK":{"name":"Norwegian Krone","code":"NOK","symbol":"kr","digits":2},"ZAR":{"name":"South African Rand","code":"ZAR","symbol":"R","digits":2},"BWP":{"name":"Botswanan Pula","code":"BWP","symbol":"P","digits":2},"BZD":{"name":"Belize Dollar","code":"BZD","symbol":"$","digits":2},"CAD":{"name":"Canadian Dollar","code":"CAD","symbol":"$","digits":2},"CDF":{"name":"Congolese Franc","code":"CDF","symbol":"","digits":2},"XAF":{"name":"Central African CFA Franc","code":"XAF","symbol":"","digits":0},"CHF":{"name":"Swiss Franc","code":"CHF","symbol":"Fr","digits":2},"NZD":{"name":"New Zealand Dollar","code":"NZD","symbol":"$","digits":2},"CLP":{"name":"Chilean Peso","code":"CLP","symbol":"$","digits":0},"CNY":{"name":"Chinese Yuan","code":"CNY","symbol":"","digits":2},"COP":{"name":"Colombian Peso","code":"COP","symbol":"$","digits":2},"CRC":{"name":"Costa Rican Coln","code":"CRC","symbol":"","digits":2},"CVE":{"name":"Cape Verdean Escudo","code":"CVE","symbol":"","digits":2},"CZK":{"name":"Czech Koruna","code":"CZK","symbol":"K","digits":2},"DJF":{"name":"Djiboutian Franc","code":"DJF","symbol":"","digits":0},"DKK":{"name":"Danish Krone","code":"DKK","symbol":"kr","digits":2},"DOP":{"name":"Dominican Peso","code":"DOP","symbol":"$","digits":2},"DZD":{"name":"Algerian Dinar","code":"DZD","symbol":"","digits":2},"EGP":{"name":"Egyptian Pound","code":"EGP","symbol":"E","digits":2},"MAD":{"name":"Moroccan Dirham","code":"MAD","symbol":"","digits":2},"ETB":{"name":"Ethiopian Birr","code":"ETB","symbol":"","digits":2},"FJD":{"name":"Fijian Dollar","code":"FJD","symbol":"$","digits":2},"FKP":{"name":"Falkland Islands Pound","code":"FKP","symbol":"","digits":2},"JPY":{"name":"Japanese Yen","code":"JPY","symbol":"","digits":0},"GBP":{"name":"British Pound","code":"GBP","symbol":"","digits":2},"GEL":{"name":"Georgian Lari","code":"GEL","symbol":"","digits":2},"GIP":{"name":"Gibraltar Pound","code":"GIP","symbol":"","digits":2},"GMD":{"name":"Gambian Dalasi","code":"GMD","symbol":"","digits":2},"GNF":{"name":"Guinean Franc","code":"GNF","symbol":"FG","digits":0},"GTQ":{"name":"Guatemalan Quetzal","code":"GTQ","symbol":"Q","digits":2},"GYD":{"name":"Guyanaese Dollar","code":"GYD","symbol":"$","digits":2},"HKD":{"name":"Hong Kong Dollar","code":"HKD","symbol":"$","digits":2},"HNL":{"name":"Honduran Lempira","code":"HNL","symbol":"L","digits":2},"HRK":{"name":"Croatian Kuna","code":"HRK","symbol":"kn","digits":2},"HTG":{"name":"Haitian Gourde","code":"HTG","symbol":"","digits":2},"HUF":{"name":"Hungarian Forint","code":"HUF","symbol":"Ft","digits":2},"IDR":{"name":"Indonesian Rupiah","code":"IDR","symbol":"Rp","digits":2},"ILS":{"name":"Israeli New Shekel","code":"ILS","symbol":"","digits":2},"ISK":{"name":"Icelandic Krna","code":"ISK","symbol":"kr","digits":2},"JMD":{"name":"Jamaican Dollar","code":"JMD","symbol":"$","digits":2},"KES":{"name":"Kenyan Shilling","code":"KES","symbol":"","digits":2},"KGS":{"name":"Kyrgystani Som","code":"KGS","symbol":"","digits":2},"KHR":{"name":"Cambodian Riel","code":"KHR","symbol":"","digits":2},"KMF":{"name":"Comorian Franc","code":"KMF","symbol":"CF","digits":0},"KRW":{"name":"South Korean Won","code":"KRW","symbol":"","digits":0},"KYD":{"name":"Cayman Islands Dollar","code":"KYD","symbol":"$","digits":2},"KZT":{"name":"Kazakhstani Tenge","code":"KZT","symbol":"","digits":2},"LAK":{"name":"Laotian Kip","code":"LAK","symbol":"","digits":2},"LBP":{"name":"Lebanese Pound","code":"LBP","symbol":"L","digits":2},"LKR":{"name":"Sri Lankan Rupee","code":"LKR","symbol":"Rs","digits":2},"LRD":{"name":"Liberian Dollar","code":"LRD","symbol":"$","digits":2},"LSL":{"name":"Lesotho Loti","code":"LSL","symbol":"","digits":2},"MDL":{"name":"Moldovan Leu","code":"MDL","symbol":"","digits":2},"MGA":{"name":"Malagasy Ariary","code":"MGA","symbol":"Ar","digits":0},"MKD":{"name":"Macedonian Denar","code":"MKD","symbol":"","digits":2},"MMK":{"name":"Myanmar Kyat","code":"MMK","symbol":"K","digits":2},"MNT":{"name":"Mongolian Tugrik","code":"MNT","symbol":"","digits":2},"MOP":{"name":"Macanese Pataca","code":"MOP","symbol":"","digits":2},"MRO":{"name":"Mauritanian Ouguiya (19732017)","code":"MRO","symbol":"","digits":2},"MUR":{"name":"Mauritian Rupee","code":"MUR","symbol":"Rs","digits":2},"MVR":{"name":"Maldivian Rufiyaa","code":"MVR","symbol":"","digits":2},"MWK":{"name":"Malawian Kwacha","code":"MWK","symbol":"","digits":2},"MXN":{"name":"Mexican Peso","code":"MXN","symbol":"$","digits":2},"MZN":{"name":"Mozambican Metical","code":"MZN","symbol":"","digits":2},"NAD":{"name":"Namibian Dollar","code":"NAD","symbol":"$","digits":2},"XPF":{"name":"CFP Franc","code":"XPF","symbol":"","digits":0},"NGN":{"name":"Nigerian Naira","code":"NGN","symbol":"","digits":2},"NIO":{"name":"Nicaraguan Crdoba","code":"NIO","symbol":"C$","digits":2},"SEK":{"name":"Swedish Krona","code":"SEK","symbol":"kr","digits":2},"NPR":{"name":"Nepalese Rupee","code":"NPR","symbol":"Rs","digits":2},"PAB":{"name":"Panamanian Balboa","code":"PAB","symbol":"","digits":2},"PEN":{"name":"Peruvian Sol","code":"PEN","symbol":"","digits":2},"PGK":{"name":"Papua New Guinean Kina","code":"PGK","symbol":"","digits":2},"PHP":{"name":"Philippine Piso","code":"PHP","symbol":"","digits":2},"PLN":{"name":"Polish Zloty","code":"PLN","symbol":"z","digits":2},"PYG":{"name":"Paraguayan Guarani","code":"PYG","symbol":"","digits":0},"QAR":{"name":"Qatari Rial","code":"QAR","symbol":"","digits":2},"RON":{"name":"Romanian Leu","code":"RON","symbol":"lei","digits":2},"RSD":{"name":"Serbian Dinar","code":"RSD","symbol":"","digits":2},"RUB":{"name":"Russian Ruble","code":"RUB","symbol":"","digits":2},"RWF":{"name":"Rwandan Franc","code":"RWF","symbol":"RF","digits":0},"SAR":{"name":"Saudi Riyal","code":"SAR","symbol":"","digits":2},"SBD":{"name":"Solomon Islands Dollar","code":"SBD","symbol":"$","digits":2},"SCR":{"name":"Seychellois Rupee","code":"SCR","symbol":"","digits":2},"SGD":{"name":"Singapore Dollar","code":"SGD","symbol":"$","digits":2},"SLL":{"name":"Sierra Leonean Leone","code":"SLL","symbol":"","digits":2},"SOS":{"name":"Somali Shilling","code":"SOS","symbol":"","digits":2},"SRD":{"name":"Surinamese Dollar","code":"SRD","symbol":"$","digits":2},"STD":{"name":"So Tom & Prncipe Dobra (19772017)","code":"STD","symbol":"","digits":2},"SVC":{"name":"Salvadoran Coln","code":"SVC","symbol":"","digits":2},"SZL":{"name":"Swazi Lilangeni","code":"SZL","symbol":"","digits":2},"THB":{"name":"Thai Baht","code":"THB","symbol":"","digits":2},"TJS":{"name":"Tajikistani Somoni","code":"TJS","symbol":"","digits":2},"TOP":{"name":"Tongan Paanga","code":"TOP","symbol":"T$","digits":2},"TRY":{"name":"Turkish Lira","code":"TRY","symbol":"","digits":2},"TTD":{"name":"Trinidad & Tobago Dollar","code":"TTD","symbol":"$","digits":2},"TWD":{"name":"New Taiwan Dollar","code":"TWD","symbol":"$","digits":2},"TZS":{"name":"Tanzanian Shilling","code":"TZS","symbol":"","digits":2},"UAH":{"name":"Ukrainian Hryvnia","code":"UAH","symbol":"","digits":2},"UYU":{"name":"Uruguayan Peso","code":"UYU","symbol":"$","digits":2},"UZS":{"name":"Uzbekistani Som","code":"UZS","symbol":"","digits":2},"VND":{"name":"Vietnamese Dong","code":"VND","symbol":"","digits":0},"VUV":{"name":"Vanuatu Vatu","code":"VUV","symbol":"","digits":0},"WST":{"name":"Samoan Tala","code":"WST","symbol":"","digits":2},"YER":{"name":"Yemeni Rial","code":"YER","symbol":"","digits":2},"ZMW":{"name":"Zambian Kwacha","code":"ZMW","symbol":"ZK","digits":2}}')},59222:function(e){"use strict";e.exports=JSON.parse('{"AC":["SHP"],"AD":["EUR"],"AE":["AED"],"AF":["AFN"],"AG":["XCD"],"AI":["XCD"],"AL":["ALL"],"AM":["AMD"],"AO":["AOA"],"AR":["ARS"],"AS":["USD"],"AT":["EUR"],"AU":["AUD"],"AW":["AWG","ANG"],"AX":["EUR"],"AZ":["AZN"],"BA":["BAM"],"BB":["BBD","XCD"],"BD":["BDT","PKR","INR"],"BE":["EUR"],"BF":["XOF"],"BG":["BGN","EUR"],"BI":["BIF"],"BJ":["XOF"],"BL":["EUR"],"BM":["BMD"],"BN":["BND","MYR"],"BO":["BOB"],"BQ":["USD","ANG"],"BR":["BRL"],"BS":["BSD"],"BT":["INR"],"BV":["NOK"],"BW":["BWP","ZAR"],"BZ":["BZD"],"CA":["CAD","USD"],"CC":["AUD"],"CD":["CDF"],"CF":["XAF"],"CG":["XAF"],"CH":["CHF"],"CI":["XOF"],"CK":["NZD"],"CL":["CLP"],"CM":["XAF"],"CN":["CNY"],"CO":["COP"],"CR":["CRC"],"CS":["EUR"],"CU":["USD"],"CV":["CVE"],"CW":["ANG"],"CX":["AUD"],"CY":["EUR"],"CZ":["CZK","EUR"],"DE":["EUR"],"DG":["USD"],"DJ":["DJF"],"DK":["DKK","EUR"],"DM":["XCD"],"DO":["DOP","USD"],"DZ":["DZD"],"EA":["EUR"],"EC":["USD"],"EE":["EUR"],"EG":["EGP"],"EH":["MAD"],"ER":["ETB"],"ES":["EUR"],"ET":["ETB"],"EU":["EUR"],"FI":["EUR"],"FJ":["FJD"],"FK":["FKP"],"FM":["USD","JPY"],"FO":["DKK"],"FR":["EUR"],"GA":["XAF"],"GB":["GBP","EUR"],"GD":["XCD"],"GE":["GEL"],"GF":["EUR"],"GG":["GBP"],"GI":["GIP"],"GL":["DKK"],"GM":["GMD"],"GN":["GNF"],"GP":["EUR"],"GQ":["XAF"],"GR":["EUR"],"GS":["GBP"],"GT":["GTQ"],"GU":["USD"],"GW":["XOF"],"GY":["GYD"],"HK":["HKD"],"HM":["AUD"],"HN":["HNL"],"HR":["HRK","EUR"],"HT":["USD","HTG"],"HU":["HUF","EUR"],"IC":["EUR"],"ID":["IDR"],"IE":["EUR","GBP"],"IL":["ILS"],"IM":["GBP"],"IN":["INR"],"IO":["USD"],"IQ":["INR","EGP"],"IS":["ISK","DKK"],"IT":["EUR"],"JE":["GBP"],"JM":["JMD"],"JP":["JPY"],"KE":["KES"],"KG":["KGS"],"KH":["KHR"],"KI":["AUD"],"KM":["KMF"],"KN":["XCD"],"KR":["KRW"],"KY":["KYD","JMD"],"KZ":["KZT"],"LA":["LAK"],"LB":["LBP"],"LC":["XCD"],"LI":["CHF"],"LK":["LKR"],"LR":["LRD"],"LS":["LSL","ZAR"],"LT":["EUR"],"LU":["EUR"],"LV":["EUR"],"MA":["MAD"],"MC":["EUR"],"MD":["MDL"],"ME":["EUR"],"MF":["EUR"],"MG":["MGA"],"MH":["USD"],"MK":["MKD"],"ML":["XOF","XOF"],"MM":["MMK"],"MN":["MNT"],"MO":["MOP"],"MP":["USD"],"MQ":["EUR"],"MR":["MRO","XOF"],"MS":["XCD"],"MT":["EUR"],"MU":["MUR"],"MV":["MVR"],"MW":["MWK"],"MX":["MXN","USD"],"MY":["MYR"],"MZ":["MZN"],"NA":["NAD","ZAR"],"NC":["XPF"],"NE":["XOF"],"NF":["AUD"],"NG":["NGN"],"NI":["NIO"],"NL":["EUR"],"NO":["NOK","SEK","EUR"],"NP":["NPR","INR"],"NR":["AUD"],"NU":["NZD"],"NZ":["NZD"],"PA":["USD","PAB"],"PE":["PEN"],"PF":["XPF"],"PG":["PGK","AUD"],"PH":["PHP"],"PK":["PKR","INR"],"PL":["PLN","EUR"],"PM":["EUR"],"PN":["NZD"],"PR":["USD"],"PS":["ILS"],"PT":["EUR"],"PW":["USD"],"PY":["PYG"],"QA":["QAR"],"RE":["EUR"],"RO":["RON","EUR"],"RS":["RSD"],"RU":["RUB","EUR"],"RW":["RWF"],"SA":["SAR"],"SB":["SBD","AUD"],"SC":["SCR"],"SD":["GBP","EGP"],"SE":["SEK","EUR"],"SG":["SGD","MYR"],"SH":["SHP"],"SI":["EUR"],"SJ":["NOK"],"SK":["EUR"],"SL":["SLL","GBP"],"SM":["EUR"],"SN":["XOF"],"SO":["SOS"],"SR":["SRD"],"ST":["STD"],"SV":["USD","SVC"],"SX":["ANG"],"SZ":["SZL"],"TA":["GBP"],"TC":["USD"],"TD":["XAF"],"TF":["EUR"],"TG":["XOF"],"TH":["THB"],"TJ":["TJS"],"TK":["NZD"],"TL":["USD","IDR"],"TO":["TOP"],"TP":["IDR"],"TR":["TRY"],"TT":["TTD"],"TV":["AUD"],"TW":["TWD"],"TZ":["TZS"],"UA":["UAH","EUR"],"UM":["USD"],"US":["USD"],"UY":["UYU"],"UZ":["UZS"],"VA":["EUR"],"VC":["XCD"],"VG":["GBP","USD"],"VI":["USD"],"VN":["VND"],"VU":["VUV"],"WF":["XPF"],"WS":["WST"],"XK":["EUR"],"YE":["YER"],"YT":["EUR","KMF"],"ZA":["ZAR"],"ZM":["ZMW"],"ZW":["USD"]}')},43948:function(e){"use strict";e.exports=JSON.parse('{"name":"ACH","provider":"stripe","subscription":true,"donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"minAmount":{"size":9500,"currency":"USD"}},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]}}')},68984:function(e){"use strict";e.exports=JSON.parse('{"name":"ACSS","provider":"stripe","subscription":true,"donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":["CAD"],"companyCountry":["CA"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["CAD"],"companyCountry":["CA"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"minAmount":{"size":1500,"currency":"CAD"}},"currency":["CAD"],"companyCountry":["CA"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["CAD"],"companyCountry":["CA"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]}}')},76826:function(e){"use strict";e.exports=JSON.parse('{"name":"Apple Pay","provider":"stripe","subscription":true,"donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{},"widget":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{}}')},69455:function(e){"use strict";e.exports=JSON.parse('{"name":"BECS Direct Debit","provider":"stripe","subscription":true,"donorPortalSubscriptionEditor":{"amount":{"minAmount":{"size":200,"currency":"AUD"}},"currency":["AUD"],"companyCountry":["AU"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["AUD"],"companyCountry":["AU"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"minAmount":{"size":200,"currency":"AUD"}},"currency":["AUD"],"companyCountry":["AU"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["AUD"],"companyCountry":["AU"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":false},"repeat":["once","weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]}}')},23539:function(e){"use strict";e.exports=JSON.parse('{"name":"Click to Pay","provider":"stripe","subscription":true,"donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{},"widget":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{}}')},3243:function(e){"use strict";e.exports=JSON.parse('{"name":"Credit Card","provider":"stripe","subscription":true,"donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]}}')},35655:function(e){"use strict";e.exports=JSON.parse('{"name":"Crypto","provider":"gemini","subscription":false,"donorPortalSubscriptionEditor":{},"dashboardSubscriptionEditor":{},"widget":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once"]},"virtualTerminal":{}}')},25197:function(e){"use strict";e.exports=JSON.parse('{"name":"Google Pay","provider":"stripe","subscription":true,"donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{},"widget":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{}}')},64006:function(e){"use strict";e.exports=JSON.parse('{"name":"iDEAL","provider":"stripe","subscription":true,"donorPortalSubscriptionEditor":{"amount":{"minAmount":{"size":200,"currency":"EUR"}},"currency":["EUR"],"companyCountry":["AT","BE","CY","EE","FI","FR","DE","GR","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SG","SK","SI","ES","SE"],"customerCountry":["NL"],"email":{"required":true},"address":{"required":false},"repeat":["once","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{},"widget":{"amount":{"minAmount":{"size":200,"currency":"EUR"}},"currency":["EUR"],"companyCountry":["AT","BE","CY","EE","FI","FR","DE","GR","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SG","SK","SI","ES","SE"],"customerCountry":["NL"],"email":{"required":true},"address":{"required":false},"repeat":["once","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{}}')},45435:function(e){"use strict";e.exports=JSON.parse('{"name":"PayPal","provider":"paypal","subscription":false,"donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once"]},"virtualTerminal":{}}')},90121:function(e){"use strict";e.exports=JSON.parse('{"name":"PayPal","provider":"paypal","subscription":true,"donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","daily","weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{}}')},32449:function(e){"use strict";e.exports=JSON.parse('{"name":"Plaid","provider":"stripe","subscription":true,"donorPortalSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{}}')},88403:function(e){"use strict";e.exports=JSON.parse('{"name":"SEPA Direct Debit","provider":"stripe","subscription":true,"donorPortalSubscriptionEditor":{"amount":{"minAmount":{"size":200,"currency":"EUR"}},"currency":["EUR"],"repeat":["once","monthly","bimonthly","quarterly","semiannual","annual"],"companyCountry":["AT","BE","CY","EE","FI","FR","DE","GR","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SG","SK","SI","ES","SE"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":true}},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["EUR"],"repeat":["once","monthly","bimonthly","quarterly","semiannual","annual"],"companyCountry":["AT","BE","CY","EE","FI","FR","DE","GR","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SG","SK","SI","ES","SE"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":true}},"widget":{"amount":{"minAmount":{"size":200,"currency":"EUR"}},"currency":["EUR"],"companyCountry":["AT","BE","CY","EE","FI","FR","DE","GR","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SG","SK","SI","ES","SE"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"requiredIfIbanCountry":["AD","PF","TF","GI","GB","GG","VA","IM","JE","MC","NC","BL","PM","SM","CH","WF"]},"repeat":["once","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["EUR"],"companyCountry":["AT","BE","CY","EE","FI","FR","DE","GR","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SG","SK","SI","ES","SE"],"address":{"requiredIfIbanCountry":["AD","PF","TF","GI","GB","GG","VA","IM","JE","MC","NC","BL","PM","SM","CH","WF"]},"email":{"required":true},"repeat":["once","monthly","bimonthly","quarterly","semiannual","annual"]}}')},21600:function(e){"use strict";e.exports=JSON.parse('{"name":"Stock","provider":"plaid","subscription":false,"donorPortalSubscriptionEditor":{},"dashboardSubscriptionEditor":{},"widget":{"amount":{"availableAll":true},"currency":{"availableAll":true},"companyCountry":{"availableAll":true},"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once"]},"virtualTerminal":{}}')},21433:function(e){"use strict";e.exports=JSON.parse('{"name":"Bacs Direct Debit","provider":"stripe","subscription":true,"donorPortalSubscriptionEditor":{"amount":{"minAmount":{"size":200,"currency":"GBP"}},"currency":["GBP"],"companyCountry":["GB"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":true},"repeat":["weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"dashboardSubscriptionEditor":{"amount":{"availableAll":true},"currency":["GBP"],"companyCountry":["GB"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":true},"repeat":["weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"widget":{"amount":{"minAmount":{"size":200,"currency":"GBP"}},"currency":["GBP"],"companyCountry":["GB"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":true},"repeat":["weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]},"virtualTerminal":{"amount":{"availableAll":true},"currency":["GBP"],"companyCountry":["GB"],"customerCountry":{"availableAll":true},"email":{"required":true},"address":{"required":true},"repeat":["weekly","biweekly","monthly","bimonthly","quarterly","semiannual","annual"]}}')},16660:function(e){"use strict";e.exports=JSON.parse('{"name":"Venmo","provider":"paypal","subscription":false,"donorPortalSubscriptionEditor":{},"dashboardSubscriptionEditor":{},"widget":{"amount":{"availableAll":true},"currency":["USD"],"companyCountry":["US"],"customerCountry":{"availableAll":true},"email":{"required":false},"address":{"required":false},"repeat":["once"]},"virtualTerminal":{}}')}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,loaded:!1,exports:{}};return a[e].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=a,e=[],s.O=function(t,n,r,i){if(!n){var a=1/0;for(l=0;l<e.length;l++){n=e[l][0],r=e[l][1],i=e[l][2];for(var o=!0,u=0;u<n.length;u++)(!1&i||a>=i)&&Object.keys(s.O).every((function(e){return s.O[e](n[u])}))?n.splice(u--,1):(o=!1,i<a&&(a=i));if(o){e.splice(l--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,r,i]},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},s.t=function(e,r){if(1&r&&(e=this(e)),8&r)return e;if("object"==typeof e&&e){if(4&r&&e.__esModule)return e;if(16&r&&"function"==typeof e.then)return e}var i=Object.create(null);s.r(i);var a={};t=t||[null,n({}),n([]),n(n)];for(var o=2&r&&e;"object"==typeof o&&!~t.indexOf(o);o=n(o))Object.getOwnPropertyNames(o).forEach((function(t){a[t]=function(){return e[t]}}));return a.default=function(){return e},s.d(i,a),i},s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(t,n){return s.f[n](e,t),t}),[]))},s.u=function(e){return({655:"checkout-locale17",739:"checkout-rtl-styles",1598:"checkout-locale6",1671:"checkout-locale0",1966:"checkout-locale9",2377:"checkout-locale7",3018:"checkout-locale15",3565:"checkout-locale10",3870:"checkout-locale11",5412:"checkout-locale20",5831:"checkout-locale14",6580:"checkout-styles",6665:"checkout-locale21",6829:"checkout-locale16",6895:"checkout-locale18",6920:"checkout-locale13",7330:"checkout-locale19",7592:"checkout-locale1",7842:"checkout-locale8",7906:"checkout-locale12",8365:"checkout-locale3",8524:"checkout-locale2",8920:"checkout-locale4",9503:"checkout-locale5"}[e]||e)+"."+{30:"05c3a5956f04796e29d3",442:"4e5f79973c630bb626de",655:"bcc1934379b634423940",739:"1be3c40876c9bada80aa",1191:"74bbf2d235eb1e378a08",1477:"9451043cbde16aa67248",1498:"40a866c411f71d0b65fc",1598:"48414c49622b64bdd290",1671:"496c354bb67c46d350bd",1966:"01c7a85b5167ec68db9b",2097:"2a3d65fba89aa2a8b511",2169:"c126dfc3ed9eb05d8b5c",2184:"7056fa18a8589455e52a",2377:"87f0e4209634b976e726",2479:"d2a1233095c5315a836e",2547:"10798a8fc883468c2b5b",2588:"fe0115e3a8e935f60261",2678:"7eeabd299cb370243df0",3018:"9f32e1c7c74ff68851d9",3125:"aa6945eb4633eea5b34c",3328:"891098b3005581b65231",3565:"3d8b4d628e4c7708a203",3589:"69948f1722932cf5f7ae",3861:"5015c33bc51a5a5583af",3870:"d85c5c923c60f4fbef0a",4513:"739e9ac66796713a8f3f",4929:"9d1c3c1b1d5f75bd23b1",5048:"6e8931d2b92db86475c9",5083:"f1992202fede824f1fd2",5242:"3e5c8afadf7b07aa488e",5285:"f7f9aa0eaa6032a5f6e6",5406:"e54d75b920ae80415a33",5412:"8a7d429dfb76934fe1c6",5831:"215db9e91177102b5498",6148:"b0ee64461a8e76d1b289",6464:"17c59201b1be35e6b178",6483:"3a7f00441831a2278bae",6580:"6e846d5fef6fab3a85c8",6639:"a4828a9cf54a89d0e137",6641:"97c3ceda33c24c134626",6665:"e4fdb65861bb378c2f2d",6691:"d409a540ed3a9aa7cd1e",6695:"75af804c629f7ced9840",6708:"c707367a0ceb85713434",6829:"70e379981828aad1ce32",6850:"d6ff2bb688c88db62314",6895:"48af7dff320c7e92b9e8",6920:"1583657ac980d04f85b8",6972:"a3d2686409a25364fdc1",7039:"1da6c54817c097d442b5",7062:"2d8f1ce3c28309416fb5",7330:"b421981657d0c9e004f2",7379:"2f9bc5291e27998e5811",7438:"3af537e82d381e4e645c",7565:"e430300340f10ec622dc",7592:"99da3944c1a5a77628a1",7618:"a9fe374f48d2d620bd9b",7756:"e45669ef50fd9252e48e",7793:"d9d33e81e1a5a750abfd",7842:"dc267407ab906ab7c003",7843:"a1ffd2ec47100a36dc7e",7873:"cae9b4720ab2c5cb3e94",7906:"e109aa94731feeccce56",7916:"d3205f6f6b58851daa75",8054:"d3a5f7ee4f199d410494",8113:"ae9cf0d396b0c1617872",8225:"f480668b18a20719e65d",8365:"850da240e8e300033632",8377:"4cab4b3f21873c85c507",8474:"e8ba1c9bba6a330e363b",8524:"d75f1dd4d3003db860b6",8652:"86524bc90fe836031423",8766:"e88ecc82deb16876be0e",8817:"899af1cdc7e8235ad5f7",8898:"a87b6abcf76b077908dc",8920:"7ea7d140273a28823b78",8979:"1229d569498be4f0e070",9064:"7e4f59e5bc4cf478111f",9127:"c9693c7d39e7248562cd",9151:"4f053ddd95732bf59668",9369:"1e62c895d5c9e6d9acbb",9503:"ff415cd8c081a3d8d711",9755:"454eb600335b4eaba50b",9770:"97034978e213e7662eb6",9989:"9f15e32400673023590c"}[e]+".js"},s.miniCssF=function(e){},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r={},i="@fundraiseup/checkout:",s.l=function(e,t,n,a){if(r[e])r[e].push(t);else{var o,u;if(void 0!==n)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var h=c[l];if(h.getAttribute("src")==e||h.getAttribute("data-webpack")==i+n){o=h;break}}o||(u=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",i+n),o.src=e),r[e]=[t];var d=function(t,n){o.onerror=o.onload=null,clearTimeout(f);var i=r[e];if(delete r[e],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),u&&document.head.appendChild(o)}},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},s.p="https://static.fundraiseup.com/",function(){s.b=document.baseURI||self.location.href;var e={4231:0};s.f.j=function(t,n){var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=i);var a=s.p+s.u(t),o=new Error;s.l(a,(function(n){if(s.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,r[1](o)}}),"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,n){var r,i,a=n[0],o=n[1],u=n[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(r in o)s.o(o,r)&&(s.m[r]=o[r]);if(u)var l=u(s)}for(t&&t(n);c<a.length;c++)i=a[c],s.o(e,i)&&e[i]&&e[i][0](),e[a[c]]=0;return s.O(l)},n=self.webpackChunk_fundraiseup_checkout=self.webpackChunk_fundraiseup_checkout||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var u=s.O(void 0,[9082],(function(){return s(97674)}));u=s.O(u)}();